var e=Object.create,t=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,i=Object.getPrototypeOf,a=Object.prototype.hasOwnProperty,o=(e,t)=>()=>(e&&(t=e(e=0)),t),s=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),c=e=>{let n={};for(var r in e)t(n,r,{get:e[r],enumerable:!0});return n},l=(e,i,o,s)=>{if(i&&typeof i==`object`||typeof i==`function`)for(var c=r(i),l=0,u=c.length,d;l<u;l++)d=c[l],!a.call(e,d)&&d!==o&&t(e,d,{get:(e=>i[e]).bind(null,d),enumerable:!(s=n(i,d))||s.enumerable});return e},u=(n,r,a)=>(a=n==null?{}:e(i(n)),l(r||!n||!n.__esModule?t(a,`default`,{value:n,enumerable:!0}):a,n)),d=e=>l(t({},`__esModule`,{value:!0}),e);(function(){let e=document.createElement(`link`).relList;if(e&&e.supports&&e.supports(`modulepreload`))return;for(let e of document.querySelectorAll(`link[rel="modulepreload"]`))n(e);new MutationObserver(e=>{for(let t of e)if(t.type===`childList`)for(let e of t.addedNodes)e.tagName===`LINK`&&e.rel===`modulepreload`&&n(e)}).observe(document,{childList:!0,subtree:!0});function t(e){let t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin===`use-credentials`?t.credentials=`include`:e.crossOrigin===`anonymous`?t.credentials=`omit`:t.credentials=`same-origin`,t}function n(e){if(e.ep)return;e.ep=!0;let n=t(e);fetch(e.href,n)}})();var f=s((e=>{var t=Symbol.for(`react.transitional.element`),n=Symbol.for(`react.portal`),r=Symbol.for(`react.fragment`),i=Symbol.for(`react.strict_mode`),a=Symbol.for(`react.profiler`),o=Symbol.for(`react.consumer`),s=Symbol.for(`react.context`),c=Symbol.for(`react.forward_ref`),l=Symbol.for(`react.suspense`),u=Symbol.for(`react.memo`),d=Symbol.for(`react.lazy`),f=Symbol.for(`react.activity`),p=Symbol.iterator;function m(e){return typeof e!=`object`||!e?null:(e=p&&e[p]||e[`@@iterator`],typeof e==`function`?e:null)}var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,_={};function v(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||h}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if(typeof e!=`object`&&typeof e!=`function`&&e!=null)throw Error(`takes an object of state variables to update or a function which returns an object of state variables.`);this.updater.enqueueSetState(this,e,t,`setState`)},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,`forceUpdate`)};function y(){}y.prototype=v.prototype;function b(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||h}var x=b.prototype=new y;x.constructor=b,g(x,v.prototype),x.isPureReactComponent=!0;var S=Array.isArray;function C(){}var w={H:null,A:null,T:null,S:null},T=Object.prototype.hasOwnProperty;function E(e,n,r){var i=r.ref;return{$$typeof:t,type:e,key:n,ref:i===void 0?null:i,props:r}}function D(e,t){return E(e.type,t,e.props)}function O(e){return typeof e==`object`&&!!e&&e.$$typeof===t}function k(e){var t={"=":`=0`,":":`=2`};return`$`+e.replace(/[=:]/g,function(e){return t[e]})}var A=/\/+/g;function j(e,t){return typeof e==`object`&&e&&e.key!=null?k(``+e.key):t.toString(36)}function ee(e){switch(e.status){case`fulfilled`:return e.value;case`rejected`:throw e.reason;default:switch(typeof e.status==`string`?e.then(C,C):(e.status=`pending`,e.then(function(t){e.status===`pending`&&(e.status=`fulfilled`,e.value=t)},function(t){e.status===`pending`&&(e.status=`rejected`,e.reason=t)})),e.status){case`fulfilled`:return e.value;case`rejected`:throw e.reason}}throw e}function M(e,r,i,a,o){var s=typeof e;(s===`undefined`||s===`boolean`)&&(e=null);var c=!1;if(e===null)c=!0;else switch(s){case`bigint`:case`string`:case`number`:c=!0;break;case`object`:switch(e.$$typeof){case t:case n:c=!0;break;case d:return c=e._init,M(c(e._payload),r,i,a,o)}}if(c)return o=o(e),c=a===``?`.`+j(e,0):a,S(o)?(i=``,c!=null&&(i=c.replace(A,`$&/`)+`/`),M(o,r,i,``,function(e){return e})):o!=null&&(O(o)&&(o=D(o,i+(o.key==null||e&&e.key===o.key?``:(``+o.key).replace(A,`$&/`)+`/`)+c)),r.push(o)),1;c=0;var l=a===``?`.`:a+`:`;if(S(e))for(var u=0;u<e.length;u++)a=e[u],s=l+j(a,u),c+=M(a,r,i,s,o);else if(u=m(e),typeof u==`function`)for(e=u.call(e),u=0;!(a=e.next()).done;)a=a.value,s=l+j(a,u++),c+=M(a,r,i,s,o);else if(s===`object`){if(typeof e.then==`function`)return M(ee(e),r,i,a,o);throw r=String(e),Error(`Objects are not valid as a React child (found: `+(r===`[object Object]`?`object with keys {`+Object.keys(e).join(`, `)+`}`:r)+`). If you meant to render a collection of children, use an array instead.`)}return c}function te(e,t,n){if(e==null)return e;var r=[],i=0;return M(e,r,``,``,function(e){return t.call(n,e,i++)}),r}function N(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(t){(e._status===0||e._status===-1)&&(e._status=1,e._result=t)},function(t){(e._status===0||e._status===-1)&&(e._status=2,e._result=t)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var P=typeof reportError==`function`?reportError:function(e){if(typeof window==`object`&&typeof window.ErrorEvent==`function`){var t=new window.ErrorEvent(`error`,{bubbles:!0,cancelable:!0,message:typeof e==`object`&&e&&typeof e.message==`string`?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process==`object`&&typeof process.emit==`function`){process.emit(`uncaughtException`,e);return}console.error(e)},F={map:te,forEach:function(e,t,n){te(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return te(e,function(){t++}),t},toArray:function(e){return te(e,function(e){return e})||[]},only:function(e){if(!O(e))throw Error(`React.Children.only expected to receive a single React element child.`);return e}};e.Activity=f,e.Children=F,e.Component=v,e.Fragment=r,e.Profiler=a,e.PureComponent=b,e.StrictMode=i,e.Suspense=l,e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,e.__COMPILER_RUNTIME={__proto__:null,c:function(e){return w.H.useMemoCache(e)}},e.cache=function(e){return function(){return e.apply(null,arguments)}},e.cacheSignal=function(){return null},e.cloneElement=function(e,t,n){if(e==null)throw Error(`The argument must be a React element, but you passed `+e+`.`);var r=g({},e.props),i=e.key;if(t!=null)for(a in t.key!==void 0&&(i=``+t.key),t)!T.call(t,a)||a===`key`||a===`__self`||a===`__source`||a===`ref`&&t.ref===void 0||(r[a]=t[a]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var o=Array(a),s=0;s<a;s++)o[s]=arguments[s+2];r.children=o}return E(e.type,i,r)},e.createContext=function(e){return e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:o,_context:e},e},e.createElement=function(e,t,n){var r,i={},a=null;if(t!=null)for(r in t.key!==void 0&&(a=``+t.key),t)T.call(t,r)&&r!==`key`&&r!==`__self`&&r!==`__source`&&(i[r]=t[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var s=Array(o),c=0;c<o;c++)s[c]=arguments[c+2];i.children=s}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return E(e,a,i)},e.createRef=function(){return{current:null}},e.forwardRef=function(e){return{$$typeof:c,render:e}},e.isValidElement=O,e.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:N}},e.memo=function(e,t){return{$$typeof:u,type:e,compare:t===void 0?null:t}},e.startTransition=function(e){var t=w.T,n={};w.T=n;try{var r=e(),i=w.S;i!==null&&i(n,r),typeof r==`object`&&r&&typeof r.then==`function`&&r.then(C,P)}catch(e){P(e)}finally{t!==null&&n.types!==null&&(t.types=n.types),w.T=t}},e.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},e.use=function(e){return w.H.use(e)},e.useActionState=function(e,t,n){return w.H.useActionState(e,t,n)},e.useCallback=function(e,t){return w.H.useCallback(e,t)},e.useContext=function(e){return w.H.useContext(e)},e.useDebugValue=function(){},e.useDeferredValue=function(e,t){return w.H.useDeferredValue(e,t)},e.useEffect=function(e,t){return w.H.useEffect(e,t)},e.useEffectEvent=function(e){return w.H.useEffectEvent(e)},e.useId=function(){return w.H.useId()},e.useImperativeHandle=function(e,t,n){return w.H.useImperativeHandle(e,t,n)},e.useInsertionEffect=function(e,t){return w.H.useInsertionEffect(e,t)},e.useLayoutEffect=function(e,t){return w.H.useLayoutEffect(e,t)},e.useMemo=function(e,t){return w.H.useMemo(e,t)},e.useOptimistic=function(e,t){return w.H.useOptimistic(e,t)},e.useReducer=function(e,t,n){return w.H.useReducer(e,t,n)},e.useRef=function(e){return w.H.useRef(e)},e.useState=function(e){return w.H.useState(e)},e.useSyncExternalStore=function(e,t,n){return w.H.useSyncExternalStore(e,t,n)},e.useTransition=function(){return w.H.useTransition()},e.version=`19.2.0`})),p=s(((e,t)=>{t.exports=f()})),m=s((e=>{function t(e,t){var n=e.length;e.push(t);a:for(;0<n;){var r=n-1>>>1,a=e[r];if(0<i(a,t))e[r]=t,e[n]=a,n=r;else break a}}function n(e){return e.length===0?null:e[0]}function r(e){if(e.length===0)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;a:for(var r=0,a=e.length,o=a>>>1;r<o;){var s=2*(r+1)-1,c=e[s],l=s+1,u=e[l];if(0>i(c,n))l<a&&0>i(u,c)?(e[r]=u,e[l]=n,r=l):(e[r]=c,e[s]=n,r=s);else if(l<a&&0>i(u,n))e[r]=u,e[l]=n,r=l;else break a}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return n===0?e.id-t.id:n}if(e.unstable_now=void 0,typeof performance==`object`&&typeof performance.now==`function`){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var c=[],l=[],u=1,d=null,f=3,p=!1,m=!1,h=!1,g=!1,_=typeof setTimeout==`function`?setTimeout:null,v=typeof clearTimeout==`function`?clearTimeout:null,y=typeof setImmediate<`u`?setImmediate:null;function b(e){for(var i=n(l);i!==null;){if(i.callback===null)r(l);else if(i.startTime<=e)r(l),i.sortIndex=i.expirationTime,t(c,i);else break;i=n(l)}}function x(e){if(h=!1,b(e),!m)if(n(c)!==null)m=!0,S||(S=!0,O());else{var t=n(l);t!==null&&j(x,t.startTime-e)}}var S=!1,C=-1,w=5,T=-1;function E(){return g?!0:!(e.unstable_now()-T<w)}function D(){if(g=!1,S){var t=e.unstable_now();T=t;var i=!0;try{a:{m=!1,h&&(h=!1,v(C),C=-1),p=!0;var a=f;try{b:{for(b(t),d=n(c);d!==null&&!(d.expirationTime>t&&E());){var o=d.callback;if(typeof o==`function`){d.callback=null,f=d.priorityLevel;var s=o(d.expirationTime<=t);if(t=e.unstable_now(),typeof s==`function`){d.callback=s,b(t),i=!0;break b}d===n(c)&&r(c),b(t)}else r(c);d=n(c)}if(d!==null)i=!0;else{var u=n(l);u!==null&&j(x,u.startTime-t),i=!1}}break a}finally{d=null,f=a,p=!1}i=void 0}}finally{i?O():S=!1}}}var O;if(typeof y==`function`)O=function(){y(D)};else if(typeof MessageChannel<`u`){var k=new MessageChannel,A=k.port2;k.port1.onmessage=D,O=function(){A.postMessage(null)}}else O=function(){_(D,0)};function j(t,n){C=_(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error(`forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported`):w=0<e?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},e.unstable_requestPaint=function(){g=!0},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},e.unstable_scheduleCallback=function(r,i,a){var o=e.unstable_now();switch(typeof a==`object`&&a?(a=a.delay,a=typeof a==`number`&&0<a?o+a:o):a=o,r){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return s=a+s,r={id:u++,callback:i,priorityLevel:r,startTime:a,expirationTime:s,sortIndex:-1},a>o?(r.sortIndex=a,t(l,r),n(c)===null&&r===n(l)&&(h?(v(C),C=-1):h=!0,j(x,a-o))):(r.sortIndex=s,t(c,r),m||p||(m=!0,S||(S=!0,O()))),r},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}})),h=s(((e,t)=>{t.exports=m()})),g=s((e=>{var t=p();function n(e){var t=`https://react.dev/errors/`+e;if(1<arguments.length){t+=`?args[]=`+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+=`&args[]=`+encodeURIComponent(arguments[n])}return`Minified React error #`+e+`; visit `+t+` for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`}function r(){}var i={d:{f:r,r:function(){throw Error(n(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for(`react.portal`);function o(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:r==null?null:``+r,children:e,containerInfo:t,implementation:n}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){if(e===`font`)return``;if(typeof t==`string`)return t===`use-credentials`?t:``}e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,e.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(n(299));return o(e,t,null,r)},e.flushSync=function(e){var t=s.T,n=i.p;try{if(s.T=null,i.p=2,e)return e()}finally{s.T=t,i.p=n,i.d.f()}},e.preconnect=function(e,t){typeof e==`string`&&(t?(t=t.crossOrigin,t=typeof t==`string`?t===`use-credentials`?t:``:void 0):t=null,i.d.C(e,t))},e.prefetchDNS=function(e){typeof e==`string`&&i.d.D(e)},e.preinit=function(e,t){if(typeof e==`string`&&t&&typeof t.as==`string`){var n=t.as,r=c(n,t.crossOrigin),a=typeof t.integrity==`string`?t.integrity:void 0,o=typeof t.fetchPriority==`string`?t.fetchPriority:void 0;n===`style`?i.d.S(e,typeof t.precedence==`string`?t.precedence:void 0,{crossOrigin:r,integrity:a,fetchPriority:o}):n===`script`&&i.d.X(e,{crossOrigin:r,integrity:a,fetchPriority:o,nonce:typeof t.nonce==`string`?t.nonce:void 0})}},e.preinitModule=function(e,t){if(typeof e==`string`)if(typeof t==`object`&&t){if(t.as==null||t.as===`script`){var n=c(t.as,t.crossOrigin);i.d.M(e,{crossOrigin:n,integrity:typeof t.integrity==`string`?t.integrity:void 0,nonce:typeof t.nonce==`string`?t.nonce:void 0})}}else t??i.d.M(e)},e.preload=function(e,t){if(typeof e==`string`&&typeof t==`object`&&t&&typeof t.as==`string`){var n=t.as,r=c(n,t.crossOrigin);i.d.L(e,n,{crossOrigin:r,integrity:typeof t.integrity==`string`?t.integrity:void 0,nonce:typeof t.nonce==`string`?t.nonce:void 0,type:typeof t.type==`string`?t.type:void 0,fetchPriority:typeof t.fetchPriority==`string`?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy==`string`?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet==`string`?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes==`string`?t.imageSizes:void 0,media:typeof t.media==`string`?t.media:void 0})}},e.preloadModule=function(e,t){if(typeof e==`string`)if(t){var n=c(t.as,t.crossOrigin);i.d.m(e,{as:typeof t.as==`string`&&t.as!==`script`?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity==`string`?t.integrity:void 0})}else i.d.m(e)},e.requestFormReset=function(e){i.d.r(e)},e.unstable_batchedUpdates=function(e,t){return e(t)},e.useFormState=function(e,t,n){return s.H.useFormState(e,t,n)},e.useFormStatus=function(){return s.H.useHostTransitionStatus()},e.version=`19.2.0`})),_=s(((e,t)=>{function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>`u`||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=`function`))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}n(),t.exports=g()})),v=s((e=>{var t=h(),n=p(),r=_();function i(e){var t=`https://react.dev/errors/`+e;if(1<arguments.length){t+=`?args[]=`+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+=`&args[]=`+encodeURIComponent(arguments[n])}return`Minified React error #`+e+`; visit `+t+` for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`}function a(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function o(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function s(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function c(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function l(e){if(o(e)!==e)throw Error(i(188))}function u(e){var t=e.alternate;if(!t){if(t=o(e),t===null)throw Error(i(188));return t===e?e:null}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var s=a.alternate;if(s===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===n)return l(a),e;if(s===r)return l(a),t;s=s.sibling}throw Error(i(188))}if(n.return!==r.return)n=a,r=s;else{for(var c=!1,u=a.child;u;){if(u===n){c=!0,n=a,r=s;break}if(u===r){c=!0,r=a,n=s;break}u=u.sibling}if(!c){for(u=s.child;u;){if(u===n){c=!0,n=s,r=a;break}if(u===r){c=!0,r=s,n=a;break}u=u.sibling}if(!c)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(n.tag!==3)throw Error(i(188));return n.stateNode.current===n?e:t}function d(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=d(e),t!==null)return t;e=e.sibling}return null}var f=Object.assign,m=Symbol.for(`react.element`),g=Symbol.for(`react.transitional.element`),v=Symbol.for(`react.portal`),y=Symbol.for(`react.fragment`),b=Symbol.for(`react.strict_mode`),x=Symbol.for(`react.profiler`),S=Symbol.for(`react.consumer`),C=Symbol.for(`react.context`),w=Symbol.for(`react.forward_ref`),T=Symbol.for(`react.suspense`),E=Symbol.for(`react.suspense_list`),D=Symbol.for(`react.memo`),O=Symbol.for(`react.lazy`),k=Symbol.for(`react.activity`),A=Symbol.for(`react.memo_cache_sentinel`),j=Symbol.iterator;function ee(e){return typeof e!=`object`||!e?null:(e=j&&e[j]||e[`@@iterator`],typeof e==`function`?e:null)}var M=Symbol.for(`react.client.reference`);function te(e){if(e==null)return null;if(typeof e==`function`)return e.$$typeof===M?null:e.displayName||e.name||null;if(typeof e==`string`)return e;switch(e){case y:return`Fragment`;case x:return`Profiler`;case b:return`StrictMode`;case T:return`Suspense`;case E:return`SuspenseList`;case k:return`Activity`}if(typeof e==`object`)switch(e.$$typeof){case v:return`Portal`;case C:return e.displayName||`Context`;case S:return(e._context.displayName||`Context`)+`.Consumer`;case w:var t=e.render;return e=e.displayName,e||=(e=t.displayName||t.name||``,e===``?`ForwardRef`:`ForwardRef(`+e+`)`),e;case D:return t=e.displayName||null,t===null?te(e.type)||`Memo`:t;case O:t=e._payload,e=e._init;try{return te(e(t))}catch{}}return null}var N=Array.isArray,P=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I={pending:!1,data:null,method:null,action:null},L=[],ne=-1;function R(e){return{current:e}}function z(e){0>ne||(e.current=L[ne],L[ne]=null,ne--)}function B(e,t){ne++,L[ne]=e.current,e.current=t}var re=R(null),V=R(null),ie=R(null),ae=R(null);function oe(e,t){switch(B(ie,t),B(V,e),B(re,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Vd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Vd(t),e=Hd(t,e);else switch(e){case`svg`:e=1;break;case`math`:e=2;break;default:e=0}}z(re),B(re,e)}function se(){z(re),z(V),z(ie)}function ce(e){e.memoizedState!==null&&B(ae,e);var t=re.current,n=Hd(t,e.type);t!==n&&(B(V,e),B(re,n))}function le(e){V.current===e&&(z(re),z(V)),ae.current===e&&(z(ae),Qf._currentValue=I)}var ue,de;function fe(e){if(ue===void 0)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);ue=t&&t[1]||``,de=-1<e.stack.indexOf(`
    at`)?` (<anonymous>)`:-1<e.stack.indexOf(`@`)?`@unknown:0:0`:``}return`
`+ue+e+de}var pe=!1;function me(e,t){if(!e||pe)return``;pe=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,`props`,{set:function(){throw Error()}}),typeof Reflect==`object`&&Reflect.construct){try{Reflect.construct(n,[])}catch(e){var r=e}Reflect.construct(e,[],n)}else{try{n.call()}catch(e){r=e}e.call(n.prototype)}}else{try{throw Error()}catch(e){r=e}(n=e())&&typeof n.catch==`function`&&n.catch(function(){})}}catch(e){if(e&&r&&typeof e.stack==`string`)return[e.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName=`DetermineComponentFrameRoot`;var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,`name`);i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,`name`,{value:`DetermineComponentFrameRoot`});var a=r.DetermineComponentFrameRoot(),o=a[0],s=a[1];if(o&&s){var c=o.split(`
`),l=s.split(`
`);for(i=r=0;r<c.length&&!c[r].includes(`DetermineComponentFrameRoot`);)r++;for(;i<l.length&&!l[i].includes(`DetermineComponentFrameRoot`);)i++;if(r===c.length||i===l.length)for(r=c.length-1,i=l.length-1;1<=r&&0<=i&&c[r]!==l[i];)i--;for(;1<=r&&0<=i;r--,i--)if(c[r]!==l[i]){if(r!==1||i!==1)do if(r--,i--,0>i||c[r]!==l[i]){var u=`
`+c[r].replace(` at new `,` at `);return e.displayName&&u.includes(`<anonymous>`)&&(u=u.replace(`<anonymous>`,e.displayName)),u}while(1<=r&&0<=i);break}}}finally{pe=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:``)?fe(n):``}function he(e,t){switch(e.tag){case 26:case 27:case 5:return fe(e.type);case 16:return fe(`Lazy`);case 13:return e.child!==t&&t!==null?fe(`Suspense Fallback`):fe(`Suspense`);case 19:return fe(`SuspenseList`);case 0:case 15:return me(e.type,!1);case 11:return me(e.type.render,!1);case 1:return me(e.type,!0);case 31:return fe(`Activity`);default:return``}}function ge(e){try{var t=``,n=null;do t+=he(e,n),n=e,e=e.return;while(e);return t}catch(e){return`
Error generating stack: `+e.message+`
`+e.stack}}var _e=Object.prototype.hasOwnProperty,ve=t.unstable_scheduleCallback,ye=t.unstable_cancelCallback,be=t.unstable_shouldYield,xe=t.unstable_requestPaint,Se=t.unstable_now,Ce=t.unstable_getCurrentPriorityLevel,we=t.unstable_ImmediatePriority,Te=t.unstable_UserBlockingPriority,Ee=t.unstable_NormalPriority,De=t.unstable_LowPriority,Oe=t.unstable_IdlePriority,ke=t.log,Ae=t.unstable_setDisableYieldValue,je=null,Me=null;function Ne(e){if(typeof ke==`function`&&Ae(e),Me&&typeof Me.setStrictMode==`function`)try{Me.setStrictMode(je,e)}catch{}}var Pe=Math.clz32?Math.clz32:Le,Fe=Math.log,Ie=Math.LN2;function Le(e){return e>>>=0,e===0?32:31-(Fe(e)/Ie|0)|0}var Re=256,ze=262144,Be=4194304;function Ve(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function He(e,t,n){var r=e.pendingLanes;if(r===0)return 0;var i=0,a=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var s=r&134217727;return s===0?(s=r&~a,s===0?o===0?n||(n=r&~e,n!==0&&(i=Ve(n))):i=Ve(o):i=Ve(s)):(r=s&~a,r===0?(o&=s,o===0?n||(n=s&~e,n!==0&&(i=Ve(n))):i=Ve(o)):i=Ve(r)),i===0?0:t!==0&&t!==i&&(t&a)===0&&(a=i&-i,n=t&-t,a>=n||a===32&&n&4194048)?t:i}function Ue(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function We(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ge(){var e=Be;return Be<<=1,!(Be&62914560)&&(Be=4194304),e}function Ke(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function qe(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Je(e,t,n,r,i,a){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,c=e.expirationTimes,l=e.hiddenUpdates;for(n=o&~n;0<n;){var u=31-Pe(n),d=1<<u;s[u]=0,c[u]=-1;var f=l[u];if(f!==null)for(l[u]=null,u=0;u<f.length;u++){var p=f[u];p!==null&&(p.lane&=-536870913)}n&=~d}r!==0&&Ye(e,r,0),a!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=a&~(o&~t))}function Ye(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-Pe(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|n&261930}function Xe(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Pe(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Ze(e,t){var n=t&-t;return n=n&42?1:Qe(n),(n&(e.suspendedLanes|t))===0?n:0}function Qe(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function $e(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function et(){var e=F.p;return e===0?(e=window.event,e===void 0?32:mp(e.type)):e}function tt(e,t){var n=F.p;try{return F.p=e,t()}finally{F.p=n}}var nt=Math.random().toString(36).slice(2),rt=`__reactFiber$`+nt,it=`__reactProps$`+nt,at=`__reactContainer$`+nt,ot=`__reactEvents$`+nt,st=`__reactListeners$`+nt,ct=`__reactHandles$`+nt,lt=`__reactResources$`+nt,ut=`__reactMarker$`+nt;function dt(e){delete e[rt],delete e[it],delete e[ot],delete e[st],delete e[ct]}function ft(e){var t=e[rt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[at]||n[rt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=df(e);e!==null;){if(n=e[rt])return n;e=df(e)}return t}e=n,n=e.parentNode}return null}function pt(e){if(e=e[rt]||e[at]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function mt(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(i(33))}function ht(e){var t=e[lt];return t||=e[lt]={hoistableStyles:new Map,hoistableScripts:new Map},t}function gt(e){e[ut]=!0}var _t=new Set,vt={};function yt(e,t){bt(e,t),bt(e+`Capture`,t)}function bt(e,t){for(vt[e]=t,e=0;e<t.length;e++)_t.add(t[e])}var xt=RegExp(`^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$`),St={},Ct={};function wt(e){return _e.call(Ct,e)?!0:_e.call(St,e)?!1:xt.test(e)?Ct[e]=!0:(St[e]=!0,!1)}function Tt(e,t,n){if(wt(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case`undefined`:case`function`:case`symbol`:e.removeAttribute(t);return;case`boolean`:var r=t.toLowerCase().slice(0,5);if(r!==`data-`&&r!==`aria-`){e.removeAttribute(t);return}}e.setAttribute(t,``+n)}}function Et(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case`undefined`:case`function`:case`symbol`:case`boolean`:e.removeAttribute(t);return}e.setAttribute(t,``+n)}}function Dt(e,t,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case`undefined`:case`function`:case`symbol`:case`boolean`:e.removeAttribute(n);return}e.setAttributeNS(t,n,``+r)}}function Ot(e){switch(typeof e){case`bigint`:case`boolean`:case`number`:case`string`:case`undefined`:return e;case`object`:return e;default:return``}}function kt(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()===`input`&&(t===`checkbox`||t===`radio`)}function At(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&r!==void 0&&typeof r.get==`function`&&typeof r.set==`function`){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=``+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=``+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function jt(e){if(!e._valueTracker){var t=kt(e)?`checked`:`value`;e._valueTracker=At(e,t,``+e[t])}}function Mt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r=``;return e&&(r=kt(e)?e.checked?`true`:`false`:e.value),e=r,e===n?!1:(t.setValue(e),!0)}function Nt(e){if(e||=typeof document<`u`?document:void 0,e===void 0)return null;try{return e.activeElement||e.body}catch{return e.body}}var Pt=/[\n"\\]/g;function Ft(e){return e.replace(Pt,function(e){return`\\`+e.charCodeAt(0).toString(16)+` `})}function It(e,t,n,r,i,a,o,s){e.name=``,o!=null&&typeof o!=`function`&&typeof o!=`symbol`&&typeof o!=`boolean`?e.type=o:e.removeAttribute(`type`),t==null?o!==`submit`&&o!==`reset`||e.removeAttribute(`value`):o===`number`?(t===0&&e.value===``||e.value!=t)&&(e.value=``+Ot(t)):e.value!==``+Ot(t)&&(e.value=``+Ot(t)),t==null?n==null?r!=null&&e.removeAttribute(`value`):Rt(e,o,Ot(n)):Rt(e,o,Ot(t)),i==null&&a!=null&&(e.defaultChecked=!!a),i!=null&&(e.checked=i&&typeof i!=`function`&&typeof i!=`symbol`),s!=null&&typeof s!=`function`&&typeof s!=`symbol`&&typeof s!=`boolean`?e.name=``+Ot(s):e.removeAttribute(`name`)}function Lt(e,t,n,r,i,a,o,s){if(a!=null&&typeof a!=`function`&&typeof a!=`symbol`&&typeof a!=`boolean`&&(e.type=a),t!=null||n!=null){if(!(a!==`submit`&&a!==`reset`||t!=null)){jt(e);return}n=n==null?``:``+Ot(n),t=t==null?n:``+Ot(t),s||t===e.value||(e.value=t),e.defaultValue=t}r??=i,r=typeof r!=`function`&&typeof r!=`symbol`&&!!r,e.checked=s?e.checked:!!r,e.defaultChecked=!!r,o!=null&&typeof o!=`function`&&typeof o!=`symbol`&&typeof o!=`boolean`&&(e.name=o),jt(e)}function Rt(e,t,n){t===`number`&&Nt(e.ownerDocument)===e||e.defaultValue===``+n||(e.defaultValue=``+n)}function zt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t[`$`+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty(`$`+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=``+Ot(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Bt(e,t,n){if(t!=null&&(t=``+Ot(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n==null?``:``+Ot(n)}function Vt(e,t,n,r){if(t==null){if(r!=null){if(n!=null)throw Error(i(92));if(N(r)){if(1<r.length)throw Error(i(93));r=r[0]}n=r}n??=``,t=n}n=Ot(t),e.defaultValue=n,r=e.textContent,r===n&&r!==``&&r!==null&&(e.value=r),jt(e)}function Ht(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ut=new Set(`animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp`.split(` `));function Wt(e,t,n){var r=t.indexOf(`--`)===0;n==null||typeof n==`boolean`||n===``?r?e.setProperty(t,``):t===`float`?e.cssFloat=``:e[t]=``:r?e.setProperty(t,n):typeof n!=`number`||n===0||Ut.has(t)?t===`float`?e.cssFloat=n:e[t]=(``+n).trim():e[t]=n+`px`}function Gt(e,t,n){if(t!=null&&typeof t!=`object`)throw Error(i(62));if(e=e.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf(`--`)===0?e.setProperty(r,``):r===`float`?e.cssFloat=``:e[r]=``);for(var a in t)r=t[a],t.hasOwnProperty(a)&&n[a]!==r&&Wt(e,a,r)}else for(var o in t)t.hasOwnProperty(o)&&Wt(e,o,t[o])}function Kt(e){if(e.indexOf(`-`)===-1)return!1;switch(e){case`annotation-xml`:case`color-profile`:case`font-face`:case`font-face-src`:case`font-face-uri`:case`font-face-format`:case`font-face-name`:case`missing-glyph`:return!1;default:return!0}}var qt=new Map([[`acceptCharset`,`accept-charset`],[`htmlFor`,`for`],[`httpEquiv`,`http-equiv`],[`crossOrigin`,`crossorigin`],[`accentHeight`,`accent-height`],[`alignmentBaseline`,`alignment-baseline`],[`arabicForm`,`arabic-form`],[`baselineShift`,`baseline-shift`],[`capHeight`,`cap-height`],[`clipPath`,`clip-path`],[`clipRule`,`clip-rule`],[`colorInterpolation`,`color-interpolation`],[`colorInterpolationFilters`,`color-interpolation-filters`],[`colorProfile`,`color-profile`],[`colorRendering`,`color-rendering`],[`dominantBaseline`,`dominant-baseline`],[`enableBackground`,`enable-background`],[`fillOpacity`,`fill-opacity`],[`fillRule`,`fill-rule`],[`floodColor`,`flood-color`],[`floodOpacity`,`flood-opacity`],[`fontFamily`,`font-family`],[`fontSize`,`font-size`],[`fontSizeAdjust`,`font-size-adjust`],[`fontStretch`,`font-stretch`],[`fontStyle`,`font-style`],[`fontVariant`,`font-variant`],[`fontWeight`,`font-weight`],[`glyphName`,`glyph-name`],[`glyphOrientationHorizontal`,`glyph-orientation-horizontal`],[`glyphOrientationVertical`,`glyph-orientation-vertical`],[`horizAdvX`,`horiz-adv-x`],[`horizOriginX`,`horiz-origin-x`],[`imageRendering`,`image-rendering`],[`letterSpacing`,`letter-spacing`],[`lightingColor`,`lighting-color`],[`markerEnd`,`marker-end`],[`markerMid`,`marker-mid`],[`markerStart`,`marker-start`],[`overlinePosition`,`overline-position`],[`overlineThickness`,`overline-thickness`],[`paintOrder`,`paint-order`],[`panose-1`,`panose-1`],[`pointerEvents`,`pointer-events`],[`renderingIntent`,`rendering-intent`],[`shapeRendering`,`shape-rendering`],[`stopColor`,`stop-color`],[`stopOpacity`,`stop-opacity`],[`strikethroughPosition`,`strikethrough-position`],[`strikethroughThickness`,`strikethrough-thickness`],[`strokeDasharray`,`stroke-dasharray`],[`strokeDashoffset`,`stroke-dashoffset`],[`strokeLinecap`,`stroke-linecap`],[`strokeLinejoin`,`stroke-linejoin`],[`strokeMiterlimit`,`stroke-miterlimit`],[`strokeOpacity`,`stroke-opacity`],[`strokeWidth`,`stroke-width`],[`textAnchor`,`text-anchor`],[`textDecoration`,`text-decoration`],[`textRendering`,`text-rendering`],[`transformOrigin`,`transform-origin`],[`underlinePosition`,`underline-position`],[`underlineThickness`,`underline-thickness`],[`unicodeBidi`,`unicode-bidi`],[`unicodeRange`,`unicode-range`],[`unitsPerEm`,`units-per-em`],[`vAlphabetic`,`v-alphabetic`],[`vHanging`,`v-hanging`],[`vIdeographic`,`v-ideographic`],[`vMathematical`,`v-mathematical`],[`vectorEffect`,`vector-effect`],[`vertAdvY`,`vert-adv-y`],[`vertOriginX`,`vert-origin-x`],[`vertOriginY`,`vert-origin-y`],[`wordSpacing`,`word-spacing`],[`writingMode`,`writing-mode`],[`xmlnsXlink`,`xmlns:xlink`],[`xHeight`,`x-height`]]),Jt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Yt(e){return Jt.test(``+e)?`javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')`:e}function Xt(){}var Zt=null;function Qt(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var $t=null,en=null;function tn(e){var t=pt(e);if(t&&(e=t.stateNode)){var n=e[it]||null;a:switch(e=t.stateNode,t.type){case`input`:if(It(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type===`radio`&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll(`input[name="`+Ft(``+t)+`"][type="radio"]`),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=r[it]||null;if(!a)throw Error(i(90));It(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)r=n[t],r.form===e.form&&Mt(r)}break a;case`textarea`:Bt(e,n.value,n.defaultValue);break a;case`select`:t=n.value,t!=null&&zt(e,!!n.multiple,t,!1)}}}var nn=!1;function rn(e,t,n){if(nn)return e(t,n);nn=!0;try{return e(t)}finally{if(nn=!1,($t!==null||en!==null)&&(_u(),$t&&(t=$t,e=en,en=$t=null,tn(t),e)))for(t=0;t<e.length;t++)tn(e[t])}}function an(e,t){var n=e.stateNode;if(n===null)return null;var r=n[it]||null;if(r===null)return null;n=r[t];a:switch(t){case`onClick`:case`onClickCapture`:case`onDoubleClick`:case`onDoubleClickCapture`:case`onMouseDown`:case`onMouseDownCapture`:case`onMouseMove`:case`onMouseMoveCapture`:case`onMouseUp`:case`onMouseUpCapture`:case`onMouseEnter`:(r=!r.disabled)||(e=e.type,r=!(e===`button`||e===`input`||e===`select`||e===`textarea`)),e=!r;break a;default:e=!1}if(e)return null;if(n&&typeof n!=`function`)throw Error(i(231,t,typeof n));return n}var on=!(typeof window>`u`||window.document===void 0||window.document.createElement===void 0),sn=!1;if(on)try{var cn={};Object.defineProperty(cn,`passive`,{get:function(){sn=!0}}),window.addEventListener(`test`,cn,cn),window.removeEventListener(`test`,cn,cn)}catch{sn=!1}var ln=null,un=null,dn=null;function fn(){if(dn)return dn;var e,t=un,n=t.length,r,i=`value`in ln?ln.value:ln.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[a-r];r++);return dn=i.slice(e,1<r?1-r:void 0)}function pn(e){var t=e.keyCode;return`charCode`in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function mn(){return!0}function hn(){return!1}function gn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented==null?!1===i.returnValue:i.defaultPrevented)?mn:hn,this.isPropagationStopped=hn,this}return f(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():typeof e.returnValue!=`unknown`&&(e.returnValue=!1),this.isDefaultPrevented=mn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():typeof e.cancelBubble!=`unknown`&&(e.cancelBubble=!0),this.isPropagationStopped=mn)},persist:function(){},isPersistent:mn}),t}var _n={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vn=gn(_n),yn=f({},_n,{view:0,detail:0}),bn=gn(yn),xn,Sn,Cn,wn=f({},yn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pn,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return`movementX`in e?e.movementX:(e!==Cn&&(Cn&&e.type===`mousemove`?(xn=e.screenX-Cn.screenX,Sn=e.screenY-Cn.screenY):Sn=xn=0,Cn=e),xn)},movementY:function(e){return`movementY`in e?e.movementY:Sn}}),Tn=gn(wn),En=gn(f({},wn,{dataTransfer:0})),Dn=gn(f({},yn,{relatedTarget:0})),H=gn(f({},_n,{animationName:0,elapsedTime:0,pseudoElement:0})),On=gn(f({},_n,{clipboardData:function(e){return`clipboardData`in e?e.clipboardData:window.clipboardData}})),kn=gn(f({},_n,{data:0})),An={Esc:`Escape`,Spacebar:` `,Left:`ArrowLeft`,Up:`ArrowUp`,Right:`ArrowRight`,Down:`ArrowDown`,Del:`Delete`,Win:`OS`,Menu:`ContextMenu`,Apps:`ContextMenu`,Scroll:`ScrollLock`,MozPrintableKey:`Unidentified`},jn={8:`Backspace`,9:`Tab`,12:`Clear`,13:`Enter`,16:`Shift`,17:`Control`,18:`Alt`,19:`Pause`,20:`CapsLock`,27:`Escape`,32:` `,33:`PageUp`,34:`PageDown`,35:`End`,36:`Home`,37:`ArrowLeft`,38:`ArrowUp`,39:`ArrowRight`,40:`ArrowDown`,45:`Insert`,46:`Delete`,112:`F1`,113:`F2`,114:`F3`,115:`F4`,116:`F5`,117:`F6`,118:`F7`,119:`F8`,120:`F9`,121:`F10`,122:`F11`,123:`F12`,144:`NumLock`,145:`ScrollLock`,224:`Meta`},Mn={Alt:`altKey`,Control:`ctrlKey`,Meta:`metaKey`,Shift:`shiftKey`};function Nn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Mn[e])?!!t[e]:!1}function Pn(){return Nn}var Fn=gn(f({},yn,{key:function(e){if(e.key){var t=An[e.key]||e.key;if(t!==`Unidentified`)return t}return e.type===`keypress`?(e=pn(e),e===13?`Enter`:String.fromCharCode(e)):e.type===`keydown`||e.type===`keyup`?jn[e.keyCode]||`Unidentified`:``},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pn,charCode:function(e){return e.type===`keypress`?pn(e):0},keyCode:function(e){return e.type===`keydown`||e.type===`keyup`?e.keyCode:0},which:function(e){return e.type===`keypress`?pn(e):e.type===`keydown`||e.type===`keyup`?e.keyCode:0}})),In=gn(f({},wn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Ln=gn(f({},yn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pn})),Rn=gn(f({},_n,{propertyName:0,elapsedTime:0,pseudoElement:0})),zn=gn(f({},wn,{deltaX:function(e){return`deltaX`in e?e.deltaX:`wheelDeltaX`in e?-e.wheelDeltaX:0},deltaY:function(e){return`deltaY`in e?e.deltaY:`wheelDeltaY`in e?-e.wheelDeltaY:`wheelDelta`in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Bn=gn(f({},_n,{newState:0,oldState:0})),Vn=[9,13,27,32],Hn=on&&`CompositionEvent`in window,Un=null;on&&`documentMode`in document&&(Un=document.documentMode);var Wn=on&&`TextEvent`in window&&!Un,Gn=on&&(!Hn||Un&&8<Un&&11>=Un),Kn=` `,qn=!1;function Jn(e,t){switch(e){case`keyup`:return Vn.indexOf(t.keyCode)!==-1;case`keydown`:return t.keyCode!==229;case`keypress`:case`mousedown`:case`focusout`:return!0;default:return!1}}function Yn(e){return e=e.detail,typeof e==`object`&&`data`in e?e.data:null}var Xn=!1;function Zn(e,t){switch(e){case`compositionend`:return Yn(t);case`keypress`:return t.which===32?(qn=!0,Kn):null;case`textInput`:return e=t.data,e===Kn&&qn?null:e;default:return null}}function Qn(e,t){if(Xn)return e===`compositionend`||!Hn&&Jn(e,t)?(e=fn(),dn=un=ln=null,Xn=!1,e):null;switch(e){case`paste`:return null;case`keypress`:if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case`compositionend`:return Gn&&t.locale!==`ko`?null:t.data;default:return null}}var $n={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function er(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t===`input`?!!$n[e.type]:t===`textarea`}function tr(e,t,n,r){$t?en?en.push(r):en=[r]:$t=r,t=Td(t,`onChange`),0<t.length&&(n=new vn(`onChange`,`change`,null,n,r),e.push({event:n,listeners:t}))}var nr=null,rr=null;function ir(e){_d(e,0)}function ar(e){if(Mt(mt(e)))return e}function or(e,t){if(e===`change`)return t}var sr=!1;if(on){var cr;if(on){var lr=`oninput`in document;if(!lr){var ur=document.createElement(`div`);ur.setAttribute(`oninput`,`return;`),lr=typeof ur.oninput==`function`}cr=lr}else cr=!1;sr=cr&&(!document.documentMode||9<document.documentMode)}function dr(){nr&&(nr.detachEvent(`onpropertychange`,fr),rr=nr=null)}function fr(e){if(e.propertyName===`value`&&ar(rr)){var t=[];tr(t,rr,e,Qt(e)),rn(ir,t)}}function pr(e,t,n){e===`focusin`?(dr(),nr=t,rr=n,nr.attachEvent(`onpropertychange`,fr)):e===`focusout`&&dr()}function mr(e){if(e===`selectionchange`||e===`keyup`||e===`keydown`)return ar(rr)}function hr(e,t){if(e===`click`)return ar(t)}function gr(e,t){if(e===`input`||e===`change`)return ar(t)}function _r(e,t){return e===t&&(e!==0||1/e==1/t)||e!==e&&t!==t}var vr=typeof Object.is==`function`?Object.is:_r;function yr(e,t){if(vr(e,t))return!0;if(typeof e!=`object`||!e||typeof t!=`object`||!t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!_e.call(t,i)||!vr(e[i],t[i]))return!1}return!0}function br(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function xr(e,t){var n=br(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}a:{for(;n;){if(n.nextSibling){n=n.nextSibling;break a}n=n.parentNode}n=void 0}n=br(n)}}function Sr(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Sr(e,t.parentNode):`contains`in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Cr(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Nt(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href==`string`}catch{n=!1}if(n)e=t.contentWindow;else break;t=Nt(e.document)}return t}function wr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t===`input`&&(e.type===`text`||e.type===`search`||e.type===`tel`||e.type===`url`||e.type===`password`)||t===`textarea`||e.contentEditable===`true`)}var Tr=on&&`documentMode`in document&&11>=document.documentMode,Er=null,Dr=null,Or=null,kr=!1;function Ar(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;kr||Er==null||Er!==Nt(r)||(r=Er,`selectionStart`in r&&wr(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Or&&yr(Or,r)||(Or=r,r=Td(Dr,`onSelect`),0<r.length&&(t=new vn(`onSelect`,`select`,null,t,n),e.push({event:t,listeners:r}),t.target=Er)))}function U(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n[`Webkit`+e]=`webkit`+t,n[`Moz`+e]=`moz`+t,n}var jr={animationend:U(`Animation`,`AnimationEnd`),animationiteration:U(`Animation`,`AnimationIteration`),animationstart:U(`Animation`,`AnimationStart`),transitionrun:U(`Transition`,`TransitionRun`),transitionstart:U(`Transition`,`TransitionStart`),transitioncancel:U(`Transition`,`TransitionCancel`),transitionend:U(`Transition`,`TransitionEnd`)},Mr={},Nr={};on&&(Nr=document.createElement(`div`).style,`AnimationEvent`in window||(delete jr.animationend.animation,delete jr.animationiteration.animation,delete jr.animationstart.animation),`TransitionEvent`in window||delete jr.transitionend.transition);function W(e){if(Mr[e])return Mr[e];if(!jr[e])return e;var t=jr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Nr)return Mr[e]=t[n];return e}var Pr=W(`animationend`),G=W(`animationiteration`),Fr=W(`animationstart`),Ir=W(`transitionrun`),Lr=W(`transitionstart`),Rr=W(`transitioncancel`),zr=W(`transitionend`),Br=new Map,Vr=`abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel`.split(` `);Vr.push(`scrollEnd`);function Hr(e,t){Br.set(e,t),yt(t,[e])}var Ur=typeof reportError==`function`?reportError:function(e){if(typeof window==`object`&&typeof window.ErrorEvent==`function`){var t=new window.ErrorEvent(`error`,{bubbles:!0,cancelable:!0,message:typeof e==`object`&&e&&typeof e.message==`string`?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process==`object`&&typeof process.emit==`function`){process.emit(`uncaughtException`,e);return}console.error(e)},Wr=[],Gr=0,K=0;function Kr(){for(var e=Gr,t=K=Gr=0;t<e;){var n=Wr[t];Wr[t++]=null;var r=Wr[t];Wr[t++]=null;var i=Wr[t];Wr[t++]=null;var a=Wr[t];if(Wr[t++]=null,r!==null&&i!==null){var o=r.pending;o===null?i.next=i:(i.next=o.next,o.next=i),r.pending=i}a!==0&&Xr(n,i,a)}}function qr(e,t,n,r){Wr[Gr++]=e,Wr[Gr++]=t,Wr[Gr++]=n,Wr[Gr++]=r,K|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function Jr(e,t,n,r){return qr(e,t,n,r),Zr(e)}function Yr(e,t){return qr(e,null,null,t),Zr(e)}function Xr(e,t,n){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n);for(var i=!1,a=e.return;a!==null;)a.childLanes|=n,r=a.alternate,r!==null&&(r.childLanes|=n),a.tag===22&&(e=a.stateNode,e===null||e._visibility&1||(i=!0)),e=a,a=a.return;return e.tag===3?(a=e.stateNode,i&&t!==null&&(i=31-Pe(n),e=a.hiddenUpdates,r=e[i],r===null?e[i]=[t]:r.push(t),t.lane=n|536870912),a):null}function Zr(e){if(50<cu)throw cu=0,lu=null,Error(i(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Qr={};function $r(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ei(e,t,n,r){return new $r(e,t,n,r)}function ti(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ni(e,t){var n=e.alternate;return n===null?(n=ei(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function ri(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ii(e,t,n,r,a,o){var s=0;if(r=e,typeof e==`function`)ti(e)&&(s=1);else if(typeof e==`string`)s=Uf(e,n,re.current)?26:e===`html`||e===`head`||e===`body`?27:5;else a:switch(e){case k:return e=ei(31,n,t,a),e.elementType=k,e.lanes=o,e;case y:return ai(n.children,a,o,t);case b:s=8,a|=24;break;case x:return e=ei(12,n,t,a|2),e.elementType=x,e.lanes=o,e;case T:return e=ei(13,n,t,a),e.elementType=T,e.lanes=o,e;case E:return e=ei(19,n,t,a),e.elementType=E,e.lanes=o,e;default:if(typeof e==`object`&&e)switch(e.$$typeof){case C:s=10;break a;case S:s=9;break a;case w:s=11;break a;case D:s=14;break a;case O:s=16,r=null;break a}s=29,n=Error(i(130,e===null?`null`:typeof e,``)),r=null}return t=ei(s,n,t,a),t.elementType=e,t.type=r,t.lanes=o,t}function ai(e,t,n,r){return e=ei(7,e,r,t),e.lanes=n,e}function oi(e,t,n){return e=ei(6,e,null,t),e.lanes=n,e}function si(e){var t=ei(18,null,null,0);return t.stateNode=e,t}function ci(e,t,n){return t=ei(4,e.children===null?[]:e.children,e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var li=new WeakMap;function ui(e,t){if(typeof e==`object`&&e){var n=li.get(e);return n===void 0?(t={value:e,source:t,stack:ge(t)},li.set(e,t),t):n}return{value:e,source:t,stack:ge(t)}}var di=[],fi=0,pi=null,mi=0,hi=[],gi=0,_i=null,vi=1,yi=``;function bi(e,t){di[fi++]=mi,di[fi++]=pi,pi=e,mi=t}function xi(e,t,n){hi[gi++]=vi,hi[gi++]=yi,hi[gi++]=_i,_i=e;var r=vi;e=yi;var i=32-Pe(r)-1;r&=~(1<<i),n+=1;var a=32-Pe(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,vi=1<<32-Pe(t)+i|n<<i|r,yi=a+e}else vi=1<<a|n<<i|r,yi=e}function Si(e){e.return!==null&&(bi(e,1),xi(e,1,0))}function Ci(e){for(;e===pi;)pi=di[--fi],di[fi]=null,mi=di[--fi],di[fi]=null;for(;e===_i;)_i=hi[--gi],hi[gi]=null,yi=hi[--gi],hi[gi]=null,vi=hi[--gi],hi[gi]=null}function wi(e,t){hi[gi++]=vi,hi[gi++]=yi,hi[gi++]=_i,vi=t.id,yi=t.overflow,_i=e}var Ti=null,Ei=null,Di=!1,Oi=null,ki=!1,Ai=Error(i(519));function ji(e){throw Li(ui(Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?`text`:`HTML`,``)),e)),Ai}function Mi(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[rt]=e,t[it]=r,n){case`dialog`:vd(`cancel`,t),vd(`close`,t);break;case`iframe`:case`object`:case`embed`:vd(`load`,t);break;case`video`:case`audio`:for(n=0;n<hd.length;n++)vd(hd[n],t);break;case`source`:vd(`error`,t);break;case`img`:case`image`:case`link`:vd(`error`,t),vd(`load`,t);break;case`details`:vd(`toggle`,t);break;case`input`:vd(`invalid`,t),Lt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case`select`:vd(`invalid`,t);break;case`textarea`:vd(`invalid`,t),Vt(t,r.value,r.defaultValue,r.children)}n=r.children,typeof n!=`string`&&typeof n!=`number`&&typeof n!=`bigint`||t.textContent===``+n||!0===r.suppressHydrationWarning||jd(t.textContent,n)?(r.popover!=null&&(vd(`beforetoggle`,t),vd(`toggle`,t)),r.onScroll!=null&&vd(`scroll`,t),r.onScrollEnd!=null&&vd(`scrollend`,t),r.onClick!=null&&(t.onclick=Xt),t=!0):t=!1,t||ji(e,!0)}function Ni(e){for(Ti=e.return;Ti;)switch(Ti.tag){case 5:case 31:case 13:ki=!1;return;case 27:case 3:ki=!0;return;default:Ti=Ti.return}}function Pi(e){if(e!==Ti)return!1;if(!Di)return Ni(e),Di=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!==`form`&&n!==`button`)||Ud(e.type,e.memoizedProps)),n=!n),n&&Ei&&ji(e),Ni(e),t===13){if(e=e.memoizedState,e=e===null?null:e.dehydrated,!e)throw Error(i(317));Ei=uf(e)}else if(t===31){if(e=e.memoizedState,e=e===null?null:e.dehydrated,!e)throw Error(i(317));Ei=uf(e)}else t===27?(t=Ei,Zd(e.type)?(e=lf,lf=null,Ei=e):Ei=t):Ei=Ti?cf(e.stateNode.nextSibling):null;return!0}function Fi(){Ei=Ti=null,Di=!1}function Ii(){var e=Oi;return e!==null&&(Jl===null?Jl=e:Jl.push.apply(Jl,e),Oi=null),e}function Li(e){Oi===null?Oi=[e]:Oi.push(e)}var Ri=R(null),zi=null,Bi=null;function Vi(e,t,n){B(Ri,t._currentValue),t._currentValue=n}function Hi(e){e._currentValue=Ri.current,z(Ri)}function Ui(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)===t?r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t):(e.childLanes|=t,r!==null&&(r.childLanes|=t)),e===n)break;e=e.return}}function Wi(e,t,n,r){var a=e.child;for(a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){var s=a.child;o=o.firstContext;a:for(;o!==null;){var c=o;o=a;for(var l=0;l<t.length;l++)if(c.context===t[l]){o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),Ui(o.return,n,e),r||(s=null);break a}o=c.next}}else if(a.tag===18){if(s=a.return,s===null)throw Error(i(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),Ui(s,n,e),s=null}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}}function Gi(e,t,n,r){e=null;for(var a=t,o=!1;a!==null;){if(!o){if(a.flags&524288)o=!0;else if(a.flags&262144)break}if(a.tag===10){var s=a.alternate;if(s===null)throw Error(i(387));if(s=s.memoizedProps,s!==null){var c=a.type;vr(a.pendingProps.value,s.value)||(e===null?e=[c]:e.push(c))}}else if(a===ae.current){if(s=a.alternate,s===null)throw Error(i(387));s.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(e===null?e=[Qf]:e.push(Qf))}a=a.return}e!==null&&Wi(t,e,n,r),t.flags|=262144}function Ki(e){for(e=e.firstContext;e!==null;){if(!vr(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function qi(e){zi=e,Bi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ji(e){return Xi(zi,e)}function Yi(e,t){return zi===null&&qi(e),Xi(e,t)}function Xi(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Bi===null){if(e===null)throw Error(i(308));Bi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Bi=Bi.next=t;return n}var Zi=typeof AbortController<`u`?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Qi=t.unstable_scheduleCallback,$i=t.unstable_NormalPriority,ea={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ta(){return{controller:new Zi,data:new Map,refCount:0}}function na(e){e.refCount--,e.refCount===0&&Qi($i,function(){e.controller.abort()})}var ra=null,ia=0,aa=0,oa=null;function sa(e,t){if(ra===null){var n=ra=[];ia=0,aa=ld(),oa={status:`pending`,value:void 0,then:function(e){n.push(e)}}}return ia++,t.then(ca,ca),t}function ca(){if(--ia===0&&ra!==null){oa!==null&&(oa.status=`fulfilled`);var e=ra;ra=null,aa=0,oa=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function la(e,t){var n=[],r={status:`pending`,value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status=`fulfilled`,r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status=`rejected`,r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}var ua=P.S;P.S=function(e,t){Zl=Se(),typeof t==`object`&&t&&typeof t.then==`function`&&sa(e,t),ua!==null&&ua(e,t)};var da=R(null);function fa(){var e=da.current;return e===null?Ml.pooledCache:e}function pa(e,t){t===null?B(da,da.current):B(da,t.pool)}function ma(){var e=fa();return e===null?null:{parent:ea._currentValue,pool:e}}var ha=Error(i(460)),ga=Error(i(474)),_a=Error(i(542)),va={then:function(){}};function ya(e){return e=e.status,e===`fulfilled`||e===`rejected`}function ba(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Xt,Xt),t=n),t.status){case`fulfilled`:return t.value;case`rejected`:throw e=t.reason,wa(e),e;default:if(typeof t.status==`string`)t.then(Xt,Xt);else{if(e=Ml,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=t,e.status=`pending`,e.then(function(e){if(t.status===`pending`){var n=t;n.status=`fulfilled`,n.value=e}},function(e){if(t.status===`pending`){var n=t;n.status=`rejected`,n.reason=e}})}switch(t.status){case`fulfilled`:return t.value;case`rejected`:throw e=t.reason,wa(e),e}throw Sa=t,ha}}function xa(e){try{var t=e._init;return t(e._payload)}catch(e){throw typeof e==`object`&&e&&typeof e.then==`function`?(Sa=e,ha):e}}var Sa=null;function Ca(){if(Sa===null)throw Error(i(459));var e=Sa;return Sa=null,e}function wa(e){if(e===ha||e===_a)throw Error(i(483))}var Ta=null,Ea=0;function Da(e){var t=Ea;return Ea+=1,Ta===null&&(Ta=[]),ba(Ta,e,t)}function Oa(e,t){t=t.props.ref,e.ref=t===void 0?null:t}function ka(e,t){throw t.$$typeof===m?Error(i(525)):(e=Object.prototype.toString.call(t),Error(i(31,e===`[object Object]`?`object with keys {`+Object.keys(t).join(`, `)+`}`:e)))}function Aa(e){function t(t,n){if(e){var r=t.deletions;r===null?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;r!==null;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;e!==null;)e.key===null?t.set(e.index,e):t.set(e.key,e),e=e.sibling;return t}function a(e,t){return e=ni(e,t),e.index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?(r=t.alternate,r===null?(t.flags|=67108866,n):(r=r.index,r<n?(t.flags|=67108866,n):r)):(t.flags|=1048576,n)}function s(t){return e&&t.alternate===null&&(t.flags|=67108866),t}function c(e,t,n,r){return t===null||t.tag!==6?(t=oi(n,e.mode,r),t.return=e,t):(t=a(t,n),t.return=e,t)}function l(e,t,n,r){var i=n.type;return i===y?d(e,t,n.props.children,r,n.key):t!==null&&(t.elementType===i||typeof i==`object`&&i&&i.$$typeof===O&&xa(i)===t.type)?(t=a(t,n.props),Oa(t,n),t.return=e,t):(t=ii(n.type,n.key,n.props,null,e.mode,r),Oa(t,n),t.return=e,t)}function u(e,t,n,r){return t===null||t.tag!==4||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?(t=ci(n,e.mode,r),t.return=e,t):(t=a(t,n.children||[]),t.return=e,t)}function d(e,t,n,r,i){return t===null||t.tag!==7?(t=ai(n,e.mode,r,i),t.return=e,t):(t=a(t,n),t.return=e,t)}function f(e,t,n){if(typeof t==`string`&&t!==``||typeof t==`number`||typeof t==`bigint`)return t=oi(``+t,e.mode,n),t.return=e,t;if(typeof t==`object`&&t){switch(t.$$typeof){case g:return n=ii(t.type,t.key,t.props,null,e.mode,n),Oa(n,t),n.return=e,n;case v:return t=ci(t,e.mode,n),t.return=e,t;case O:return t=xa(t),f(e,t,n)}if(N(t)||ee(t))return t=ai(t,e.mode,n,null),t.return=e,t;if(typeof t.then==`function`)return f(e,Da(t),n);if(t.$$typeof===C)return f(e,Yi(e,t),n);ka(e,t)}return null}function p(e,t,n,r){var i=t===null?null:t.key;if(typeof n==`string`&&n!==``||typeof n==`number`||typeof n==`bigint`)return i===null?c(e,t,``+n,r):null;if(typeof n==`object`&&n){switch(n.$$typeof){case g:return n.key===i?l(e,t,n,r):null;case v:return n.key===i?u(e,t,n,r):null;case O:return n=xa(n),p(e,t,n,r)}if(N(n)||ee(n))return i===null?d(e,t,n,r,null):null;if(typeof n.then==`function`)return p(e,t,Da(n),r);if(n.$$typeof===C)return p(e,t,Yi(e,n),r);ka(e,n)}return null}function m(e,t,n,r,i){if(typeof r==`string`&&r!==``||typeof r==`number`||typeof r==`bigint`)return e=e.get(n)||null,c(t,e,``+r,i);if(typeof r==`object`&&r){switch(r.$$typeof){case g:return e=e.get(r.key===null?n:r.key)||null,l(t,e,r,i);case v:return e=e.get(r.key===null?n:r.key)||null,u(t,e,r,i);case O:return r=xa(r),m(e,t,n,r,i)}if(N(r)||ee(r))return e=e.get(n)||null,d(t,e,r,i,null);if(typeof r.then==`function`)return m(e,t,n,Da(r),i);if(r.$$typeof===C)return m(e,t,n,Yi(t,r),i);ka(t,r)}return null}function h(i,a,s,c){for(var l=null,u=null,d=a,h=a=0,g=null;d!==null&&h<s.length;h++){d.index>h?(g=d,d=null):g=d.sibling;var _=p(i,d,s[h],c);if(_===null){d===null&&(d=g);break}e&&d&&_.alternate===null&&t(i,d),a=o(_,a,h),u===null?l=_:u.sibling=_,u=_,d=g}if(h===s.length)return n(i,d),Di&&bi(i,h),l;if(d===null){for(;h<s.length;h++)d=f(i,s[h],c),d!==null&&(a=o(d,a,h),u===null?l=d:u.sibling=d,u=d);return Di&&bi(i,h),l}for(d=r(d);h<s.length;h++)g=m(d,i,h,s[h],c),g!==null&&(e&&g.alternate!==null&&d.delete(g.key===null?h:g.key),a=o(g,a,h),u===null?l=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(i,e)}),Di&&bi(i,h),l}function _(a,s,c,l){if(c==null)throw Error(i(151));for(var u=null,d=null,h=s,g=s=0,_=null,v=c.next();h!==null&&!v.done;g++,v=c.next()){h.index>g?(_=h,h=null):_=h.sibling;var y=p(a,h,v.value,l);if(y===null){h===null&&(h=_);break}e&&h&&y.alternate===null&&t(a,h),s=o(y,s,g),d===null?u=y:d.sibling=y,d=y,h=_}if(v.done)return n(a,h),Di&&bi(a,g),u;if(h===null){for(;!v.done;g++,v=c.next())v=f(a,v.value,l),v!==null&&(s=o(v,s,g),d===null?u=v:d.sibling=v,d=v);return Di&&bi(a,g),u}for(h=r(h);!v.done;g++,v=c.next())v=m(h,a,g,v.value,l),v!==null&&(e&&v.alternate!==null&&h.delete(v.key===null?g:v.key),s=o(v,s,g),d===null?u=v:d.sibling=v,d=v);return e&&h.forEach(function(e){return t(a,e)}),Di&&bi(a,g),u}function b(e,r,o,c){if(typeof o==`object`&&o&&o.type===y&&o.key===null&&(o=o.props.children),typeof o==`object`&&o){switch(o.$$typeof){case g:a:{for(var l=o.key;r!==null;){if(r.key===l){if(l=o.type,l===y){if(r.tag===7){n(e,r.sibling),c=a(r,o.props.children),c.return=e,e=c;break a}}else if(r.elementType===l||typeof l==`object`&&l&&l.$$typeof===O&&xa(l)===r.type){n(e,r.sibling),c=a(r,o.props),Oa(c,o),c.return=e,e=c;break a}n(e,r);break}else t(e,r);r=r.sibling}o.type===y?(c=ai(o.props.children,e.mode,c,o.key),c.return=e,e=c):(c=ii(o.type,o.key,o.props,null,e.mode,c),Oa(c,o),c.return=e,e=c)}return s(e);case v:a:{for(l=o.key;r!==null;){if(r.key===l)if(r.tag===4&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),c=a(r,o.children||[]),c.return=e,e=c;break a}else{n(e,r);break}else t(e,r);r=r.sibling}c=ci(o,e.mode,c),c.return=e,e=c}return s(e);case O:return o=xa(o),b(e,r,o,c)}if(N(o))return h(e,r,o,c);if(ee(o)){if(l=ee(o),typeof l!=`function`)throw Error(i(150));return o=l.call(o),_(e,r,o,c)}if(typeof o.then==`function`)return b(e,r,Da(o),c);if(o.$$typeof===C)return b(e,r,Yi(e,o),c);ka(e,o)}return typeof o==`string`&&o!==``||typeof o==`number`||typeof o==`bigint`?(o=``+o,r!==null&&r.tag===6?(n(e,r.sibling),c=a(r,o),c.return=e,e=c):(n(e,r),c=oi(o,e.mode,c),c.return=e,e=c),s(e)):n(e,r)}return function(e,t,n,r){try{Ea=0;var i=b(e,t,n,r);return Ta=null,i}catch(t){if(t===ha||t===_a)throw t;var a=ei(29,t,null,e.mode);return a.lanes=r,a.return=e,a}}}var ja=Aa(!0),Ma=Aa(!1),Na=!1;function Pa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ia(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function La(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,jl&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Zr(e),Xr(e,null,n),t}return qr(e,r,t,n),Zr(e)}function Ra(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,n&4194048)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Xe(e,n)}}function za(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Ba=!1;function Va(){if(Ba){var e=oa;if(e!==null)throw e}}function Ha(e,t,n,r){Ba=!1;var i=e.updateQueue;Na=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var c=s,l=c.next;c.next=null,o===null?a=l:o.next=l,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,s=u.lastBaseUpdate,s!==o&&(s===null?u.firstBaseUpdate=l:s.next=l,u.lastBaseUpdate=c))}if(a!==null){var d=i.baseState;o=0,u=l=c=null,s=a;do{var p=s.lane&-536870913,m=p!==s.lane;if(m?(Pl&p)===p:(r&p)===p){p!==0&&p===aa&&(Ba=!0),u!==null&&(u=u.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});a:{var h=e,g=s;p=t;var _=n;switch(g.tag){case 1:if(h=g.payload,typeof h==`function`){d=h.call(_,d,p);break a}d=h;break a;case 3:h.flags=h.flags&-65537|128;case 0:if(h=g.payload,p=typeof h==`function`?h.call(_,d,p):h,p==null)break a;d=f({},d,p);break a;case 2:Na=!0}}p=s.callback,p!==null&&(e.flags|=64,m&&(e.flags|=8192),m=i.callbacks,m===null?i.callbacks=[p]:m.push(p))}else m={lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},u===null?(l=u=m,c=d):u=u.next=m,o|=p;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;m=s,s=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(1);u===null&&(c=d),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=u,a===null&&(i.shared.lanes=0),Hl|=o,e.lanes=o,e.memoizedState=d}}function Ua(e,t){if(typeof e!=`function`)throw Error(i(191,e));e.call(t)}function Wa(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Ua(n[e],t)}var Ga=R(null),Ka=R(0);function qa(e,t){e=Bl,B(Ka,e),B(Ga,t),Bl=e|t.baseLanes}function Ja(){B(Ka,Bl),B(Ga,Ga.current)}function Ya(){Bl=Ka.current,z(Ga),z(Ka)}var Xa=R(null),Za=null;function Qa(e){var t=e.alternate;B(ro,ro.current&1),B(Xa,e),Za===null&&(t===null||Ga.current!==null||t.memoizedState!==null)&&(Za=e)}function $a(e){B(ro,ro.current),B(Xa,e),Za===null&&(Za=e)}function eo(e){e.tag===22?(B(ro,ro.current),B(Xa,e),Za===null&&(Za=e)):to(e)}function to(){B(ro,ro.current),B(Xa,Xa.current)}function no(e){z(Xa),Za===e&&(Za=null),z(ro)}var ro=R(0);function io(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||af(n)||of(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder===`forwards`||t.memoizedProps.revealOrder===`backwards`||t.memoizedProps.revealOrder===`unstable_legacy-backwards`||t.memoizedProps.revealOrder===`together`)){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ao=0,q=null,J=null,oo=null,so=!1,co=!1,lo=!1,uo=0,fo=0,po=null,mo=0;function ho(){throw Error(i(321))}function go(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!vr(e[n],t[n]))return!1;return!0}function _o(e,t,n,r,i,a){return ao=a,q=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,P.H=e===null||e.memoizedState===null?Ns:Ps,lo=!1,a=n(r,i),lo=!1,co&&(a=yo(t,n,r,i)),vo(e),a}function vo(e){P.H=Ms;var t=J!==null&&J.next!==null;if(ao=0,oo=J=q=null,so=!1,fo=0,po=null,t)throw Error(i(300));e===null||Xs||(e=e.dependencies,e!==null&&Ki(e)&&(Xs=!0))}function yo(e,t,n,r){q=e;var a=0;do{if(co&&(po=null),fo=0,co=!1,25<=a)throw Error(i(301));if(a+=1,oo=J=null,e.updateQueue!=null){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}P.H=Fs,o=t(n,r)}while(co);return o}function bo(){var e=P.H,t=e.useState()[0];return t=typeof t.then==`function`?Do(t):t,e=e.useState()[0],(J===null?null:J.memoizedState)!==e&&(q.flags|=1024),t}function xo(){var e=uo!==0;return uo=0,e}function So(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Co(e){if(so){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}so=!1}ao=0,oo=J=q=null,co=!1,fo=uo=0,po=null}function wo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return oo===null?q.memoizedState=oo=e:oo=oo.next=e,oo}function To(){if(J===null){var e=q.alternate;e=e===null?null:e.memoizedState}else e=J.next;var t=oo===null?q.memoizedState:oo.next;if(t!==null)oo=t,J=e;else{if(e===null)throw q.alternate===null?Error(i(467)):Error(i(310));J=e,e={memoizedState:J.memoizedState,baseState:J.baseState,baseQueue:J.baseQueue,queue:J.queue,next:null},oo===null?q.memoizedState=oo=e:oo=oo.next=e}return oo}function Eo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Do(e){var t=fo;return fo+=1,po===null&&(po=[]),e=ba(po,e,t),t=q,(oo===null?t.memoizedState:oo.next)===null&&(t=t.alternate,P.H=t===null||t.memoizedState===null?Ns:Ps),e}function Oo(e){if(typeof e==`object`&&e){if(typeof e.then==`function`)return Do(e);if(e.$$typeof===C)return Ji(e)}throw Error(i(438,String(e)))}function ko(e){var t=null,n=q.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var r=q.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(t??={data:[],index:0},n===null&&(n=Eo(),q.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=A;return t.index++,n}function Ao(e,t){return typeof t==`function`?t(e):t}function jo(e){return Mo(To(),J,e)}function Mo(e,t,n){var r=e.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=n;var a=e.baseQueue,o=r.pending;if(o!==null){if(a!==null){var s=a.next;a.next=o.next,o.next=s}t.baseQueue=a=o,r.pending=null}if(o=e.baseState,a===null)e.memoizedState=o;else{t=a.next;var c=s=null,l=null,u=t,d=!1;do{var f=u.lane&-536870913;if(f===u.lane?(ao&f)===f:(Pl&f)===f){var p=u.revertLane;if(p===0)l!==null&&(l=l.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===aa&&(d=!0);else if((ao&p)===p){u=u.next,p===aa&&(d=!0);continue}else f={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(c=l=f,s=o):l=l.next=f,q.lanes|=p,Hl|=p;f=u.action,lo&&n(o,f),o=u.hasEagerState?u.eagerState:n(o,f)}else p={lane:f,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(c=l=p,s=o):l=l.next=p,q.lanes|=f,Hl|=f;u=u.next}while(u!==null&&u!==t);if(l===null?s=o:l.next=c,!vr(o,e.memoizedState)&&(Xs=!0,d&&(n=oa,n!==null)))throw n;e.memoizedState=o,e.baseState=s,e.baseQueue=l,r.lastRenderedState=o}return a===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Y(e){var t=To(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,o=t.memoizedState;if(a!==null){n.pending=null;var s=a=a.next;do o=e(o,s.action),s=s.next;while(s!==a);vr(o,t.memoizedState)||(Xs=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function No(e,t,n){var r=q,a=To(),o=Di;if(o){if(n===void 0)throw Error(i(407));n=n()}else n=t();var s=!vr((J||a).memoizedState,n);if(s&&(a.memoizedState=n,Xs=!0),a=a.queue,is(Io.bind(null,r,a,e),[e]),a.getSnapshot!==t||s||oo!==null&&oo.memoizedState.tag&1){if(r.flags|=2048,$o(9,{destroy:void 0},Fo.bind(null,r,a,n,t),null),Ml===null)throw Error(i(349));o||ao&127||Po(r,t,n)}return n}function Po(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=q.updateQueue,t===null?(t=Eo(),q.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Fo(e,t,n,r){t.value=n,t.getSnapshot=r,Lo(t)&&Ro(e)}function Io(e,t,n){return n(function(){Lo(t)&&Ro(e)})}function Lo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!vr(e,n)}catch{return!0}}function Ro(e){var t=Yr(e,2);t!==null&&fu(t,e,2)}function zo(e){var t=wo();if(typeof e==`function`){var n=e;if(e=n(),lo){Ne(!0);try{n()}finally{Ne(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ao,lastRenderedState:e},t}function Bo(e,t,n,r){return e.baseState=n,Mo(e,J,typeof r==`function`?r:Ao)}function Vo(e,t,n,r,a){if(ks(e))throw Error(i(485));if(e=t.action,e!==null){var o={payload:a,action:e,next:null,isTransition:!0,status:`pending`,value:null,reason:null,listeners:[],then:function(e){o.listeners.push(e)}};P.T===null?o.isTransition=!1:n(!0),r(o),n=t.pending,n===null?(o.next=t.pending=o,Ho(t,o)):(o.next=n.next,t.pending=n.next=o)}}function Ho(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var a=P.T,o={};P.T=o;try{var s=n(i,r),c=P.S;c!==null&&c(o,s),Uo(e,t,s)}catch(n){Go(e,t,n)}finally{a!==null&&o.types!==null&&(a.types=o.types),P.T=a}}else try{a=n(i,r),Uo(e,t,a)}catch(n){Go(e,t,n)}}function Uo(e,t,n){typeof n==`object`&&n&&typeof n.then==`function`?n.then(function(n){Wo(e,t,n)},function(n){return Go(e,t,n)}):Wo(e,t,n)}function Wo(e,t,n){t.status=`fulfilled`,t.value=n,Ko(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Ho(e,n)))}function Go(e,t,n){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status=`rejected`,t.reason=n,Ko(t),t=t.next;while(t!==r)}e.action=null}function Ko(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function qo(e,t){return t}function Jo(e,t){if(Di){var n=Ml.formState;if(n!==null){a:{var r=q;if(Di){if(Ei){b:{for(var i=Ei,a=ki;i.nodeType!==8;){if(!a){i=null;break b}if(i=cf(i.nextSibling),i===null){i=null;break b}}a=i.data,i=a===`F!`||a===`F`?i:null}if(i){Ei=cf(i.nextSibling),r=i.data===`F!`;break a}}ji(r)}r=!1}r&&(t=n[0])}}return n=wo(),n.memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qo,lastRenderedState:t},n.queue=r,n=Es.bind(null,q,r),r.dispatch=n,r=zo(!1),a=Os.bind(null,q,!1,r.queue),r=wo(),i={state:t,dispatch:null,action:e,pending:null},r.queue=i,n=Vo.bind(null,q,i,a,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function Yo(e){return Xo(To(),J,e)}function Xo(e,t,n){if(t=Mo(e,t,qo)[0],e=jo(Ao)[0],typeof t==`object`&&t&&typeof t.then==`function`)try{var r=Do(t)}catch(e){throw e===ha?_a:e}else r=t;t=To();var i=t.queue,a=i.dispatch;return n!==t.memoizedState&&(q.flags|=2048,$o(9,{destroy:void 0},Zo.bind(null,i,n),null)),[r,a,e]}function Zo(e,t){e.action=t}function Qo(e){var t=To(),n=J;if(n!==null)return Xo(t,n,e);To(),t=t.memoizedState,n=To();var r=n.queue.dispatch;return n.memoizedState=e,[t,r,!1]}function $o(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},t=q.updateQueue,t===null&&(t=Eo(),q.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function es(){return To().memoizedState}function ts(e,t,n,r){var i=wo();q.flags|=e,i.memoizedState=$o(1|t,{destroy:void 0},n,r===void 0?null:r)}function ns(e,t,n,r){var i=To();r=r===void 0?null:r;var a=i.memoizedState.inst;J!==null&&r!==null&&go(r,J.memoizedState.deps)?i.memoizedState=$o(t,a,n,r):(q.flags|=e,i.memoizedState=$o(1|t,a,n,r))}function rs(e,t){ts(8390656,8,e,t)}function is(e,t){ns(2048,8,e,t)}function as(e){q.flags|=4;var t=q.updateQueue;if(t===null)t=Eo(),q.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function os(e){var t=To().memoizedState;return as({ref:t,nextImpl:e}),function(){if(jl&2)throw Error(i(440));return t.impl.apply(void 0,arguments)}}function ss(e,t){return ns(4,2,e,t)}function cs(e,t){return ns(4,4,e,t)}function ls(e,t){if(typeof t==`function`){e=e();var n=t(e);return function(){typeof n==`function`?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function us(e,t,n){n=n==null?null:n.concat([e]),ns(4,4,ls.bind(null,t,e),n)}function ds(){}function fs(e,t){var n=To();t=t===void 0?null:t;var r=n.memoizedState;return t!==null&&go(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ps(e,t){var n=To();t=t===void 0?null:t;var r=n.memoizedState;if(t!==null&&go(t,r[1]))return r[0];if(r=e(),lo){Ne(!0);try{e()}finally{Ne(!1)}}return n.memoizedState=[r,t],r}function ms(e,t,n){return n===void 0||ao&1073741824&&!(Pl&261930)?e.memoizedState=t:(e.memoizedState=n,e=du(),q.lanes|=e,Hl|=e,n)}function hs(e,t,n,r){return vr(n,t)?n:Ga.current===null?!(ao&42)||ao&1073741824&&!(Pl&261930)?(Xs=!0,e.memoizedState=n):(e=du(),q.lanes|=e,Hl|=e,t):(e=ms(e,n,r),vr(e,t)||(Xs=!0),e)}function gs(e,t,n,r,i){var a=F.p;F.p=a!==0&&8>a?a:8;var o=P.T,s={};P.T=s,Os(e,!1,t,n);try{var c=i(),l=P.S;l!==null&&l(s,c),typeof c==`object`&&c&&typeof c.then==`function`?Ds(e,t,la(c,r),uu(e)):Ds(e,t,r,uu(e))}catch(n){Ds(e,t,{then:function(){},status:`rejected`,reason:n},uu())}finally{F.p=a,o!==null&&s.types!==null&&(o.types=s.types),P.T=o}}function _s(){}function vs(e,t,n,r){if(e.tag!==5)throw Error(i(476));var a=ys(e).queue;gs(e,a,t,I,n===null?_s:function(){return bs(e),n(r)})}function ys(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:I,baseState:I,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ao,lastRenderedState:I},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ao,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function bs(e){var t=ys(e);t.next===null&&(t=e.alternate.memoizedState),Ds(e,t.next.queue,{},uu())}function xs(){return Ji(Qf)}function Ss(){return To().memoizedState}function Cs(){return To().memoizedState}function ws(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=uu();e=Ia(n);var r=La(t,e,n);r!==null&&(fu(r,t,n),Ra(r,t,n)),t={cache:ta()},e.payload=t;return}t=t.return}}function Ts(e,t,n){var r=uu();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},ks(e)?As(t,n):(n=Jr(e,t,n,r),n!==null&&(fu(n,e,r),js(n,t,r)))}function Es(e,t,n){Ds(e,t,n,uu())}function Ds(e,t,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(ks(e))As(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,vr(s,o))return qr(e,t,i,0),Ml===null&&Kr(),!1}catch{}if(n=Jr(e,t,i,r),n!==null)return fu(n,e,r),js(n,t,r),!0}return!1}function Os(e,t,n,r){if(r={lane:2,revertLane:ld(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},ks(e)){if(t)throw Error(i(479))}else t=Jr(e,n,r,2),t!==null&&fu(t,e,2)}function ks(e){var t=e.alternate;return e===q||t!==null&&t===q}function As(e,t){co=so=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function js(e,t,n){if(n&4194048){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Xe(e,n)}}var Ms={readContext:Ji,use:Oo,useCallback:ho,useContext:ho,useEffect:ho,useImperativeHandle:ho,useLayoutEffect:ho,useInsertionEffect:ho,useMemo:ho,useReducer:ho,useRef:ho,useState:ho,useDebugValue:ho,useDeferredValue:ho,useTransition:ho,useSyncExternalStore:ho,useId:ho,useHostTransitionStatus:ho,useFormState:ho,useActionState:ho,useOptimistic:ho,useMemoCache:ho,useCacheRefresh:ho};Ms.useEffectEvent=ho;var Ns={readContext:Ji,use:Oo,useCallback:function(e,t){return wo().memoizedState=[e,t===void 0?null:t],e},useContext:Ji,useEffect:rs,useImperativeHandle:function(e,t,n){n=n==null?null:n.concat([e]),ts(4194308,4,ls.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ts(4194308,4,e,t)},useInsertionEffect:function(e,t){ts(4,2,e,t)},useMemo:function(e,t){var n=wo();t=t===void 0?null:t;var r=e();if(lo){Ne(!0);try{e()}finally{Ne(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=wo();if(n!==void 0){var i=n(t);if(lo){Ne(!0);try{n(t)}finally{Ne(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=Ts.bind(null,q,e),[r.memoizedState,e]},useRef:function(e){var t=wo();return e={current:e},t.memoizedState=e},useState:function(e){e=zo(e);var t=e.queue,n=Es.bind(null,q,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:ds,useDeferredValue:function(e,t){return ms(wo(),e,t)},useTransition:function(){var e=zo(!1);return e=gs.bind(null,q,e.queue,!0,!1),wo().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=q,a=wo();if(Di){if(n===void 0)throw Error(i(407));n=n()}else{if(n=t(),Ml===null)throw Error(i(349));Pl&127||Po(r,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,rs(Io.bind(null,r,o,e),[e]),r.flags|=2048,$o(9,{destroy:void 0},Fo.bind(null,r,o,n,t),null),n},useId:function(){var e=wo(),t=Ml.identifierPrefix;if(Di){var n=yi,r=vi;n=(r&~(1<<32-Pe(r)-1)).toString(32)+n,t=`_`+t+`R_`+n,n=uo++,0<n&&(t+=`H`+n.toString(32)),t+=`_`}else n=mo++,t=`_`+t+`r_`+n.toString(32)+`_`;return e.memoizedState=t},useHostTransitionStatus:xs,useFormState:Jo,useActionState:Jo,useOptimistic:function(e){var t=wo();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Os.bind(null,q,!0,n),n.dispatch=t,[e,t]},useMemoCache:ko,useCacheRefresh:function(){return wo().memoizedState=ws.bind(null,q)},useEffectEvent:function(e){var t=wo(),n={impl:e};return t.memoizedState=n,function(){if(jl&2)throw Error(i(440));return n.impl.apply(void 0,arguments)}}},Ps={readContext:Ji,use:Oo,useCallback:fs,useContext:Ji,useEffect:is,useImperativeHandle:us,useInsertionEffect:ss,useLayoutEffect:cs,useMemo:ps,useReducer:jo,useRef:es,useState:function(){return jo(Ao)},useDebugValue:ds,useDeferredValue:function(e,t){return hs(To(),J.memoizedState,e,t)},useTransition:function(){var e=jo(Ao)[0],t=To().memoizedState;return[typeof e==`boolean`?e:Do(e),t]},useSyncExternalStore:No,useId:Ss,useHostTransitionStatus:xs,useFormState:Yo,useActionState:Yo,useOptimistic:function(e,t){return Bo(To(),J,e,t)},useMemoCache:ko,useCacheRefresh:Cs};Ps.useEffectEvent=os;var Fs={readContext:Ji,use:Oo,useCallback:fs,useContext:Ji,useEffect:is,useImperativeHandle:us,useInsertionEffect:ss,useLayoutEffect:cs,useMemo:ps,useReducer:Y,useRef:es,useState:function(){return Y(Ao)},useDebugValue:ds,useDeferredValue:function(e,t){var n=To();return J===null?ms(n,e,t):hs(n,J.memoizedState,e,t)},useTransition:function(){var e=Y(Ao)[0],t=To().memoizedState;return[typeof e==`boolean`?e:Do(e),t]},useSyncExternalStore:No,useId:Ss,useHostTransitionStatus:xs,useFormState:Qo,useActionState:Qo,useOptimistic:function(e,t){var n=To();return J===null?(n.baseState=e,[e,n.queue.dispatch]):Bo(n,J,e,t)},useMemoCache:ko,useCacheRefresh:Cs};Fs.useEffectEvent=os;function Is(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:f({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ls={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=uu(),i=Ia(r);i.payload=t,n!=null&&(i.callback=n),t=La(e,i,r),t!==null&&(fu(t,e,r),Ra(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=uu(),i=Ia(r);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=La(e,i,r),t!==null&&(fu(t,e,r),Ra(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=uu(),r=Ia(n);r.tag=2,t!=null&&(r.callback=t),t=La(e,r,n),t!==null&&(fu(t,e,n),Ra(t,e,n))}};function Rs(e,t,n,r,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate==`function`?e.shouldComponentUpdate(r,a,o):t.prototype&&t.prototype.isPureReactComponent?!yr(n,r)||!yr(i,a):!0}function X(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps==`function`&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps==`function`&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ls.enqueueReplaceState(t,t.state,null)}function zs(e,t){var n=t;if(`ref`in t)for(var r in n={},t)r!==`ref`&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=f({},n)),e)n[i]===void 0&&(n[i]=e[i]);return n}function Bs(e){Ur(e)}function Vs(e){console.error(e)}function Hs(e){Ur(e)}function Us(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(e){setTimeout(function(){throw e})}}function Ws(e,t,n){try{var r=e.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(e){setTimeout(function(){throw e})}}function Gs(e,t,n){return n=Ia(n),n.tag=3,n.payload={element:null},n.callback=function(){Us(e,t)},n}function Ks(e){return e=Ia(e),e.tag=3,e}function qs(e,t,n,r){var i=n.type.getDerivedStateFromError;if(typeof i==`function`){var a=r.value;e.payload=function(){return i(a)},e.callback=function(){Ws(t,n,r)}}var o=n.stateNode;o!==null&&typeof o.componentDidCatch==`function`&&(e.callback=function(){Ws(t,n,r),typeof i!=`function`&&(eu===null?eu=new Set([this]):eu.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:e===null?``:e})})}function Js(e,t,n,r,a){if(n.flags|=32768,typeof r==`object`&&r&&typeof r.then==`function`){if(t=n.alternate,t!==null&&Gi(t,n,a,!0),n=Xa.current,n!==null){switch(n.tag){case 31:case 13:return Za===null?wu():n.alternate===null&&Vl===0&&(Vl=3),n.flags&=-257,n.flags|=65536,n.lanes=a,r===va?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([r]):t.add(r),Uu(e,r,a)),!1;case 22:return n.flags|=65536,r===va?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([r]):n.add(r)),Uu(e,r,a)),!1}throw Error(i(435,n.tag))}return Uu(e,r,a),wu(),!1}if(Di)return t=Xa.current,t===null?(r!==Ai&&(t=Error(i(423),{cause:r}),Li(ui(t,n))),e=e.current.alternate,e.flags|=65536,a&=-a,e.lanes|=a,r=ui(r,n),a=Gs(e.stateNode,r,a),za(e,a),Vl!==4&&(Vl=2)):(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=a,r!==Ai&&(e=Error(i(422),{cause:r}),Li(ui(e,n)))),!1;var o=Error(i(520),{cause:r});if(o=ui(o,n),ql===null?ql=[o]:ql.push(o),Vl!==4&&(Vl=2),t===null)return!0;r=ui(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,e=Gs(n.stateNode,r,e),za(n,e),!1;case 1:if(t=n.type,o=n.stateNode,!(n.flags&128)&&(typeof t.getDerivedStateFromError==`function`||o!==null&&typeof o.componentDidCatch==`function`&&(eu===null||!eu.has(o))))return n.flags|=65536,a&=-a,n.lanes|=a,a=Ks(a),qs(a,e,n,r),za(n,a),!1}n=n.return}while(n!==null);return!1}var Ys=Error(i(461)),Xs=!1;function Zs(e,t,n,r){t.child=e===null?Ma(t,null,n,r):ja(t,e.child,n,r)}function Qs(e,t,n,r,i){n=n.render;var a=t.ref;if(`ref`in r){var o={};for(var s in r)s!==`ref`&&(o[s]=r[s])}else o=r;return qi(t),r=_o(e,t,n,o,a,i),s=xo(),e!==null&&!Xs?(So(e,t,i),Sc(e,t,i)):(Di&&s&&Si(t),t.flags|=1,Zs(e,t,r,i),t.child)}function $s(e,t,n,r,i){if(e===null){var a=n.type;return typeof a==`function`&&!ti(a)&&a.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=a,ec(e,t,a,r,i)):(e=ii(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!Cc(e,i)){var o=a.memoizedProps;if(n=n.compare,n=n===null?yr:n,n(o,r)&&e.ref===t.ref)return Sc(e,t,i)}return t.flags|=1,e=ni(a,r),e.ref=t.ref,e.return=t,t.child=e}function ec(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(yr(a,r)&&e.ref===t.ref)if(Xs=!1,t.pendingProps=r=a,Cc(e,i))e.flags&131072&&(Xs=!0);else return t.lanes=e.lanes,Sc(e,t,i)}return cc(e,t,n,r,i)}function tc(e,t,n,r){var i=r.children,a=e===null?null:e.memoizedState;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode===`hidden`){if(t.flags&128){if(a=a===null?n:a.baseLanes|n,e!==null){for(r=t.child=e.child,i=0;r!==null;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~a}else r=0,t.child=null;return rc(e,t,a,n,r)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&pa(t,a===null?null:a.cachePool),a===null?Ja():qa(t,a),eo(t);else return r=t.lanes=536870912,rc(e,t,a===null?n:a.baseLanes|n,n,r)}else a===null?(e!==null&&pa(t,null),Ja(),to(t)):(pa(t,a.cachePool),qa(t,a),to(t),t.memoizedState=null);return Zs(e,t,i,n),t.child}function nc(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function rc(e,t,n,r,i){var a=fa();return a=a===null?null:{parent:ea._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},e!==null&&pa(t,null),Ja(),eo(t),e!==null&&Gi(e,t,r,!0),t.childLanes=i,null}function ic(e,t){return t=_c({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function ac(e,t,n){return ja(t,e.child,null,n),e=ic(t,t.pendingProps),e.flags|=2,no(t),t.memoizedState=null,e}function oc(e,t,n){var r=t.pendingProps,a=(t.flags&128)!=0;if(t.flags&=-129,e===null){if(Di){if(r.mode===`hidden`)return e=ic(t,r),t.lanes=536870912,nc(null,e);if($a(t),(e=Ei)?(e=rf(e,ki),e=e!==null&&e.data===`&`?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:_i===null?null:{id:vi,overflow:yi},retryLane:536870912,hydrationErrors:null},n=si(e),n.return=t,t.child=n,Ti=t,Ei=null)):e=null,e===null)throw ji(t);return t.lanes=536870912,null}return ic(t,r)}var o=e.memoizedState;if(o!==null){var s=o.dehydrated;if($a(t),a)if(t.flags&256)t.flags&=-257,t=ac(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(i(558));else if(Xs||Gi(e,t,n,!1),a=(n&e.childLanes)!==0,Xs||a){if(r=Ml,r!==null&&(s=Ze(r,n),s!==0&&s!==o.retryLane))throw o.retryLane=s,Yr(e,s),fu(r,e,s),Ys;wu(),t=ac(e,t,n)}else e=o.treeContext,Ei=cf(s.nextSibling),Ti=t,Di=!0,Oi=null,ki=!1,e!==null&&wi(t,e),t=ic(t,r),t.flags|=4096;return t}return e=ni(e.child,{mode:r.mode,children:r.children}),e.ref=t.ref,t.child=e,e.return=t,e}function sc(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!=`function`&&typeof n!=`object`)throw Error(i(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function cc(e,t,n,r,i){return qi(t),n=_o(e,t,n,r,void 0,i),r=xo(),e!==null&&!Xs?(So(e,t,i),Sc(e,t,i)):(Di&&r&&Si(t),t.flags|=1,Zs(e,t,n,i),t.child)}function lc(e,t,n,r,i,a){return qi(t),t.updateQueue=null,n=yo(t,r,n,i),vo(e),r=xo(),e!==null&&!Xs?(So(e,t,a),Sc(e,t,a)):(Di&&r&&Si(t),t.flags|=1,Zs(e,t,n,a),t.child)}function uc(e,t,n,r,i){if(qi(t),t.stateNode===null){var a=Qr,o=n.contextType;typeof o==`object`&&o&&(a=Ji(o)),a=new n(r,a),t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Ls,t.stateNode=a,a._reactInternals=t,a=t.stateNode,a.props=r,a.state=t.memoizedState,a.refs={},Pa(t),o=n.contextType,a.context=typeof o==`object`&&o?Ji(o):Qr,a.state=t.memoizedState,o=n.getDerivedStateFromProps,typeof o==`function`&&(Is(t,n,o,r),a.state=t.memoizedState),typeof n.getDerivedStateFromProps==`function`||typeof a.getSnapshotBeforeUpdate==`function`||typeof a.UNSAFE_componentWillMount!=`function`&&typeof a.componentWillMount!=`function`||(o=a.state,typeof a.componentWillMount==`function`&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount==`function`&&a.UNSAFE_componentWillMount(),o!==a.state&&Ls.enqueueReplaceState(a,a.state,null),Ha(t,r,a,i),Va(),a.state=t.memoizedState),typeof a.componentDidMount==`function`&&(t.flags|=4194308),r=!0}else if(e===null){a=t.stateNode;var s=t.memoizedProps,c=zs(n,s);a.props=c;var l=a.context,u=n.contextType;o=Qr,typeof u==`object`&&u&&(o=Ji(u));var d=n.getDerivedStateFromProps;u=typeof d==`function`||typeof a.getSnapshotBeforeUpdate==`function`,s=t.pendingProps!==s,u||typeof a.UNSAFE_componentWillReceiveProps!=`function`&&typeof a.componentWillReceiveProps!=`function`||(s||l!==o)&&X(t,a,r,o),Na=!1;var f=t.memoizedState;a.state=f,Ha(t,r,a,i),Va(),l=t.memoizedState,s||f!==l||Na?(typeof d==`function`&&(Is(t,n,d,r),l=t.memoizedState),(c=Na||Rs(t,n,c,r,f,l,o))?(u||typeof a.UNSAFE_componentWillMount!=`function`&&typeof a.componentWillMount!=`function`||(typeof a.componentWillMount==`function`&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount==`function`&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount==`function`&&(t.flags|=4194308)):(typeof a.componentDidMount==`function`&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=o,r=c):(typeof a.componentDidMount==`function`&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Fa(e,t),o=t.memoizedProps,u=zs(n,o),a.props=u,d=t.pendingProps,f=a.context,l=n.contextType,c=Qr,typeof l==`object`&&l&&(c=Ji(l)),s=n.getDerivedStateFromProps,(l=typeof s==`function`||typeof a.getSnapshotBeforeUpdate==`function`)||typeof a.UNSAFE_componentWillReceiveProps!=`function`&&typeof a.componentWillReceiveProps!=`function`||(o!==d||f!==c)&&X(t,a,r,c),Na=!1,f=t.memoizedState,a.state=f,Ha(t,r,a,i),Va();var p=t.memoizedState;o!==d||f!==p||Na||e!==null&&e.dependencies!==null&&Ki(e.dependencies)?(typeof s==`function`&&(Is(t,n,s,r),p=t.memoizedState),(u=Na||Rs(t,n,u,r,f,p,c)||e!==null&&e.dependencies!==null&&Ki(e.dependencies))?(l||typeof a.UNSAFE_componentWillUpdate!=`function`&&typeof a.componentWillUpdate!=`function`||(typeof a.componentWillUpdate==`function`&&a.componentWillUpdate(r,p,c),typeof a.UNSAFE_componentWillUpdate==`function`&&a.UNSAFE_componentWillUpdate(r,p,c)),typeof a.componentDidUpdate==`function`&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate==`function`&&(t.flags|=1024)):(typeof a.componentDidUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=c,r=u):(typeof a.componentDidUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return a=r,sc(e,t),r=(t.flags&128)!=0,a||r?(a=t.stateNode,n=r&&typeof n.getDerivedStateFromError!=`function`?null:a.render(),t.flags|=1,e!==null&&r?(t.child=ja(t,e.child,null,i),t.child=ja(t,null,n,i)):Zs(e,t,n,i),t.memoizedState=a.state,e=t.child):e=Sc(e,t,i),e}function dc(e,t,n,r){return Fi(),t.flags|=256,Zs(e,t,n,r),t.child}var fc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function pc(e){return{baseLanes:e,cachePool:ma()}}function mc(e,t,n){return e=e===null?0:e.childLanes&~n,t&&(e|=Gl),e}function hc(e,t,n){var r=t.pendingProps,a=!1,o=(t.flags&128)!=0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(ro.current&2)!=0),s&&(a=!0,t.flags&=-129),s=(t.flags&32)!=0,t.flags&=-33,e===null){if(Di){if(a?Qa(t):to(t),(e=Ei)?(e=rf(e,ki),e=e!==null&&e.data!==`&`?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:_i===null?null:{id:vi,overflow:yi},retryLane:536870912,hydrationErrors:null},n=si(e),n.return=t,t.child=n,Ti=t,Ei=null)):e=null,e===null)throw ji(t);return of(e)?t.lanes=32:t.lanes=536870912,null}var c=r.children;return r=r.fallback,a?(to(t),a=t.mode,c=_c({mode:`hidden`,children:c},a),r=ai(r,a,n,null),c.return=t,r.return=t,c.sibling=r,t.child=c,r=t.child,r.memoizedState=pc(n),r.childLanes=mc(e,s,n),t.memoizedState=fc,nc(null,r)):(Qa(t),gc(t,c))}var l=e.memoizedState;if(l!==null&&(c=l.dehydrated,c!==null)){if(o)t.flags&256?(Qa(t),t.flags&=-257,t=vc(e,t,n)):t.memoizedState===null?(to(t),c=r.fallback,a=t.mode,r=_c({mode:`visible`,children:r.children},a),c=ai(c,a,n,null),c.flags|=2,r.return=t,c.return=t,r.sibling=c,t.child=r,ja(t,e.child,null,n),r=t.child,r.memoizedState=pc(n),r.childLanes=mc(e,s,n),t.memoizedState=fc,t=nc(null,r)):(to(t),t.child=e.child,t.flags|=128,t=null);else if(Qa(t),of(c)){if(s=c.nextSibling&&c.nextSibling.dataset,s)var u=s.dgst;s=u,r=Error(i(419)),r.stack=``,r.digest=s,Li({value:r,source:null,stack:null}),t=vc(e,t,n)}else if(Xs||Gi(e,t,n,!1),s=(n&e.childLanes)!==0,Xs||s){if(s=Ml,s!==null&&(r=Ze(s,n),r!==0&&r!==l.retryLane))throw l.retryLane=r,Yr(e,r),fu(s,e,r),Ys;af(c)||wu(),t=vc(e,t,n)}else af(c)?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,Ei=cf(c.nextSibling),Ti=t,Di=!0,Oi=null,ki=!1,e!==null&&wi(t,e),t=gc(t,r.children),t.flags|=4096);return t}return a?(to(t),c=r.fallback,a=t.mode,l=e.child,u=l.sibling,r=ni(l,{mode:`hidden`,children:r.children}),r.subtreeFlags=l.subtreeFlags&65011712,u===null?(c=ai(c,a,n,null),c.flags|=2):c=ni(u,c),c.return=t,r.return=t,r.sibling=c,t.child=r,nc(null,r),r=t.child,c=e.child.memoizedState,c===null?c=pc(n):(a=c.cachePool,a===null?a=ma():(l=ea._currentValue,a=a.parent===l?a:{parent:l,pool:l}),c={baseLanes:c.baseLanes|n,cachePool:a}),r.memoizedState=c,r.childLanes=mc(e,s,n),t.memoizedState=fc,nc(e.child,r)):(Qa(t),n=e.child,e=n.sibling,n=ni(n,{mode:`visible`,children:r.children}),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n)}function gc(e,t){return t=_c({mode:`visible`,children:t},e.mode),t.return=e,e.child=t}function _c(e,t){return e=ei(22,e,null,t),e.lanes=0,e}function vc(e,t,n){return ja(t,e.child,null,n),e=gc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function yc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ui(e.return,t,n)}function bc(e,t,n,r,i,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.treeForkCount=a)}function xc(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;r=r.children;var o=ro.current,s=(o&2)!=0;if(s?(o=o&1|2,t.flags|=128):o&=1,B(ro,o),Zs(e,t,r,n),r=Di?mi:0,!s&&e!==null&&e.flags&128)a:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&yc(e,n,t);else if(e.tag===19)yc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break a;for(;e.sibling===null;){if(e.return===null||e.return===t)break a;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case`forwards`:for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&io(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),bc(t,!1,i,n,a,r);break;case`backwards`:case`unstable_legacy-backwards`:for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&io(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}bc(t,!0,n,null,a,r);break;case`together`:bc(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function Sc(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Hl|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Gi(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,n=ni(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ni(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Cc(e,t){return(e.lanes&t)===0?(e=e.dependencies,!!(e!==null&&Ki(e))):!0}function wc(e,t,n){switch(t.tag){case 3:oe(t,t.stateNode.containerInfo),Vi(t,ea,e.memoizedState.cache),Fi();break;case 27:case 5:ce(t);break;case 4:oe(t,t.stateNode.containerInfo);break;case 10:Vi(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,$a(t),null;break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated===null?(n&t.child.childLanes)===0?(Qa(t),e=Sc(e,t,n),e===null?null:e.sibling):hc(e,t,n):(Qa(t),t.flags|=128,null);Qa(t);break;case 19:var i=(e.flags&128)!=0;if(r=(n&t.childLanes)!==0,r||=(Gi(e,t,n,!1),(n&t.childLanes)!==0),i){if(r)return xc(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),B(ro,ro.current),r)break;return null;case 22:return t.lanes=0,tc(e,t,n,t.pendingProps);case 24:Vi(t,ea,e.memoizedState.cache)}return Sc(e,t,n)}function Tc(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Xs=!0;else{if(!Cc(e,n)&&!(t.flags&128))return Xs=!1,wc(e,t,n);Xs=!!(e.flags&131072)}else Xs=!1,Di&&t.flags&1048576&&xi(t,mi,t.index);switch(t.lanes=0,t.tag){case 16:a:{var r=t.pendingProps;if(e=xa(t.elementType),t.type=e,typeof e==`function`)ti(e)?(r=zs(e,r),t.tag=1,t=uc(null,t,e,r,n)):(t.tag=0,t=cc(null,t,e,r,n));else{if(e!=null){var a=e.$$typeof;if(a===w){t.tag=11,t=Qs(null,t,e,r,n);break a}else if(a===D){t.tag=14,t=$s(null,t,e,r,n);break a}}throw t=te(e)||e,Error(i(306,t,``))}}return t;case 0:return cc(e,t,t.type,t.pendingProps,n);case 1:return r=t.type,a=zs(r,t.pendingProps),uc(e,t,r,a,n);case 3:a:{if(oe(t,t.stateNode.containerInfo),e===null)throw Error(i(387));r=t.pendingProps;var o=t.memoizedState;a=o.element,Fa(e,t),Ha(t,r,null,n);var s=t.memoizedState;if(r=s.cache,Vi(t,ea,r),r!==o.cache&&Wi(t,[ea],n,!0),Va(),r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){t=dc(e,t,r,n);break a}else if(r!==a){a=ui(Error(i(424)),t),Li(a),t=dc(e,t,r,n);break a}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName===`HTML`?e.ownerDocument.body:e}for(Ei=cf(e.firstChild),Ti=t,Di=!0,Oi=null,ki=!0,n=Ma(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Fi(),r===a){t=Sc(e,t,n);break a}Zs(e,t,r,n)}t=t.child}return t;case 26:return sc(e,t),e===null?(n=kf(t.type,null,t.pendingProps,null))?t.memoizedState=n:Di||(n=t.type,e=t.pendingProps,r=Bd(ie.current).createElement(n),r[rt]=t,r[it]=e,Pd(r,n,e),gt(r),t.stateNode=r):t.memoizedState=kf(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ce(t),e===null&&Di&&(r=t.stateNode=ff(t.type,t.pendingProps,ie.current),Ti=t,ki=!0,a=Ei,Zd(t.type)?(lf=a,Ei=cf(r.firstChild)):Ei=a),Zs(e,t,t.pendingProps.children,n),sc(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Di&&((a=r=Ei)&&(r=tf(r,t.type,t.pendingProps,ki),r===null?a=!1:(t.stateNode=r,Ti=t,Ei=cf(r.firstChild),ki=!1,a=!0)),a||ji(t)),ce(t),a=t.type,o=t.pendingProps,s=e===null?null:e.memoizedProps,r=o.children,Ud(a,o)?r=null:s!==null&&Ud(a,s)&&(t.flags|=32),t.memoizedState!==null&&(a=_o(e,t,bo,null,null,n),Qf._currentValue=a),sc(e,t),Zs(e,t,r,n),t.child;case 6:return e===null&&Di&&((e=n=Ei)&&(n=nf(n,t.pendingProps,ki),n===null?e=!1:(t.stateNode=n,Ti=t,Ei=null,e=!0)),e||ji(t)),null;case 13:return hc(e,t,n);case 4:return oe(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ja(t,null,r,n):Zs(e,t,r,n),t.child;case 11:return Qs(e,t,t.type,t.pendingProps,n);case 7:return Zs(e,t,t.pendingProps,n),t.child;case 8:return Zs(e,t,t.pendingProps.children,n),t.child;case 12:return Zs(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,Vi(t,t.type,r.value),Zs(e,t,r.children,n),t.child;case 9:return a=t.type._context,r=t.pendingProps.children,qi(t),a=Ji(a),r=r(a),t.flags|=1,Zs(e,t,r,n),t.child;case 14:return $s(e,t,t.type,t.pendingProps,n);case 15:return ec(e,t,t.type,t.pendingProps,n);case 19:return xc(e,t,n);case 31:return oc(e,t,n);case 22:return tc(e,t,n,t.pendingProps);case 24:return qi(t),r=Ji(ea),e===null?(a=fa(),a===null&&(a=Ml,o=ta(),a.pooledCache=o,o.refCount++,o!==null&&(a.pooledCacheLanes|=n),a=o),t.memoizedState={parent:r,cache:a},Pa(t),Vi(t,ea,a)):((e.lanes&n)!==0&&(Fa(e,t),Ha(t,null,null,n),Va()),a=e.memoizedState,o=t.memoizedState,a.parent===r?(r=o.cache,Vi(t,ea,r),r!==a.cache&&Wi(t,[ea],n,!0)):(a={parent:r,cache:r},t.memoizedState=a,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=a),Vi(t,ea,r))),Zs(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function Ec(e){e.flags|=4}function Dc(e,t,n,r,i){if((t=(e.mode&32)!=0)&&(t=!1),t){if(e.flags|=16777216,(i&335544128)===i)if(e.stateNode.complete)e.flags|=8192;else if(xu())e.flags|=8192;else throw Sa=va,ga}else e.flags&=-16777217}function Oc(e,t){if(t.type!==`stylesheet`||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!Wf(t))if(xu())e.flags|=8192;else throw Sa=va,ga}function kc(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag===22?536870912:Ge(),e.lanes|=t,Kl|=t)}function Ac(e,t){if(!Di)switch(e.tailMode){case`hidden`:t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case`collapsed`:n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function jc(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&65011712,r|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Mc(e,t,n){var r=t.pendingProps;switch(Ci(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jc(t),null;case 1:return jc(t),null;case 3:return n=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Hi(ea),se(),n.pendingContext&&=(n.context=n.pendingContext,null),(e===null||e.child===null)&&(Pi(t)?Ec(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ii())),jc(t),null;case 26:var a=t.type,o=t.memoizedState;return e===null?(Ec(t),o===null?(jc(t),Dc(t,a,null,r,n)):(jc(t),Oc(t,o))):o?o===e.memoizedState?(jc(t),t.flags&=-16777217):(Ec(t),jc(t),Oc(t,o)):(e=e.memoizedProps,e!==r&&Ec(t),jc(t),Dc(t,a,e,r,n)),null;case 27:if(le(t),n=ie.current,a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Ec(t);else{if(!r){if(t.stateNode===null)throw Error(i(166));return jc(t),null}e=re.current,Pi(t)?Mi(t,e):(e=ff(a,r,n),t.stateNode=e,Ec(t))}return jc(t),null;case 5:if(le(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Ec(t);else{if(!r){if(t.stateNode===null)throw Error(i(166));return jc(t),null}if(o=re.current,Pi(t))Mi(t,o);else{var s=Bd(ie.current);switch(o){case 1:o=s.createElementNS(`http://www.w3.org/2000/svg`,a);break;case 2:o=s.createElementNS(`http://www.w3.org/1998/Math/MathML`,a);break;default:switch(a){case`svg`:o=s.createElementNS(`http://www.w3.org/2000/svg`,a);break;case`math`:o=s.createElementNS(`http://www.w3.org/1998/Math/MathML`,a);break;case`script`:o=s.createElement(`div`),o.innerHTML=`<script><\/script>`,o=o.removeChild(o.firstChild);break;case`select`:o=typeof r.is==`string`?s.createElement(`select`,{is:r.is}):s.createElement(`select`),r.multiple?o.multiple=!0:r.size&&(o.size=r.size);break;default:o=typeof r.is==`string`?s.createElement(a,{is:r.is}):s.createElement(a)}}o[rt]=t,o[it]=r;a:for(s=t.child;s!==null;){if(s.tag===5||s.tag===6)o.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break a;for(;s.sibling===null;){if(s.return===null||s.return===t)break a;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=o;a:switch(Pd(o,a,r),a){case`button`:case`input`:case`select`:case`textarea`:r=!!r.autoFocus;break a;case`img`:r=!0;break a;default:r=!1}r&&Ec(t)}}return jc(t),Dc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&Ec(t);else{if(typeof r!=`string`&&t.stateNode===null)throw Error(i(166));if(e=ie.current,Pi(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,a=Ti,a!==null)switch(a.tag){case 27:case 5:r=a.memoizedProps}e[rt]=t,e=!!(e.nodeValue===n||r!==null&&!0===r.suppressHydrationWarning||jd(e.nodeValue,n)),e||ji(t,!0)}else e=Bd(e).createTextNode(r),e[rt]=t,t.stateNode=e}return jc(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(r=Pi(t),n!==null){if(e===null){if(!r)throw Error(i(318));if(e=t.memoizedState,e=e===null?null:e.dehydrated,!e)throw Error(i(557));e[rt]=t}else Fi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;jc(t),e=!1}else n=Ii(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(no(t),t):(no(t),null);if(t.flags&128)throw Error(i(558))}return jc(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(a=Pi(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(i(318));if(a=t.memoizedState,a=a===null?null:a.dehydrated,!a)throw Error(i(317));a[rt]=t}else Fi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;jc(t),a=!1}else a=Ii(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return t.flags&256?(no(t),t):(no(t),null)}return no(t),t.flags&128?(t.lanes=n,t):(n=r!==null,e=e!==null&&e.memoizedState!==null,n&&(r=t.child,a=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(a=r.alternate.memoizedState.cachePool.pool),o=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),o!==a&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),kc(t,t.updateQueue),jc(t),null);case 4:return se(),e===null&&xd(t.stateNode.containerInfo),jc(t),null;case 10:return Hi(t.type),jc(t),null;case 19:if(z(ro),r=t.memoizedState,r===null)return jc(t),null;if(a=(t.flags&128)!=0,o=r.rendering,o===null)if(a)Ac(r,!1);else{if(Vl!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=io(e),o!==null){for(t.flags|=128,Ac(r,!1),e=o.updateQueue,t.updateQueue=e,kc(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)ri(n,e),n=n.sibling;return B(ro,ro.current&1|2),Di&&bi(t,r.treeForkCount),t.child}e=e.sibling}r.tail!==null&&Se()>Ql&&(t.flags|=128,a=!0,Ac(r,!1),t.lanes=4194304)}else{if(!a)if(e=io(o),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,kc(t,e),Ac(r,!0),r.tail===null&&r.tailMode===`hidden`&&!o.alternate&&!Di)return jc(t),null}else 2*Se()-r.renderingStartTime>Ql&&n!==536870912&&(t.flags|=128,a=!0,Ac(r,!1),t.lanes=4194304);r.isBackwards?(o.sibling=t.child,t.child=o):(e=r.last,e===null?t.child=o:e.sibling=o,r.last=o)}return r.tail===null?(jc(t),null):(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=Se(),e.sibling=null,n=ro.current,B(ro,a?n&1|2:n&1),Di&&bi(t,r.treeForkCount),e);case 22:case 23:return no(t),Ya(),r=t.memoizedState!==null,e===null?r&&(t.flags|=8192):e.memoizedState!==null!==r&&(t.flags|=8192),r?n&536870912&&!(t.flags&128)&&(jc(t),t.subtreeFlags&6&&(t.flags|=8192)):jc(t),n=t.updateQueue,n!==null&&kc(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),e!==null&&z(da),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Hi(ea),jc(t),null;case 25:return null;case 30:return null}throw Error(i(156,t.tag))}function Z(e,t){switch(Ci(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Hi(ea),se(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return le(t),null;case 31:if(t.memoizedState!==null){if(no(t),t.alternate===null)throw Error(i(340));Fi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(no(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));Fi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return z(ro),null;case 4:return se(),null;case 10:return Hi(t.type),null;case 22:case 23:return no(t),Ya(),e!==null&&z(da),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Hi(ea),null;case 25:return null;default:return null}}function Nc(e,t){switch(Ci(t),t.tag){case 3:Hi(ea),se();break;case 26:case 27:case 5:le(t);break;case 4:se();break;case 31:t.memoizedState!==null&&no(t);break;case 13:no(t);break;case 19:z(ro);break;case 10:Hi(t.type);break;case 22:case 23:no(t),Ya(),e!==null&&z(da);break;case 24:Hi(ea)}}function Pc(e,t){try{var n=t.updateQueue,r=n===null?null:n.lastEffect;if(r!==null){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var a=n.create,o=n.inst;r=a(),o.destroy=r}n=n.next}while(n!==i)}}catch(e){Hu(t,t.return,e)}}function Fc(e,t,n){try{var r=t.updateQueue,i=r===null?null:r.lastEffect;if(i!==null){var a=i.next;r=a;do{if((r.tag&e)===e){var o=r.inst,s=o.destroy;if(s!==void 0){o.destroy=void 0,i=t;var c=n,l=s;try{l()}catch(e){Hu(i,c,e)}}}r=r.next}while(r!==a)}}catch(e){Hu(t,t.return,e)}}function Ic(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Wa(t,n)}catch(t){Hu(e,e.return,t)}}}function Lc(e,t,n){n.props=zs(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(n){Hu(e,t,n)}}function Rc(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof n==`function`?e.refCleanup=n(r):n.current=r}}catch(n){Hu(e,t,n)}}function zc(e,t){var n=e.ref,r=e.refCleanup;if(n!==null)if(typeof r==`function`)try{r()}catch(n){Hu(e,t,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n==`function`)try{n(null)}catch(n){Hu(e,t,n)}else n.current=null}function Bc(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{a:switch(t){case`button`:case`input`:case`select`:case`textarea`:n.autoFocus&&r.focus();break a;case`img`:n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(t){Hu(e,e.return,t)}}function Vc(e,t,n){try{var r=e.stateNode;Fd(r,e.type,n,t),r[it]=t}catch(t){Hu(e,e.return,t)}}function Q(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Zd(e.type)||e.tag===4}function Hc(e){a:for(;;){for(;e.sibling===null;){if(e.return===null||Q(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Zd(e.type)||e.flags&2||e.child===null||e.tag===4)continue a;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Uc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName===`HTML`?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName===`HTML`?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Xt));else if(r!==4&&(r===27&&Zd(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Uc(e,t,n),e=e.sibling;e!==null;)Uc(e,t,n),e=e.sibling}function Wc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(r===27&&Zd(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Wc(e,t,n),e=e.sibling;e!==null;)Wc(e,t,n),e=e.sibling}function Gc(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Pd(t,r,n),t[rt]=e,t[it]=n}catch(t){Hu(e,e.return,t)}}var Kc=!1,$=!1,qc=!1,Jc=typeof WeakSet==`function`?WeakSet:Set,Yc=null;function Xc(e,t){if(e=e.containerInfo,Rd=sp,e=Cr(e),wr(e)){if(`selectionStart`in e)var n={start:e.selectionStart,end:e.selectionEnd};else a:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break a}var s=0,c=-1,l=-1,u=0,d=0,f=e,p=null;b:for(;;){for(var m;f!==n||a!==0&&f.nodeType!==3||(c=s+a),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===e)break b;if(p===n&&++u===a&&(c=s),p===o&&++d===r&&(l=s),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=c===-1||l===-1?null:{start:c,end:l}}else n=null}n||={start:0,end:0}}else n=null;for(zd={focusedElem:e,selectionRange:n},sp=!1,Yc=t;Yc!==null;)if(t=Yc,e=t.child,t.subtreeFlags&1028&&e!==null)e.return=t,Yc=e;else for(;Yc!==null;){switch(t=Yc,o=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e===null?null:e.events,e!==null))for(n=0;n<e.length;n++)a=e[n],a.ref.impl=a.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&o!==null){e=void 0,n=t,a=o.memoizedProps,o=o.memoizedState,r=n.stateNode;try{var h=zs(n.type,a);e=r.getSnapshotBeforeUpdate(h,o),r.__reactInternalSnapshotBeforeUpdate=e}catch(e){Hu(n,n.return,e)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)ef(e);else if(n===1)switch(e.nodeName){case`HEAD`:case`HTML`:case`BODY`:ef(e);break;default:e.textContent=``}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(i(163))}if(e=t.sibling,e!==null){e.return=t.return,Yc=e;break}Yc=t.return}}function Zc(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:fl(e,n),r&4&&Pc(5,n);break;case 1:if(fl(e,n),r&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(e){Hu(n,n.return,e)}else{var i=zs(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(e){Hu(n,n.return,e)}}r&64&&Ic(n),r&512&&Rc(n,n.return);break;case 3:if(fl(e,n),r&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Wa(e,t)}catch(e){Hu(n,n.return,e)}}break;case 27:t===null&&r&4&&Gc(n);case 26:case 5:fl(e,n),t===null&&r&4&&Bc(n),r&512&&Rc(n,n.return);break;case 12:fl(e,n);break;case 31:fl(e,n),r&4&&rl(e,n);break;case 13:fl(e,n),r&4&&il(e,n),r&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=Ku.bind(null,n),sf(e,n))));break;case 22:if(r=n.memoizedState!==null||Kc,!r){t=t!==null&&t.memoizedState!==null||$,i=Kc;var a=$;Kc=r,($=t)&&!a?ml(e,n,(n.subtreeFlags&8772)!=0):fl(e,n),Kc=i,$=a}break;case 30:break;default:fl(e,n)}}function Qc(e){var t=e.alternate;t!==null&&(e.alternate=null,Qc(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&dt(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var $c=null,el=!1;function tl(e,t,n){for(n=n.child;n!==null;)nl(e,t,n),n=n.sibling}function nl(e,t,n){if(Me&&typeof Me.onCommitFiberUnmount==`function`)try{Me.onCommitFiberUnmount(je,n)}catch{}switch(n.tag){case 26:$||zc(n,t),tl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:$||zc(n,t);var r=$c,i=el;Zd(n.type)&&($c=n.stateNode,el=!1),tl(e,t,n),pf(n.stateNode),$c=r,el=i;break;case 5:$||zc(n,t);case 6:if(r=$c,i=el,$c=null,tl(e,t,n),$c=r,el=i,$c!==null)if(el)try{($c.nodeType===9?$c.body:$c.nodeName===`HTML`?$c.ownerDocument.body:$c).removeChild(n.stateNode)}catch(e){Hu(n,t,e)}else try{$c.removeChild(n.stateNode)}catch(e){Hu(n,t,e)}break;case 18:$c!==null&&(el?(e=$c,Qd(e.nodeType===9?e.body:e.nodeName===`HTML`?e.ownerDocument.body:e,n.stateNode),Np(e)):Qd($c,n.stateNode));break;case 4:r=$c,i=el,$c=n.stateNode.containerInfo,el=!0,tl(e,t,n),$c=r,el=i;break;case 0:case 11:case 14:case 15:Fc(2,n,t),$||Fc(4,n,t),tl(e,t,n);break;case 1:$||(zc(n,t),r=n.stateNode,typeof r.componentWillUnmount==`function`&&Lc(n,t,r)),tl(e,t,n);break;case 21:tl(e,t,n);break;case 22:$=(r=$)||n.memoizedState!==null,tl(e,t,n),$=r;break;default:tl(e,t,n)}}function rl(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Np(e)}catch(e){Hu(t,t.return,e)}}}function il(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Np(e)}catch(e){Hu(t,t.return,e)}}function al(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Jc),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Jc),t;default:throw Error(i(435,e.tag))}}function ol(e,t){var n=al(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=qu.bind(null,e,t);t.then(r,r)}})}function sl(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r],o=e,s=t,c=s;a:for(;c!==null;){switch(c.tag){case 27:if(Zd(c.type)){$c=c.stateNode,el=!1;break a}break;case 5:$c=c.stateNode,el=!1;break a;case 3:case 4:$c=c.stateNode.containerInfo,el=!0;break a}c=c.return}if($c===null)throw Error(i(160));nl(o,s,a),$c=null,el=!1,o=a.alternate,o!==null&&(o.return=null),a.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)ll(t,e),t=t.sibling}var cl=null;function ll(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:sl(t,e),ul(e),r&4&&(Fc(3,e,e.return),Pc(3,e),Fc(5,e,e.return));break;case 1:sl(t,e),ul(e),r&512&&($||n===null||zc(n,n.return)),r&64&&Kc&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var a=cl;if(sl(t,e),ul(e),r&512&&($||n===null||zc(n,n.return)),r&4){var o=n===null?null:n.memoizedState;if(r=e.memoizedState,n===null)if(r===null)if(e.stateNode===null){a:{r=e.type,n=e.memoizedProps,a=a.ownerDocument||a;b:switch(r){case`title`:o=a.getElementsByTagName(`title`)[0],(!o||o[ut]||o[rt]||o.namespaceURI===`http://www.w3.org/2000/svg`||o.hasAttribute(`itemprop`))&&(o=a.createElement(r),a.head.insertBefore(o,a.querySelector(`head > title`))),Pd(o,r,n),o[rt]=e,gt(o),r=o;break a;case`link`:var s=Vf(`link`,`href`,a).get(r+(n.href||``));if(s){for(var c=0;c<s.length;c++)if(o=s[c],o.getAttribute(`href`)===(n.href==null||n.href===``?null:n.href)&&o.getAttribute(`rel`)===(n.rel==null?null:n.rel)&&o.getAttribute(`title`)===(n.title==null?null:n.title)&&o.getAttribute(`crossorigin`)===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(c,1);break b}}o=a.createElement(r),Pd(o,r,n),a.head.appendChild(o);break;case`meta`:if(s=Vf(`meta`,`content`,a).get(r+(n.content||``))){for(c=0;c<s.length;c++)if(o=s[c],o.getAttribute(`content`)===(n.content==null?null:``+n.content)&&o.getAttribute(`name`)===(n.name==null?null:n.name)&&o.getAttribute(`property`)===(n.property==null?null:n.property)&&o.getAttribute(`http-equiv`)===(n.httpEquiv==null?null:n.httpEquiv)&&o.getAttribute(`charset`)===(n.charSet==null?null:n.charSet)){s.splice(c,1);break b}}o=a.createElement(r),Pd(o,r,n),a.head.appendChild(o);break;default:throw Error(i(468,r))}o[rt]=e,gt(o),r=o}e.stateNode=r}else Hf(a,e.type,e.stateNode);else e.stateNode=If(a,r,e.memoizedProps);else o===r?r===null&&e.stateNode!==null&&Vc(e,e.memoizedProps,n.memoizedProps):(o===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):o.count--,r===null?Hf(a,e.type,e.stateNode):If(a,r,e.memoizedProps))}break;case 27:sl(t,e),ul(e),r&512&&($||n===null||zc(n,n.return)),n!==null&&r&4&&Vc(e,e.memoizedProps,n.memoizedProps);break;case 5:if(sl(t,e),ul(e),r&512&&($||n===null||zc(n,n.return)),e.flags&32){a=e.stateNode;try{Ht(a,``)}catch(t){Hu(e,e.return,t)}}r&4&&e.stateNode!=null&&(a=e.memoizedProps,Vc(e,a,n===null?a:n.memoizedProps)),r&1024&&(qc=!0);break;case 6:if(sl(t,e),ul(e),r&4){if(e.stateNode===null)throw Error(i(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(t){Hu(e,e.return,t)}}break;case 3:if(Bf=null,a=cl,cl=gf(t.containerInfo),sl(t,e),cl=a,ul(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Np(t.containerInfo)}catch(t){Hu(e,e.return,t)}qc&&(qc=!1,dl(e));break;case 4:r=cl,cl=gf(e.stateNode.containerInfo),sl(t,e),ul(e),cl=r;break;case 12:sl(t,e),ul(e);break;case 31:sl(t,e),ul(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,ol(e,r)));break;case 13:sl(t,e),ul(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Xl=Se()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,ol(e,r)));break;case 22:a=e.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,u=Kc,d=$;if(Kc=u||a,$=d||l,sl(t,e),$=d,Kc=u,ul(e),r&8192)a:for(t=e.stateNode,t._visibility=a?t._visibility&-2:t._visibility|1,a&&(n===null||l||Kc||$||pl(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){l=n=t;try{if(o=l.stateNode,a)s=o.style,typeof s.setProperty==`function`?s.setProperty(`display`,`none`,`important`):s.display=`none`;else{c=l.stateNode;var f=l.memoizedProps.style,p=f!=null&&f.hasOwnProperty(`display`)?f.display:null;c.style.display=p==null||typeof p==`boolean`?``:(``+p).trim()}}catch(e){Hu(l,l.return,e)}}}else if(t.tag===6){if(n===null){l=t;try{l.stateNode.nodeValue=a?``:l.memoizedProps}catch(e){Hu(l,l.return,e)}}}else if(t.tag===18){if(n===null){l=t;try{var m=l.stateNode;a?$d(m,!0):$d(l.stateNode,!1)}catch(e){Hu(l,l.return,e)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break a;for(;t.sibling===null;){if(t.return===null||t.return===e)break a;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,ol(e,n))));break;case 19:sl(t,e),ul(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,ol(e,r)));break;case 30:break;case 21:break;default:sl(t,e),ul(e)}}function ul(e){var t=e.flags;if(t&2){try{for(var n,r=e.return;r!==null;){if(Q(r)){n=r;break}r=r.return}if(n==null)throw Error(i(160));switch(n.tag){case 27:var a=n.stateNode;Wc(e,Hc(e),a);break;case 5:var o=n.stateNode;n.flags&32&&(Ht(o,``),n.flags&=-33),Wc(e,Hc(e),o);break;case 3:case 4:var s=n.stateNode.containerInfo;Uc(e,Hc(e),s);break;default:throw Error(i(161))}}catch(t){Hu(e,e.return,t)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function dl(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;dl(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function fl(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Zc(e,t.alternate,t),t=t.sibling}function pl(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Fc(4,t,t.return),pl(t);break;case 1:zc(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount==`function`&&Lc(t,t.return,n),pl(t);break;case 27:pf(t.stateNode);case 26:case 5:zc(t,t.return),pl(t);break;case 22:t.memoizedState===null&&pl(t);break;case 30:pl(t);break;default:pl(t)}e=e.sibling}}function ml(e,t,n){for(n&&=(t.subtreeFlags&8772)!=0,t=t.child;t!==null;){var r=t.alternate,i=e,a=t,o=a.flags;switch(a.tag){case 0:case 11:case 15:ml(i,a,n),Pc(4,a);break;case 1:if(ml(i,a,n),r=a,i=r.stateNode,typeof i.componentDidMount==`function`)try{i.componentDidMount()}catch(e){Hu(r,r.return,e)}if(r=a,i=r.updateQueue,i!==null){var s=r.stateNode;try{var c=i.shared.hiddenCallbacks;if(c!==null)for(i.shared.hiddenCallbacks=null,i=0;i<c.length;i++)Ua(c[i],s)}catch(e){Hu(r,r.return,e)}}n&&o&64&&Ic(a),Rc(a,a.return);break;case 27:Gc(a);case 26:case 5:ml(i,a,n),n&&r===null&&o&4&&Bc(a),Rc(a,a.return);break;case 12:ml(i,a,n);break;case 31:ml(i,a,n),n&&o&4&&rl(i,a);break;case 13:ml(i,a,n),n&&o&4&&il(i,a);break;case 22:a.memoizedState===null&&ml(i,a,n),Rc(a,a.return);break;case 30:break;default:ml(i,a,n)}t=t.sibling}}function hl(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&na(n))}function gl(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&na(e))}function _l(e,t,n,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)vl(e,t,n,r),t=t.sibling}function vl(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:_l(e,t,n,r),i&2048&&Pc(9,t);break;case 1:_l(e,t,n,r);break;case 3:_l(e,t,n,r),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&na(e)));break;case 12:if(i&2048){_l(e,t,n,r),e=t.stateNode;try{var a=t.memoizedProps,o=a.id,s=a.onPostCommit;typeof s==`function`&&s(o,t.alternate===null?`mount`:`update`,e.passiveEffectDuration,-0)}catch(e){Hu(t,t.return,e)}}else _l(e,t,n,r);break;case 31:_l(e,t,n,r);break;case 13:_l(e,t,n,r);break;case 23:break;case 22:a=t.stateNode,o=t.alternate,t.memoizedState===null?a._visibility&2?_l(e,t,n,r):(a._visibility|=2,yl(e,t,n,r,(t.subtreeFlags&10256)!=0||!1)):a._visibility&2?_l(e,t,n,r):bl(e,t),i&2048&&hl(o,t);break;case 24:_l(e,t,n,r),i&2048&&gl(t.alternate,t);break;default:_l(e,t,n,r)}}function yl(e,t,n,r,i){for(i&&=(t.subtreeFlags&10256)!=0||!1,t=t.child;t!==null;){var a=e,o=t,s=n,c=r,l=o.flags;switch(o.tag){case 0:case 11:case 15:yl(a,o,s,c,i),Pc(8,o);break;case 23:break;case 22:var u=o.stateNode;o.memoizedState===null?(u._visibility|=2,yl(a,o,s,c,i)):u._visibility&2?yl(a,o,s,c,i):bl(a,o),i&&l&2048&&hl(o.alternate,o);break;case 24:yl(a,o,s,c,i),i&&l&2048&&gl(o.alternate,o);break;default:yl(a,o,s,c,i)}t=t.sibling}}function bl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:bl(n,r),i&2048&&hl(r.alternate,r);break;case 24:bl(n,r),i&2048&&gl(r.alternate,r);break;default:bl(n,r)}t=t.sibling}}var xl=8192;function Sl(e,t,n){if(e.subtreeFlags&xl)for(e=e.child;e!==null;)Cl(e,t,n),e=e.sibling}function Cl(e,t,n){switch(e.tag){case 26:Sl(e,t,n),e.flags&xl&&e.memoizedState!==null&&Gf(n,cl,e.memoizedState,e.memoizedProps);break;case 5:Sl(e,t,n);break;case 3:case 4:var r=cl;cl=gf(e.stateNode.containerInfo),Sl(e,t,n),cl=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=xl,xl=16777216,Sl(e,t,n),xl=r):Sl(e,t,n));break;default:Sl(e,t,n)}}function wl(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Tl(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];Yc=r,Ol(r,e)}wl(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)El(e),e=e.sibling}function El(e){switch(e.tag){case 0:case 11:case 15:Tl(e),e.flags&2048&&Fc(9,e,e.return);break;case 3:Tl(e);break;case 12:Tl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Dl(e)):Tl(e);break;default:Tl(e)}}function Dl(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];Yc=r,Ol(r,e)}wl(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Fc(8,t,t.return),Dl(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Dl(t));break;default:Dl(t)}e=e.sibling}}function Ol(e,t){for(;Yc!==null;){var n=Yc;switch(n.tag){case 0:case 11:case 15:Fc(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:na(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,Yc=r;else a:for(n=e;Yc!==null;){r=Yc;var i=r.sibling,a=r.return;if(Qc(r),r===n){Yc=null;break a}if(i!==null){i.return=a,Yc=i;break a}Yc=a}}}var kl={getCacheForType:function(e){var t=Ji(ea),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Ji(ea).controller.signal}},Al=typeof WeakMap==`function`?WeakMap:Map,jl=0,Ml=null,Nl=null,Pl=0,Fl=0,Il=null,Ll=!1,Rl=!1,zl=!1,Bl=0,Vl=0,Hl=0,Ul=0,Wl=0,Gl=0,Kl=0,ql=null,Jl=null,Yl=!1,Xl=0,Zl=0,Ql=1/0,$l=null,eu=null,tu=0,nu=null,ru=null,iu=0,au=0,ou=null,su=null,cu=0,lu=null;function uu(){return jl&2&&Pl!==0?Pl&-Pl:P.T===null?et():ld()}function du(){if(Gl===0)if(!(Pl&536870912)||Di){var e=ze;ze<<=1,!(ze&3932160)&&(ze=262144),Gl=e}else Gl=536870912;return e=Xa.current,e!==null&&(e.flags|=32),Gl}function fu(e,t,n){(e===Ml&&(Fl===2||Fl===9)||e.cancelPendingCommit!==null)&&(yu(e,0),gu(e,Pl,Gl,!1)),qe(e,n),(!(jl&2)||e!==Ml)&&(e===Ml&&(!(jl&2)&&(Ul|=n),Vl===4&&gu(e,Pl,Gl,!1)),td(e))}function pu(e,t,n){if(jl&6)throw Error(i(327));var r=!n&&(t&127)==0&&(t&e.expiredLanes)===0||Ue(e,t),a=r?Du(e,t):Tu(e,t,!0),o=r;do{if(a===0){Rl&&!r&&gu(e,t,0,!1);break}else{if(n=e.current.alternate,o&&!hu(n)){a=Tu(e,t,!1),o=!1;continue}if(a===2){if(o=t,e.errorRecoveryDisabledLanes&o)var s=0;else s=e.pendingLanes&-536870913,s=s===0?s&536870912?536870912:0:s;if(s!==0){t=s;a:{var c=e;a=ql;var l=c.current.memoizedState.isDehydrated;if(l&&(yu(c,s).flags|=256),s=Tu(c,s,!1),s!==2){if(zl&&!l){c.errorRecoveryDisabledLanes|=o,Ul|=o,a=4;break a}o=Jl,Jl=a,o!==null&&(Jl===null?Jl=o:Jl.push.apply(Jl,o))}a=s}if(o=!1,a!==2)continue}}if(a===1){yu(e,0),gu(e,t,0,!0);break}a:{switch(r=e,o=a,o){case 0:case 1:throw Error(i(345));case 4:if((t&4194048)!==t)break;case 6:gu(r,t,Gl,!Ll);break a;case 2:Jl=null;break;case 3:case 5:break;default:throw Error(i(329))}if((t&62914560)===t&&(a=Xl+300-Se(),10<a)){if(gu(r,t,Gl,!Ll),He(r,0,!0)!==0)break a;iu=t,r.timeoutHandle=Kd(mu.bind(null,r,n,Jl,$l,Yl,t,Gl,Ul,Kl,Ll,o,`Throttled`,-0,0),a);break a}mu(r,n,Jl,$l,Yl,t,Gl,Ul,Kl,Ll,o,null,-0,0)}}break}while(1);td(e)}function mu(e,t,n,r,i,a,o,s,c,l,u,d,f,p){if(e.timeoutHandle=-1,d=t.subtreeFlags,d&8192||(d&16785408)==16785408){d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Xt},Cl(t,a,d);var m=(a&62914560)===a?Xl-Se():(a&4194048)===a?Zl-Se():0;if(m=qf(d,m),m!==null){iu=a,e.cancelPendingCommit=m(Pu.bind(null,e,t,a,n,r,i,o,s,c,u,d,null,f,p)),gu(e,a,o,!l);return}}Pu(e,t,a,n,r,i,o,s,c)}function hu(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!vr(a(),i))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function gu(e,t,n,r){t&=~Wl,t&=~Ul,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var a=31-Pe(i),o=1<<a;r[a]=-1,i&=~o}n!==0&&Ye(e,n,t)}function _u(){return jl&6?!0:(nd(0,!1),!1)}function vu(){if(Nl!==null){if(Fl===0)var e=Nl.return;else e=Nl,Bi=zi=null,Co(e),Ta=null,Ea=0,e=Nl;for(;e!==null;)Nc(e.alternate,e),e=e.return;Nl=null}}function yu(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,qd(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),iu=0,vu(),Ml=e,Nl=n=ni(e.current,null),Pl=t,Fl=0,Il=null,Ll=!1,Rl=Ue(e,t),zl=!1,Kl=Gl=Wl=Ul=Hl=Vl=0,Jl=ql=null,Yl=!1,t&8&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var i=31-Pe(r),a=1<<i;t|=e[i],r&=~a}return Bl=t,Kr(),n}function bu(e,t){q=null,P.H=Ms,t===ha||t===_a?(t=Ca(),Fl=3):t===ga?(t=Ca(),Fl=4):Fl=t===Ys?8:typeof t==`object`&&t&&typeof t.then==`function`?6:1,Il=t,Nl===null&&(Vl=1,Us(e,ui(t,e.current)))}function xu(){var e=Xa.current;return e===null?!0:(Pl&4194048)===Pl?Za===null:(Pl&62914560)===Pl||Pl&536870912?e===Za:!1}function Su(){var e=P.H;return P.H=Ms,e===null?Ms:e}function Cu(){var e=P.A;return P.A=kl,e}function wu(){Vl=4,Ll||(Pl&4194048)!==Pl&&Xa.current!==null||(Rl=!0),!(Hl&134217727)&&!(Ul&134217727)||Ml===null||gu(Ml,Pl,Gl,!1)}function Tu(e,t,n){var r=jl;jl|=2;var i=Su(),a=Cu();(Ml!==e||Pl!==t)&&($l=null,yu(e,t)),t=!1;var o=Vl;a:do try{if(Fl!==0&&Nl!==null){var s=Nl,c=Il;switch(Fl){case 8:vu(),o=6;break a;case 3:case 2:case 9:case 6:Xa.current===null&&(t=!0);var l=Fl;if(Fl=0,Il=null,ju(e,s,c,l),n&&Rl){o=0;break a}break;default:l=Fl,Fl=0,Il=null,ju(e,s,c,l)}}Eu(),o=Vl;break}catch(t){bu(e,t)}while(1);return t&&e.shellSuspendCounter++,Bi=zi=null,jl=r,P.H=i,P.A=a,Nl===null&&(Ml=null,Pl=0,Kr()),o}function Eu(){for(;Nl!==null;)ku(Nl)}function Du(e,t){var n=jl;jl|=2;var r=Su(),a=Cu();Ml!==e||Pl!==t?($l=null,Ql=Se()+500,yu(e,t)):Rl=Ue(e,t);a:do try{if(Fl!==0&&Nl!==null){t=Nl;var o=Il;b:switch(Fl){case 1:Fl=0,Il=null,ju(e,t,o,1);break;case 2:case 9:if(ya(o)){Fl=0,Il=null,Au(t);break}t=function(){Fl!==2&&Fl!==9||Ml!==e||(Fl=7),td(e)},o.then(t,t);break a;case 3:Fl=7;break a;case 4:Fl=5;break a;case 7:ya(o)?(Fl=0,Il=null,Au(t)):(Fl=0,Il=null,ju(e,t,o,7));break;case 5:var s=null;switch(Nl.tag){case 26:s=Nl.memoizedState;case 5:case 27:var c=Nl;if(s?Wf(s):c.stateNode.complete){Fl=0,Il=null;var l=c.sibling;if(l!==null)Nl=l;else{var u=c.return;u===null?Nl=null:(Nl=u,Mu(u))}break b}}Fl=0,Il=null,ju(e,t,o,5);break;case 6:Fl=0,Il=null,ju(e,t,o,6);break;case 8:vu(),Vl=6;break a;default:throw Error(i(462))}}Ou();break}catch(t){bu(e,t)}while(1);return Bi=zi=null,P.H=r,P.A=a,jl=n,Nl===null?(Ml=null,Pl=0,Kr(),Vl):0}function Ou(){for(;Nl!==null&&!be();)ku(Nl)}function ku(e){var t=Tc(e.alternate,e,Bl);e.memoizedProps=e.pendingProps,t===null?Mu(e):Nl=t}function Au(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=lc(n,t,t.pendingProps,t.type,void 0,Pl);break;case 11:t=lc(n,t,t.pendingProps,t.type.render,t.ref,Pl);break;case 5:Co(t);default:Nc(n,t),t=Nl=ri(t,Bl),t=Tc(n,t,Bl)}e.memoizedProps=e.pendingProps,t===null?Mu(e):Nl=t}function ju(e,t,n,r){Bi=zi=null,Co(t),Ta=null,Ea=0;var i=t.return;try{if(Js(e,i,t,n,Pl)){Vl=1,Us(e,ui(n,e.current)),Nl=null;return}}catch(t){if(i!==null)throw Nl=i,t;Vl=1,Us(e,ui(n,e.current)),Nl=null;return}t.flags&32768?(Di||r===1?e=!0:Rl||Pl&536870912?e=!1:(Ll=e=!0,(r===2||r===9||r===3||r===6)&&(r=Xa.current,r!==null&&r.tag===13&&(r.flags|=16384))),Nu(t,e)):Mu(t)}function Mu(e){var t=e;do{if(t.flags&32768){Nu(t,Ll);return}e=t.return;var n=Mc(t.alternate,t,Bl);if(n!==null){Nl=n;return}if(t=t.sibling,t!==null){Nl=t;return}Nl=t=e}while(t!==null);Vl===0&&(Vl=5)}function Nu(e,t){do{var n=Z(e.alternate,e);if(n!==null){n.flags&=32767,Nl=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Nl=e;return}Nl=e=n}while(e!==null);Vl=6,Nl=null}function Pu(e,t,n,r,a,o,s,c,l){e.cancelPendingCommit=null;do zu();while(tu!==0);if(jl&6)throw Error(i(327));if(t!==null){if(t===e.current)throw Error(i(177));if(o=t.lanes|t.childLanes,o|=K,Je(e,n,o,s,c,l),e===Ml&&(Nl=Ml=null,Pl=0),ru=t,nu=e,iu=n,au=o,ou=a,su=r,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,Ju(Ee,function(){return Bu(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!=0,t.subtreeFlags&13878||r){r=P.T,P.T=null,a=F.p,F.p=2,s=jl,jl|=4;try{Xc(e,t,n)}finally{jl=s,F.p=a,P.T=r}}tu=1,Fu(),Iu(),Lu()}}function Fu(){if(tu===1){tu=0;var e=nu,t=ru,n=(t.flags&13878)!=0;if(t.subtreeFlags&13878||n){n=P.T,P.T=null;var r=F.p;F.p=2;var i=jl;jl|=4;try{ll(t,e);var a=zd,o=Cr(e.containerInfo),s=a.focusedElem,c=a.selectionRange;if(o!==s&&s&&s.ownerDocument&&Sr(s.ownerDocument.documentElement,s)){if(c!==null&&wr(s)){var l=c.start,u=c.end;if(u===void 0&&(u=l),`selectionStart`in s)s.selectionStart=l,s.selectionEnd=Math.min(u,s.value.length);else{var d=s.ownerDocument||document,f=d&&d.defaultView||window;if(f.getSelection){var p=f.getSelection(),m=s.textContent.length,h=Math.min(c.start,m),g=c.end===void 0?h:Math.min(c.end,m);!p.extend&&h>g&&(o=g,g=h,h=o);var _=xr(s,h),v=xr(s,g);if(_&&v&&(p.rangeCount!==1||p.anchorNode!==_.node||p.anchorOffset!==_.offset||p.focusNode!==v.node||p.focusOffset!==v.offset)){var y=d.createRange();y.setStart(_.node,_.offset),p.removeAllRanges(),h>g?(p.addRange(y),p.extend(v.node,v.offset)):(y.setEnd(v.node,v.offset),p.addRange(y))}}}}for(d=[],p=s;p=p.parentNode;)p.nodeType===1&&d.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof s.focus==`function`&&s.focus(),s=0;s<d.length;s++){var b=d[s];b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}sp=!!Rd,zd=Rd=null}finally{jl=i,F.p=r,P.T=n}}e.current=t,tu=2}}function Iu(){if(tu===2){tu=0;var e=nu,t=ru,n=(t.flags&8772)!=0;if(t.subtreeFlags&8772||n){n=P.T,P.T=null;var r=F.p;F.p=2;var i=jl;jl|=4;try{Zc(e,t.alternate,t)}finally{jl=i,F.p=r,P.T=n}}tu=3}}function Lu(){if(tu===4||tu===3){tu=0,xe();var e=nu,t=ru,n=iu,r=su;t.subtreeFlags&10256||t.flags&10256?tu=5:(tu=0,ru=nu=null,Ru(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(eu=null),$e(n),t=t.stateNode,Me&&typeof Me.onCommitFiberRoot==`function`)try{Me.onCommitFiberRoot(je,t,void 0,(t.current.flags&128)==128)}catch{}if(r!==null){t=P.T,i=F.p,F.p=2,P.T=null;try{for(var a=e.onRecoverableError,o=0;o<r.length;o++){var s=r[o];a(s.value,{componentStack:s.stack})}}finally{P.T=t,F.p=i}}iu&3&&zu(),td(e),i=e.pendingLanes,n&261930&&i&42?e===lu?cu++:(cu=0,lu=e):cu=0,nd(0,!1)}}function Ru(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,na(t)))}function zu(){return Fu(),Iu(),Lu(),Bu()}function Bu(){if(tu!==5)return!1;var e=nu,t=au;au=0;var n=$e(iu),r=P.T,a=F.p;try{F.p=32>n?32:n,P.T=null,n=ou,ou=null;var o=nu,s=iu;if(tu=0,ru=nu=null,iu=0,jl&6)throw Error(i(331));var c=jl;if(jl|=4,El(o.current),vl(o,o.current,s,n),jl=c,nd(0,!1),Me&&typeof Me.onPostCommitFiberRoot==`function`)try{Me.onPostCommitFiberRoot(je,o)}catch{}return!0}finally{F.p=a,P.T=r,Ru(e,t)}}function Vu(e,t,n){t=ui(n,t),t=Gs(e.stateNode,t,2),e=La(e,t,2),e!==null&&(qe(e,2),td(e))}function Hu(e,t,n){if(e.tag===3)Vu(e,e,n);else for(;t!==null;){if(t.tag===3){Vu(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError==`function`||typeof r.componentDidCatch==`function`&&(eu===null||!eu.has(r))){e=ui(n,e),n=Ks(2),r=La(t,n,2),r!==null&&(qs(n,r,t,e),qe(r,2),td(r));break}}t=t.return}}function Uu(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Al;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(zl=!0,i.add(n),e=Wu.bind(null,e,t,n),t.then(e,e))}function Wu(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Ml===e&&(Pl&n)===n&&(Vl===4||Vl===3&&(Pl&62914560)===Pl&&300>Se()-Xl?!(jl&2)&&yu(e,0):Wl|=n,Kl===Pl&&(Kl=0)),td(e)}function Gu(e,t){t===0&&(t=Ge()),e=Yr(e,t),e!==null&&(qe(e,t),td(e))}function Ku(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Gu(e,n)}function qu(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(i(314))}r!==null&&r.delete(t),Gu(e,n)}function Ju(e,t){return ve(e,t)}var Yu=null,Xu=null,Zu=!1,Qu=!1,$u=!1,ed=0;function td(e){e!==Xu&&e.next===null&&(Xu===null?Yu=Xu=e:Xu=Xu.next=e),Qu=!0,Zu||(Zu=!0,cd())}function nd(e,t){if(!$u&&Qu){$u=!0;do for(var n=!1,r=Yu;r!==null;){if(!t)if(e!==0){var i=r.pendingLanes;if(i===0)var a=0;else{var o=r.suspendedLanes,s=r.pingedLanes;a=(1<<31-Pe(42|e)+1)-1,a&=i&~(o&~s),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,sd(r,a))}else a=Pl,a=He(r,r===Ml?a:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(a&3)||Ue(r,a)||(n=!0,sd(r,a));r=r.next}while(n);$u=!1}}function rd(){id()}function id(){Qu=Zu=!1;var e=0;ed!==0&&Gd()&&(e=ed);for(var t=Se(),n=null,r=Yu;r!==null;){var i=r.next,a=ad(r,t);a===0?(r.next=null,n===null?Yu=i:n.next=i,i===null&&(Xu=n)):(n=r,(e!==0||a&3)&&(Qu=!0)),r=i}tu!==0&&tu!==5||nd(e,!1),ed!==0&&(ed=0)}function ad(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes&-62914561;0<a;){var o=31-Pe(a),s=1<<o,c=i[o];c===-1?((s&n)===0||(s&r)!==0)&&(i[o]=We(s,t)):c<=t&&(e.expiredLanes|=s),a&=~s}if(t=Ml,n=Pl,n=He(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,n===0||e===t&&(Fl===2||Fl===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&ye(r),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||Ue(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(r!==null&&ye(r),$e(n)){case 2:case 8:n=Te;break;case 32:n=Ee;break;case 268435456:n=Oe;break;default:n=Ee}return r=od.bind(null,e),n=ve(n,r),e.callbackPriority=t,e.callbackNode=n,t}return r!==null&&r!==null&&ye(r),e.callbackPriority=2,e.callbackNode=null,2}function od(e,t){if(tu!==0&&tu!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(zu()&&e.callbackNode!==n)return null;var r=Pl;return r=He(e,e===Ml?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(pu(e,r,t),ad(e,Se()),e.callbackNode!=null&&e.callbackNode===n?od.bind(null,e):null)}function sd(e,t){if(zu())return null;pu(e,t,!0)}function cd(){Yd(function(){jl&6?ve(we,rd):id()})}function ld(){if(ed===0){var e=aa;e===0&&(e=Re,Re<<=1,!(Re&261888)&&(Re=256)),ed=e}return ed}function ud(e){return e==null||typeof e==`symbol`||typeof e==`boolean`?null:typeof e==`function`?e:Yt(``+e)}function dd(e,t){var n=t.ownerDocument.createElement(`input`);return n.name=t.name,n.value=t.value,e.id&&n.setAttribute(`form`,e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function fd(e,t,n,r,i){if(t===`submit`&&n&&n.stateNode===i){var a=ud((i[it]||null).action),o=r.submitter;o&&(t=(t=o[it]||null)?ud(t.formAction):o.getAttribute(`formAction`),t!==null&&(a=t,o=null));var s=new vn(`action`,`action`,null,r,i);e.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(ed!==0){var e=o?dd(i,o):new FormData(i);vs(n,{pending:!0,data:e,method:i.method,action:a},null,e)}}else typeof a==`function`&&(s.preventDefault(),e=o?dd(i,o):new FormData(i),vs(n,{pending:!0,data:e,method:i.method,action:a},a,e))},currentTarget:i}]})}}for(var pd=0;pd<Vr.length;pd++){var md=Vr[pd];Hr(md.toLowerCase(),`on`+(md[0].toUpperCase()+md.slice(1)))}Hr(Pr,`onAnimationEnd`),Hr(G,`onAnimationIteration`),Hr(Fr,`onAnimationStart`),Hr(`dblclick`,`onDoubleClick`),Hr(`focusin`,`onFocus`),Hr(`focusout`,`onBlur`),Hr(Ir,`onTransitionRun`),Hr(Lr,`onTransitionStart`),Hr(Rr,`onTransitionCancel`),Hr(zr,`onTransitionEnd`),bt(`onMouseEnter`,[`mouseout`,`mouseover`]),bt(`onMouseLeave`,[`mouseout`,`mouseover`]),bt(`onPointerEnter`,[`pointerout`,`pointerover`]),bt(`onPointerLeave`,[`pointerout`,`pointerover`]),yt(`onChange`,`change click focusin focusout input keydown keyup selectionchange`.split(` `)),yt(`onSelect`,`focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange`.split(` `)),yt(`onBeforeInput`,[`compositionend`,`keypress`,`textInput`,`paste`]),yt(`onCompositionEnd`,`compositionend focusout keydown keypress keyup mousedown`.split(` `)),yt(`onCompositionStart`,`compositionstart focusout keydown keypress keyup mousedown`.split(` `)),yt(`onCompositionUpdate`,`compositionupdate focusout keydown keypress keyup mousedown`.split(` `));var hd=`abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting`.split(` `),gd=new Set(`beforetoggle cancel close invalid load scroll scrollend toggle`.split(` `).concat(hd));function _d(e,t){t=(t&4)!=0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;a:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],c=s.instance,l=s.currentTarget;if(s=s.listener,c!==a&&i.isPropagationStopped())break a;a=s,i.currentTarget=l;try{a(i)}catch(e){Ur(e)}i.currentTarget=null,a=c}else for(o=0;o<r.length;o++){if(s=r[o],c=s.instance,l=s.currentTarget,s=s.listener,c!==a&&i.isPropagationStopped())break a;a=s,i.currentTarget=l;try{a(i)}catch(e){Ur(e)}i.currentTarget=null,a=c}}}}function vd(e,t){var n=t[ot];n===void 0&&(n=t[ot]=new Set);var r=e+`__bubble`;n.has(r)||(Sd(t,e,2,!1),n.add(r))}function yd(e,t,n){var r=0;t&&(r|=4),Sd(n,e,r,t)}var bd=`_reactListening`+Math.random().toString(36).slice(2);function xd(e){if(!e[bd]){e[bd]=!0,_t.forEach(function(t){t!==`selectionchange`&&(gd.has(t)||yd(t,!1,e),yd(t,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[bd]||(t[bd]=!0,yd(`selectionchange`,!1,t))}}function Sd(e,t,n,r){switch(mp(t)){case 2:var i=cp;break;case 8:i=lp;break;default:i=up}n=i.bind(null,t,n,e),i=void 0,!sn||t!==`touchstart`&&t!==`touchmove`&&t!==`wheel`||(i=!0),r?i===void 0?e.addEventListener(t,n,!0):e.addEventListener(t,n,{capture:!0,passive:i}):i===void 0?e.addEventListener(t,n,!1):e.addEventListener(t,n,{passive:i})}function Cd(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)a:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var c=r.stateNode.containerInfo;if(c===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&s.stateNode.containerInfo===i)return;s=s.return}for(;c!==null;){if(s=ft(c),s===null)return;if(l=s.tag,l===5||l===6||l===26||l===27){r=a=s;continue a}c=c.parentNode}}r=r.return}rn(function(){var r=a,i=Qt(n),s=[];a:{var c=Br.get(e);if(c!==void 0){var l=vn,u=e;switch(e){case`keypress`:if(pn(n)===0)break a;case`keydown`:case`keyup`:l=Fn;break;case`focusin`:u=`focus`,l=Dn;break;case`focusout`:u=`blur`,l=Dn;break;case`beforeblur`:case`afterblur`:l=Dn;break;case`click`:if(n.button===2)break a;case`auxclick`:case`dblclick`:case`mousedown`:case`mousemove`:case`mouseup`:case`mouseout`:case`mouseover`:case`contextmenu`:l=Tn;break;case`drag`:case`dragend`:case`dragenter`:case`dragexit`:case`dragleave`:case`dragover`:case`dragstart`:case`drop`:l=En;break;case`touchcancel`:case`touchend`:case`touchmove`:case`touchstart`:l=Ln;break;case Pr:case G:case Fr:l=H;break;case zr:l=Rn;break;case`scroll`:case`scrollend`:l=bn;break;case`wheel`:l=zn;break;case`copy`:case`cut`:case`paste`:l=On;break;case`gotpointercapture`:case`lostpointercapture`:case`pointercancel`:case`pointerdown`:case`pointermove`:case`pointerout`:case`pointerover`:case`pointerup`:l=In;break;case`toggle`:case`beforetoggle`:l=Bn}var d=(t&4)!=0,f=!d&&(e===`scroll`||e===`scrollend`),p=d?c===null?null:c+`Capture`:c;d=[];for(var m=r,h;m!==null;){var g=m;if(h=g.stateNode,g=g.tag,g!==5&&g!==26&&g!==27||h===null||p===null||(g=an(m,p),g!=null&&d.push(wd(m,g,h))),f)break;m=m.return}0<d.length&&(c=new l(c,u,null,n,i),s.push({event:c,listeners:d}))}}if(!(t&7)){a:{if(c=e===`mouseover`||e===`pointerover`,l=e===`mouseout`||e===`pointerout`,c&&n!==Zt&&(u=n.relatedTarget||n.fromElement)&&(ft(u)||u[at]))break a;if((l||c)&&(c=i.window===i?i:(c=i.ownerDocument)?c.defaultView||c.parentWindow:window,l?(u=n.relatedTarget||n.toElement,l=r,u=u?ft(u):null,u!==null&&(f=o(u),d=u.tag,u!==f||d!==5&&d!==27&&d!==6)&&(u=null)):(l=null,u=r),l!==u)){if(d=Tn,g=`onMouseLeave`,p=`onMouseEnter`,m=`mouse`,(e===`pointerout`||e===`pointerover`)&&(d=In,g=`onPointerLeave`,p=`onPointerEnter`,m=`pointer`),f=l==null?c:mt(l),h=u==null?c:mt(u),c=new d(g,m+`leave`,l,n,i),c.target=f,c.relatedTarget=h,g=null,ft(i)===r&&(d=new d(p,m+`enter`,u,n,i),d.target=h,d.relatedTarget=f,g=d),f=g,l&&u)b:{for(d=Ed,p=l,m=u,h=0,g=p;g;g=d(g))h++;g=0;for(var _=m;_;_=d(_))g++;for(;0<h-g;)p=d(p),h--;for(;0<g-h;)m=d(m),g--;for(;h--;){if(p===m||m!==null&&p===m.alternate){d=p;break b}p=d(p),m=d(m)}d=null}else d=null;l!==null&&Dd(s,c,l,d,!1),u!==null&&f!==null&&Dd(s,f,u,d,!0)}}a:{if(c=r?mt(r):window,l=c.nodeName&&c.nodeName.toLowerCase(),l===`select`||l===`input`&&c.type===`file`)var v=or;else if(er(c))if(sr)v=gr;else{v=mr;var y=pr}else l=c.nodeName,!l||l.toLowerCase()!==`input`||c.type!==`checkbox`&&c.type!==`radio`?r&&Kt(r.elementType)&&(v=or):v=hr;if(v&&=v(e,r)){tr(s,v,n,i);break a}y&&y(e,c,r),e===`focusout`&&r&&c.type===`number`&&r.memoizedProps.value!=null&&Rt(c,`number`,c.value)}switch(y=r?mt(r):window,e){case`focusin`:(er(y)||y.contentEditable===`true`)&&(Er=y,Dr=r,Or=null);break;case`focusout`:Or=Dr=Er=null;break;case`mousedown`:kr=!0;break;case`contextmenu`:case`mouseup`:case`dragend`:kr=!1,Ar(s,n,i);break;case`selectionchange`:if(Tr)break;case`keydown`:case`keyup`:Ar(s,n,i)}var b;if(Hn)b:{switch(e){case`compositionstart`:var x=`onCompositionStart`;break b;case`compositionend`:x=`onCompositionEnd`;break b;case`compositionupdate`:x=`onCompositionUpdate`;break b}x=void 0}else Xn?Jn(e,n)&&(x=`onCompositionEnd`):e===`keydown`&&n.keyCode===229&&(x=`onCompositionStart`);x&&(Gn&&n.locale!==`ko`&&(Xn||x!==`onCompositionStart`?x===`onCompositionEnd`&&Xn&&(b=fn()):(ln=i,un=`value`in ln?ln.value:ln.textContent,Xn=!0)),y=Td(r,x),0<y.length&&(x=new kn(x,e,null,n,i),s.push({event:x,listeners:y}),b?x.data=b:(b=Yn(n),b!==null&&(x.data=b)))),(b=Wn?Zn(e,n):Qn(e,n))&&(x=Td(r,`onBeforeInput`),0<x.length&&(y=new kn(`onBeforeInput`,`beforeinput`,null,n,i),s.push({event:y,listeners:x}),y.data=b)),fd(s,e,r,n,i)}_d(s,t)})}function wd(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Td(e,t){for(var n=t+`Capture`,r=[];e!==null;){var i=e,a=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||a===null||(i=an(e,n),i!=null&&r.unshift(wd(e,i,a)),i=an(e,t),i!=null&&r.push(wd(e,i,a))),e.tag===3)return r;e=e.return}return[]}function Ed(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Dd(e,t,n,r,i){for(var a=t._reactName,o=[];n!==null&&n!==r;){var s=n,c=s.alternate,l=s.stateNode;if(s=s.tag,c!==null&&c===r)break;s!==5&&s!==26&&s!==27||l===null||(c=l,i?(l=an(n,a),l!=null&&o.unshift(wd(n,l,c))):i||(l=an(n,a),l!=null&&o.push(wd(n,l,c)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Od=/\r\n?/g,kd=/\u0000|\uFFFD/g;function Ad(e){return(typeof e==`string`?e:``+e).replace(Od,`
`).replace(kd,``)}function jd(e,t){return t=Ad(t),Ad(e)===t}function Md(e,t,n,r,a,o){switch(n){case`children`:typeof r==`string`?t===`body`||t===`textarea`&&r===``||Ht(e,r):(typeof r==`number`||typeof r==`bigint`)&&t!==`body`&&Ht(e,``+r);break;case`className`:Et(e,`class`,r);break;case`tabIndex`:Et(e,`tabindex`,r);break;case`dir`:case`role`:case`viewBox`:case`width`:case`height`:Et(e,n,r);break;case`style`:Gt(e,r,o);break;case`data`:if(t!==`object`){Et(e,`data`,r);break}case`src`:case`href`:if(r===``&&(t!==`a`||n!==`href`)){e.removeAttribute(n);break}if(r==null||typeof r==`function`||typeof r==`symbol`||typeof r==`boolean`){e.removeAttribute(n);break}r=Yt(``+r),e.setAttribute(n,r);break;case`action`:case`formAction`:if(typeof r==`function`){e.setAttribute(n,`javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')`);break}else typeof o==`function`&&(n===`formAction`?(t!==`input`&&Md(e,t,`name`,a.name,a,null),Md(e,t,`formEncType`,a.formEncType,a,null),Md(e,t,`formMethod`,a.formMethod,a,null),Md(e,t,`formTarget`,a.formTarget,a,null)):(Md(e,t,`encType`,a.encType,a,null),Md(e,t,`method`,a.method,a,null),Md(e,t,`target`,a.target,a,null)));if(r==null||typeof r==`symbol`||typeof r==`boolean`){e.removeAttribute(n);break}r=Yt(``+r),e.setAttribute(n,r);break;case`onClick`:r!=null&&(e.onclick=Xt);break;case`onScroll`:r!=null&&vd(`scroll`,e);break;case`onScrollEnd`:r!=null&&vd(`scrollend`,e);break;case`dangerouslySetInnerHTML`:if(r!=null){if(typeof r!=`object`||!(`__html`in r))throw Error(i(61));if(n=r.__html,n!=null){if(a.children!=null)throw Error(i(60));e.innerHTML=n}}break;case`multiple`:e.multiple=r&&typeof r!=`function`&&typeof r!=`symbol`;break;case`muted`:e.muted=r&&typeof r!=`function`&&typeof r!=`symbol`;break;case`suppressContentEditableWarning`:case`suppressHydrationWarning`:case`defaultValue`:case`defaultChecked`:case`innerHTML`:case`ref`:break;case`autoFocus`:break;case`xlinkHref`:if(r==null||typeof r==`function`||typeof r==`boolean`||typeof r==`symbol`){e.removeAttribute(`xlink:href`);break}n=Yt(``+r),e.setAttributeNS(`http://www.w3.org/1999/xlink`,`xlink:href`,n);break;case`contentEditable`:case`spellCheck`:case`draggable`:case`value`:case`autoReverse`:case`externalResourcesRequired`:case`focusable`:case`preserveAlpha`:r!=null&&typeof r!=`function`&&typeof r!=`symbol`?e.setAttribute(n,``+r):e.removeAttribute(n);break;case`inert`:case`allowFullScreen`:case`async`:case`autoPlay`:case`controls`:case`default`:case`defer`:case`disabled`:case`disablePictureInPicture`:case`disableRemotePlayback`:case`formNoValidate`:case`hidden`:case`loop`:case`noModule`:case`noValidate`:case`open`:case`playsInline`:case`readOnly`:case`required`:case`reversed`:case`scoped`:case`seamless`:case`itemScope`:r&&typeof r!=`function`&&typeof r!=`symbol`?e.setAttribute(n,``):e.removeAttribute(n);break;case`capture`:case`download`:!0===r?e.setAttribute(n,``):!1!==r&&r!=null&&typeof r!=`function`&&typeof r!=`symbol`?e.setAttribute(n,r):e.removeAttribute(n);break;case`cols`:case`rows`:case`size`:case`span`:r!=null&&typeof r!=`function`&&typeof r!=`symbol`&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case`rowSpan`:case`start`:r==null||typeof r==`function`||typeof r==`symbol`||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case`popover`:vd(`beforetoggle`,e),vd(`toggle`,e),Tt(e,`popover`,r);break;case`xlinkActuate`:Dt(e,`http://www.w3.org/1999/xlink`,`xlink:actuate`,r);break;case`xlinkArcrole`:Dt(e,`http://www.w3.org/1999/xlink`,`xlink:arcrole`,r);break;case`xlinkRole`:Dt(e,`http://www.w3.org/1999/xlink`,`xlink:role`,r);break;case`xlinkShow`:Dt(e,`http://www.w3.org/1999/xlink`,`xlink:show`,r);break;case`xlinkTitle`:Dt(e,`http://www.w3.org/1999/xlink`,`xlink:title`,r);break;case`xlinkType`:Dt(e,`http://www.w3.org/1999/xlink`,`xlink:type`,r);break;case`xmlBase`:Dt(e,`http://www.w3.org/XML/1998/namespace`,`xml:base`,r);break;case`xmlLang`:Dt(e,`http://www.w3.org/XML/1998/namespace`,`xml:lang`,r);break;case`xmlSpace`:Dt(e,`http://www.w3.org/XML/1998/namespace`,`xml:space`,r);break;case`is`:Tt(e,`is`,r);break;case`innerText`:case`textContent`:break;default:(!(2<n.length)||n[0]!==`o`&&n[0]!==`O`||n[1]!==`n`&&n[1]!==`N`)&&(n=qt.get(n)||n,Tt(e,n,r))}}function Nd(e,t,n,r,a,o){switch(n){case`style`:Gt(e,r,o);break;case`dangerouslySetInnerHTML`:if(r!=null){if(typeof r!=`object`||!(`__html`in r))throw Error(i(61));if(n=r.__html,n!=null){if(a.children!=null)throw Error(i(60));e.innerHTML=n}}break;case`children`:typeof r==`string`?Ht(e,r):(typeof r==`number`||typeof r==`bigint`)&&Ht(e,``+r);break;case`onScroll`:r!=null&&vd(`scroll`,e);break;case`onScrollEnd`:r!=null&&vd(`scrollend`,e);break;case`onClick`:r!=null&&(e.onclick=Xt);break;case`suppressContentEditableWarning`:case`suppressHydrationWarning`:case`innerHTML`:case`ref`:break;case`innerText`:case`textContent`:break;default:if(!vt.hasOwnProperty(n))a:{if(n[0]===`o`&&n[1]===`n`&&(a=n.endsWith(`Capture`),t=n.slice(2,a?n.length-7:void 0),o=e[it]||null,o=o==null?null:o[n],typeof o==`function`&&e.removeEventListener(t,o,a),typeof r==`function`)){typeof o!=`function`&&o!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,a);break a}n in e?e[n]=r:!0===r?e.setAttribute(n,``):Tt(e,n,r)}}}function Pd(e,t,n){switch(t){case`div`:case`span`:case`svg`:case`path`:case`a`:case`g`:case`p`:case`li`:break;case`img`:vd(`error`,e),vd(`load`,e);var r=!1,a=!1,o;for(o in n)if(n.hasOwnProperty(o)){var s=n[o];if(s!=null)switch(o){case`src`:r=!0;break;case`srcSet`:a=!0;break;case`children`:case`dangerouslySetInnerHTML`:throw Error(i(137,t));default:Md(e,t,o,s,n,null)}}a&&Md(e,t,`srcSet`,n.srcSet,n,null),r&&Md(e,t,`src`,n.src,n,null);return;case`input`:vd(`invalid`,e);var c=o=s=a=null,l=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var d=n[r];if(d!=null)switch(r){case`name`:a=d;break;case`type`:s=d;break;case`checked`:l=d;break;case`defaultChecked`:u=d;break;case`value`:o=d;break;case`defaultValue`:c=d;break;case`children`:case`dangerouslySetInnerHTML`:if(d!=null)throw Error(i(137,t));break;default:Md(e,t,r,d,n,null)}}Lt(e,o,c,l,u,s,a,!1);return;case`select`:for(a in vd(`invalid`,e),r=s=o=null,n)if(n.hasOwnProperty(a)&&(c=n[a],c!=null))switch(a){case`value`:o=c;break;case`defaultValue`:s=c;break;case`multiple`:r=c;default:Md(e,t,a,c,n,null)}t=o,n=s,e.multiple=!!r,t==null?n!=null&&zt(e,!!r,n,!0):zt(e,!!r,t,!1);return;case`textarea`:for(s in vd(`invalid`,e),o=a=r=null,n)if(n.hasOwnProperty(s)&&(c=n[s],c!=null))switch(s){case`value`:r=c;break;case`defaultValue`:a=c;break;case`children`:o=c;break;case`dangerouslySetInnerHTML`:if(c!=null)throw Error(i(91));break;default:Md(e,t,s,c,n,null)}Vt(e,r,a,o);return;case`option`:for(l in n)if(n.hasOwnProperty(l)&&(r=n[l],r!=null))switch(l){case`selected`:e.selected=r&&typeof r!=`function`&&typeof r!=`symbol`;break;default:Md(e,t,l,r,n,null)}return;case`dialog`:vd(`beforetoggle`,e),vd(`toggle`,e),vd(`cancel`,e),vd(`close`,e);break;case`iframe`:case`object`:vd(`load`,e);break;case`video`:case`audio`:for(r=0;r<hd.length;r++)vd(hd[r],e);break;case`image`:vd(`error`,e),vd(`load`,e);break;case`details`:vd(`toggle`,e);break;case`embed`:case`source`:case`link`:vd(`error`,e),vd(`load`,e);case`area`:case`base`:case`br`:case`col`:case`hr`:case`keygen`:case`meta`:case`param`:case`track`:case`wbr`:case`menuitem`:for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case`children`:case`dangerouslySetInnerHTML`:throw Error(i(137,t));default:Md(e,t,u,r,n,null)}return;default:if(Kt(t)){for(d in n)n.hasOwnProperty(d)&&(r=n[d],r!==void 0&&Nd(e,t,d,r,n,void 0));return}}for(c in n)n.hasOwnProperty(c)&&(r=n[c],r!=null&&Md(e,t,c,r,n,null))}function Fd(e,t,n,r){switch(t){case`div`:case`span`:case`svg`:case`path`:case`a`:case`g`:case`p`:case`li`:break;case`input`:var a=null,o=null,s=null,c=null,l=null,u=null,d=null;for(m in n){var f=n[m];if(n.hasOwnProperty(m)&&f!=null)switch(m){case`checked`:break;case`value`:break;case`defaultValue`:l=f;default:r.hasOwnProperty(m)||Md(e,t,m,null,r,f)}}for(var p in r){var m=r[p];if(f=n[p],r.hasOwnProperty(p)&&(m!=null||f!=null))switch(p){case`type`:o=m;break;case`name`:a=m;break;case`checked`:u=m;break;case`defaultChecked`:d=m;break;case`value`:s=m;break;case`defaultValue`:c=m;break;case`children`:case`dangerouslySetInnerHTML`:if(m!=null)throw Error(i(137,t));break;default:m!==f&&Md(e,t,p,m,r,f)}}It(e,s,c,l,u,d,o,a);return;case`select`:for(o in m=s=c=p=null,n)if(l=n[o],n.hasOwnProperty(o)&&l!=null)switch(o){case`value`:break;case`multiple`:m=l;default:r.hasOwnProperty(o)||Md(e,t,o,null,r,l)}for(a in r)if(o=r[a],l=n[a],r.hasOwnProperty(a)&&(o!=null||l!=null))switch(a){case`value`:p=o;break;case`defaultValue`:c=o;break;case`multiple`:s=o;default:o!==l&&Md(e,t,a,o,r,l)}t=c,n=s,r=m,p==null?!!r!=!!n&&(t==null?zt(e,!!n,n?[]:``,!1):zt(e,!!n,t,!0)):zt(e,!!n,p,!1);return;case`textarea`:for(c in m=p=null,n)if(a=n[c],n.hasOwnProperty(c)&&a!=null&&!r.hasOwnProperty(c))switch(c){case`value`:break;case`children`:break;default:Md(e,t,c,null,r,a)}for(s in r)if(a=r[s],o=n[s],r.hasOwnProperty(s)&&(a!=null||o!=null))switch(s){case`value`:p=a;break;case`defaultValue`:m=a;break;case`children`:break;case`dangerouslySetInnerHTML`:if(a!=null)throw Error(i(91));break;default:a!==o&&Md(e,t,s,a,r,o)}Bt(e,p,m);return;case`option`:for(var h in n)if(p=n[h],n.hasOwnProperty(h)&&p!=null&&!r.hasOwnProperty(h))switch(h){case`selected`:e.selected=!1;break;default:Md(e,t,h,null,r,p)}for(l in r)if(p=r[l],m=n[l],r.hasOwnProperty(l)&&p!==m&&(p!=null||m!=null))switch(l){case`selected`:e.selected=p&&typeof p!=`function`&&typeof p!=`symbol`;break;default:Md(e,t,l,p,r,m)}return;case`img`:case`link`:case`area`:case`base`:case`br`:case`col`:case`embed`:case`hr`:case`keygen`:case`meta`:case`param`:case`source`:case`track`:case`wbr`:case`menuitem`:for(var g in n)p=n[g],n.hasOwnProperty(g)&&p!=null&&!r.hasOwnProperty(g)&&Md(e,t,g,null,r,p);for(u in r)if(p=r[u],m=n[u],r.hasOwnProperty(u)&&p!==m&&(p!=null||m!=null))switch(u){case`children`:case`dangerouslySetInnerHTML`:if(p!=null)throw Error(i(137,t));break;default:Md(e,t,u,p,r,m)}return;default:if(Kt(t)){for(var _ in n)p=n[_],n.hasOwnProperty(_)&&p!==void 0&&!r.hasOwnProperty(_)&&Nd(e,t,_,void 0,r,p);for(d in r)p=r[d],m=n[d],!r.hasOwnProperty(d)||p===m||p===void 0&&m===void 0||Nd(e,t,d,p,r,m);return}}for(var v in n)p=n[v],n.hasOwnProperty(v)&&p!=null&&!r.hasOwnProperty(v)&&Md(e,t,v,null,r,p);for(f in r)p=r[f],m=n[f],!r.hasOwnProperty(f)||p===m||p==null&&m==null||Md(e,t,f,p,r,m)}function Id(e){switch(e){case`css`:case`script`:case`font`:case`img`:case`image`:case`input`:case`link`:return!0;default:return!1}}function Ld(){if(typeof performance.getEntriesByType==`function`){for(var e=0,t=0,n=performance.getEntriesByType(`resource`),r=0;r<n.length;r++){var i=n[r],a=i.transferSize,o=i.initiatorType,s=i.duration;if(a&&s&&Id(o)){for(o=0,s=i.responseEnd,r+=1;r<n.length;r++){var c=n[r],l=c.startTime;if(l>s)break;var u=c.transferSize,d=c.initiatorType;u&&Id(d)&&(c=c.responseEnd,o+=u*(c<s?1:(s-l)/(c-l)))}if(--r,t+=8*(a+o)/(i.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e==`number`)?e:5}var Rd=null,zd=null;function Bd(e){return e.nodeType===9?e:e.ownerDocument}function Vd(e){switch(e){case`http://www.w3.org/2000/svg`:return 1;case`http://www.w3.org/1998/Math/MathML`:return 2;default:return 0}}function Hd(e,t){if(e===0)switch(t){case`svg`:return 1;case`math`:return 2;default:return 0}return e===1&&t===`foreignObject`?0:e}function Ud(e,t){return e===`textarea`||e===`noscript`||typeof t.children==`string`||typeof t.children==`number`||typeof t.children==`bigint`||typeof t.dangerouslySetInnerHTML==`object`&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Wd=null;function Gd(){var e=window.event;return e&&e.type===`popstate`?e===Wd?!1:(Wd=e,!0):(Wd=null,!1)}var Kd=typeof setTimeout==`function`?setTimeout:void 0,qd=typeof clearTimeout==`function`?clearTimeout:void 0,Jd=typeof Promise==`function`?Promise:void 0,Yd=typeof queueMicrotask==`function`?queueMicrotask:Jd===void 0?Kd:function(e){return Jd.resolve(null).then(e).catch(Xd)};function Xd(e){setTimeout(function(){throw e})}function Zd(e){return e===`head`}function Qd(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n===`/$`||n===`/&`){if(r===0){e.removeChild(i),Np(t);return}r--}else if(n===`$`||n===`$?`||n===`$~`||n===`$!`||n===`&`)r++;else if(n===`html`)pf(e.ownerDocument.documentElement);else if(n===`head`){n=e.ownerDocument.head,pf(n);for(var a=n.firstChild;a;){var o=a.nextSibling,s=a.nodeName;a[ut]||s===`SCRIPT`||s===`STYLE`||s===`LINK`&&a.rel.toLowerCase()===`stylesheet`||n.removeChild(a),a=o}}else n===`body`&&pf(e.ownerDocument.body);n=i}while(n);Np(t)}function $d(e,t){var n=e;e=0;do{var r=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display=`none`):(n.style.display=n._stashedDisplay||``,n.getAttribute(`style`)===``&&n.removeAttribute(`style`)):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=``):n.nodeValue=n._stashedText||``),r&&r.nodeType===8)if(n=r.data,n===`/$`){if(e===0)break;e--}else n!==`$`&&n!==`$?`&&n!==`$~`&&n!==`$!`||e++;n=r}while(n)}function ef(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case`HTML`:case`HEAD`:case`BODY`:ef(n),dt(n);continue;case`SCRIPT`:case`STYLE`:continue;case`LINK`:if(n.rel.toLowerCase()===`stylesheet`)continue}e.removeChild(n)}}function tf(e,t,n,r){for(;e.nodeType===1;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!==`INPUT`||e.type!==`hidden`))break}else if(r){if(!e[ut])switch(t){case`meta`:if(!e.hasAttribute(`itemprop`))break;return e;case`link`:if(a=e.getAttribute(`rel`),a===`stylesheet`&&e.hasAttribute(`data-precedence`)||a!==i.rel||e.getAttribute(`href`)!==(i.href==null||i.href===``?null:i.href)||e.getAttribute(`crossorigin`)!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute(`title`)!==(i.title==null?null:i.title))break;return e;case`style`:if(e.hasAttribute(`data-precedence`))break;return e;case`script`:if(a=e.getAttribute(`src`),(a!==(i.src==null?null:i.src)||e.getAttribute(`type`)!==(i.type==null?null:i.type)||e.getAttribute(`crossorigin`)!==(i.crossOrigin==null?null:i.crossOrigin))&&a&&e.hasAttribute(`async`)&&!e.hasAttribute(`itemprop`))break;return e;default:return e}}else if(t===`input`&&e.type===`hidden`){var a=i.name==null?null:``+i.name;if(i.type===`hidden`&&e.getAttribute(`name`)===a)return e}else return e;if(e=cf(e.nextSibling),e===null)break}return null}function nf(e,t,n){if(t===``)return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!==`INPUT`||e.type!==`hidden`)&&!n||(e=cf(e.nextSibling),e===null))return null;return e}function rf(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!==`INPUT`||e.type!==`hidden`)&&!t||(e=cf(e.nextSibling),e===null))return null;return e}function af(e){return e.data===`$?`||e.data===`$~`}function of(e){return e.data===`$!`||e.data===`$?`&&e.ownerDocument.readyState!==`loading`}function sf(e,t){var n=e.ownerDocument;if(e.data===`$~`)e._reactRetry=t;else if(e.data!==`$?`||n.readyState!==`loading`)t();else{var r=function(){t(),n.removeEventListener(`DOMContentLoaded`,r)};n.addEventListener(`DOMContentLoaded`,r),e._reactRetry=r}}function cf(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t===`$`||t===`$!`||t===`$?`||t===`$~`||t===`&`||t===`F!`||t===`F`)break;if(t===`/$`||t===`/&`)return null}}return e}var lf=null;function uf(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n===`/$`||n===`/&`){if(t===0)return cf(e.nextSibling);t--}else n!==`$`&&n!==`$!`&&n!==`$?`&&n!==`$~`&&n!==`&`||t++}e=e.nextSibling}return null}function df(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n===`$`||n===`$!`||n===`$?`||n===`$~`||n===`&`){if(t===0)return e;t--}else n!==`/$`&&n!==`/&`||t++}e=e.previousSibling}return null}function ff(e,t,n){switch(t=Bd(n),e){case`html`:if(e=t.documentElement,!e)throw Error(i(452));return e;case`head`:if(e=t.head,!e)throw Error(i(453));return e;case`body`:if(e=t.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function pf(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);dt(e)}var mf=new Map,hf=new Set;function gf(e){return typeof e.getRootNode==`function`?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var _f=F.d;F.d={f:vf,r:yf,D:Sf,C:Cf,L:wf,m:Tf,X:Df,S:Ef,M:Of};function vf(){var e=_f.f(),t=_u();return e||t}function yf(e){var t=pt(e);t!==null&&t.tag===5&&t.type===`form`?bs(t):_f.r(e)}var bf=typeof document>`u`?null:document;function xf(e,t,n){var r=bf;if(r&&typeof t==`string`&&t){var i=Ft(t);i=`link[rel="`+e+`"][href="`+i+`"]`,typeof n==`string`&&(i+=`[crossorigin="`+n+`"]`),hf.has(i)||(hf.add(i),e={rel:e,crossOrigin:n,href:t},r.querySelector(i)===null&&(t=r.createElement(`link`),Pd(t,`link`,e),gt(t),r.head.appendChild(t)))}}function Sf(e){_f.D(e),xf(`dns-prefetch`,e,null)}function Cf(e,t){_f.C(e,t),xf(`preconnect`,e,t)}function wf(e,t,n){_f.L(e,t,n);var r=bf;if(r&&e&&t){var i=`link[rel="preload"][as="`+Ft(t)+`"]`;t===`image`&&n&&n.imageSrcSet?(i+=`[imagesrcset="`+Ft(n.imageSrcSet)+`"]`,typeof n.imageSizes==`string`&&(i+=`[imagesizes="`+Ft(n.imageSizes)+`"]`)):i+=`[href="`+Ft(e)+`"]`;var a=i;switch(t){case`style`:a=Af(e);break;case`script`:a=Pf(e)}mf.has(a)||(e=f({rel:`preload`,href:t===`image`&&n&&n.imageSrcSet?void 0:e,as:t},n),mf.set(a,e),r.querySelector(i)!==null||t===`style`&&r.querySelector(jf(a))||t===`script`&&r.querySelector(Ff(a))||(t=r.createElement(`link`),Pd(t,`link`,e),gt(t),r.head.appendChild(t)))}}function Tf(e,t){_f.m(e,t);var n=bf;if(n&&e){var r=t&&typeof t.as==`string`?t.as:`script`,i=`link[rel="modulepreload"][as="`+Ft(r)+`"][href="`+Ft(e)+`"]`,a=i;switch(r){case`audioworklet`:case`paintworklet`:case`serviceworker`:case`sharedworker`:case`worker`:case`script`:a=Pf(e)}if(!mf.has(a)&&(e=f({rel:`modulepreload`,href:e},t),mf.set(a,e),n.querySelector(i)===null)){switch(r){case`audioworklet`:case`paintworklet`:case`serviceworker`:case`sharedworker`:case`worker`:case`script`:if(n.querySelector(Ff(a)))return}r=n.createElement(`link`),Pd(r,`link`,e),gt(r),n.head.appendChild(r)}}}function Ef(e,t,n){_f.S(e,t,n);var r=bf;if(r&&e){var i=ht(r).hoistableStyles,a=Af(e);t||=`default`;var o=i.get(a);if(!o){var s={loading:0,preload:null};if(o=r.querySelector(jf(a)))s.loading=5;else{e=f({rel:`stylesheet`,href:e,"data-precedence":t},n),(n=mf.get(a))&&Rf(e,n);var c=o=r.createElement(`link`);gt(c),Pd(c,`link`,e),c._p=new Promise(function(e,t){c.onload=e,c.onerror=t}),c.addEventListener(`load`,function(){s.loading|=1}),c.addEventListener(`error`,function(){s.loading|=2}),s.loading|=4,Lf(o,t,r)}o={type:`stylesheet`,instance:o,count:1,state:s},i.set(a,o)}}}function Df(e,t){_f.X(e,t);var n=bf;if(n&&e){var r=ht(n).hoistableScripts,i=Pf(e),a=r.get(i);a||(a=n.querySelector(Ff(i)),a||(e=f({src:e,async:!0},t),(t=mf.get(i))&&zf(e,t),a=n.createElement(`script`),gt(a),Pd(a,`link`,e),n.head.appendChild(a)),a={type:`script`,instance:a,count:1,state:null},r.set(i,a))}}function Of(e,t){_f.M(e,t);var n=bf;if(n&&e){var r=ht(n).hoistableScripts,i=Pf(e),a=r.get(i);a||(a=n.querySelector(Ff(i)),a||(e=f({src:e,async:!0,type:`module`},t),(t=mf.get(i))&&zf(e,t),a=n.createElement(`script`),gt(a),Pd(a,`link`,e),n.head.appendChild(a)),a={type:`script`,instance:a,count:1,state:null},r.set(i,a))}}function kf(e,t,n,r){var a=(a=ie.current)?gf(a):null;if(!a)throw Error(i(446));switch(e){case`meta`:case`title`:return null;case`style`:return typeof n.precedence==`string`&&typeof n.href==`string`?(t=Af(n.href),n=ht(a).hoistableStyles,r=n.get(t),r||(r={type:`style`,instance:null,count:0,state:null},n.set(t,r)),r):{type:`void`,instance:null,count:0,state:null};case`link`:if(n.rel===`stylesheet`&&typeof n.href==`string`&&typeof n.precedence==`string`){e=Af(n.href);var o=ht(a).hoistableStyles,s=o.get(e);if(s||(a=a.ownerDocument||a,s={type:`stylesheet`,instance:null,count:0,state:{loading:0,preload:null}},o.set(e,s),(o=a.querySelector(jf(e)))&&!o._p&&(s.instance=o,s.state.loading=5),mf.has(e)||(n={rel:`preload`,as:`style`,href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},mf.set(e,n),o||Nf(a,e,n,s.state))),t&&r===null)throw Error(i(528,``));return s}if(t&&r!==null)throw Error(i(529,``));return null;case`script`:return t=n.async,n=n.src,typeof n==`string`&&t&&typeof t!=`function`&&typeof t!=`symbol`?(t=Pf(n),n=ht(a).hoistableScripts,r=n.get(t),r||(r={type:`script`,instance:null,count:0,state:null},n.set(t,r)),r):{type:`void`,instance:null,count:0,state:null};default:throw Error(i(444,e))}}function Af(e){return`href="`+Ft(e)+`"`}function jf(e){return`link[rel="stylesheet"][`+e+`]`}function Mf(e){return f({},e,{"data-precedence":e.precedence,precedence:null})}function Nf(e,t,n,r){e.querySelector(`link[rel="preload"][as="style"][`+t+`]`)?r.loading=1:(t=e.createElement(`link`),r.preload=t,t.addEventListener(`load`,function(){return r.loading|=1}),t.addEventListener(`error`,function(){return r.loading|=2}),Pd(t,`link`,n),gt(t),e.head.appendChild(t))}function Pf(e){return`[src="`+Ft(e)+`"]`}function Ff(e){return`script[async]`+e}function If(e,t,n){if(t.count++,t.instance===null)switch(t.type){case`style`:var r=e.querySelector(`style[data-href~="`+Ft(n.href)+`"]`);if(r)return t.instance=r,gt(r),r;var a=f({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement(`style`),gt(r),Pd(r,`style`,a),Lf(r,n.precedence,e),t.instance=r;case`stylesheet`:a=Af(n.href);var o=e.querySelector(jf(a));if(o)return t.state.loading|=4,t.instance=o,gt(o),o;r=Mf(n),(a=mf.get(a))&&Rf(r,a),o=(e.ownerDocument||e).createElement(`link`),gt(o);var s=o;return s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),Pd(o,`link`,r),t.state.loading|=4,Lf(o,n.precedence,e),t.instance=o;case`script`:return o=Pf(n.src),(a=e.querySelector(Ff(o)))?(t.instance=a,gt(a),a):(r=n,(a=mf.get(o))&&(r=f({},n),zf(r,a)),e=e.ownerDocument||e,a=e.createElement(`script`),gt(a),Pd(a,`link`,r),e.head.appendChild(a),t.instance=a);case`void`:return null;default:throw Error(i(443,t.type))}else t.type===`stylesheet`&&!(t.state.loading&4)&&(r=t.instance,t.state.loading|=4,Lf(r,n.precedence,e));return t.instance}function Lf(e,t,n){for(var r=n.querySelectorAll(`link[rel="stylesheet"][data-precedence],style[data-precedence]`),i=r.length?r[r.length-1]:null,a=i,o=0;o<r.length;o++){var s=r[o];if(s.dataset.precedence===t)a=s;else if(a!==i)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Rf(e,t){e.crossOrigin??=t.crossOrigin,e.referrerPolicy??=t.referrerPolicy,e.title??=t.title}function zf(e,t){e.crossOrigin??=t.crossOrigin,e.referrerPolicy??=t.referrerPolicy,e.integrity??=t.integrity}var Bf=null;function Vf(e,t,n){if(Bf===null){var r=new Map,i=Bf=new Map;i.set(n,r)}else i=Bf,r=i.get(n),r||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var a=n[i];if(!(a[ut]||a[rt]||e===`link`&&a.getAttribute(`rel`)===`stylesheet`)&&a.namespaceURI!==`http://www.w3.org/2000/svg`){var o=a.getAttribute(t)||``;o=e+o;var s=r.get(o);s?s.push(a):r.set(o,[a])}}return r}function Hf(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t===`title`?e.querySelector(`head > title`):null)}function Uf(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case`meta`:case`title`:return!0;case`style`:if(typeof t.precedence!=`string`||typeof t.href!=`string`||t.href===``)break;return!0;case`link`:if(typeof t.rel!=`string`||typeof t.href!=`string`||t.href===``||t.onLoad||t.onError)break;switch(t.rel){case`stylesheet`:return e=t.disabled,typeof t.precedence==`string`&&e==null;default:return!0}case`script`:if(t.async&&typeof t.async!=`function`&&typeof t.async!=`symbol`&&!t.onLoad&&!t.onError&&t.src&&typeof t.src==`string`)return!0}return!1}function Wf(e){return!(e.type===`stylesheet`&&!(e.state.loading&3))}function Gf(e,t,n,r){if(n.type===`stylesheet`&&(typeof r.media!=`string`||!1!==matchMedia(r.media).matches)&&!(n.state.loading&4)){if(n.instance===null){var i=Af(r.href),a=t.querySelector(jf(i));if(a){t=a._p,typeof t==`object`&&t&&typeof t.then==`function`&&(e.count++,e=Jf.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=a,gt(a);return}a=t.ownerDocument||t,r=Mf(r),(i=mf.get(i))&&Rf(r,i),a=a.createElement(`link`),gt(a);var o=a;o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),Pd(a,`link`,r),n.instance=a}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=Jf.bind(e),t.addEventListener(`load`,n),t.addEventListener(`error`,n))}}var Kf=0;function qf(e,t){return e.stylesheets&&e.count===0&&Xf(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&Xf(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&Kf===0&&(Kf=62500*Ld());var i=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Xf(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>Kf?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}function Jf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Xf(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Yf=null;function Xf(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Yf=new Map,t.forEach(Zf,e),Yf=null,Jf.call(e))}function Zf(e,t){if(!(t.state.loading&4)){var n=Yf.get(e);if(n)var r=n.get(null);else{n=new Map,Yf.set(e,n);for(var i=e.querySelectorAll(`link[data-precedence],style[data-precedence]`),a=0;a<i.length;a++){var o=i[a];(o.nodeName===`LINK`||o.getAttribute(`media`)!==`not all`)&&(n.set(o.dataset.precedence,o),r=o)}r&&n.set(null,r)}i=t.instance,o=i.getAttribute(`data-precedence`),a=n.get(o)||r,a===r&&n.set(null,i),n.set(o,i),this.count++,r=Jf.bind(this),i.addEventListener(`load`,r),i.addEventListener(`error`,r),a?a.parentNode.insertBefore(i,a.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var Qf={$$typeof:C,Provider:null,Consumer:null,_currentValue:I,_currentValue2:I,_threadCount:0};function $f(e,t,n,r,i,a,o,s,c){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ke(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ke(0),this.hiddenUpdates=Ke(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=c,this.incompleteTransitions=new Map}function ep(e,t,n,r,i,a,o,s,c,l,u,d){return e=new $f(e,t,n,o,c,l,u,d,s),t=1,!0===a&&(t|=24),a=ei(3,null,null,t),e.current=a,a.stateNode=e,t=ta(),t.refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:t},Pa(a),e}function tp(e){return e?(e=Qr,e):Qr}function np(e,t,n,r,i,a){i=tp(i),r.context===null?r.context=i:r.pendingContext=i,r=Ia(t),r.payload={element:n},a=a===void 0?null:a,a!==null&&(r.callback=a),n=La(e,r,t),n!==null&&(fu(n,e,t),Ra(n,e,t))}function rp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ip(e,t){rp(e,t),(e=e.alternate)&&rp(e,t)}function ap(e){if(e.tag===13||e.tag===31){var t=Yr(e,67108864);t!==null&&fu(t,e,67108864),ip(e,67108864)}}function op(e){if(e.tag===13||e.tag===31){var t=uu();t=Qe(t);var n=Yr(e,t);n!==null&&fu(n,e,t),ip(e,t)}}var sp=!0;function cp(e,t,n,r){var i=P.T;P.T=null;var a=F.p;try{F.p=2,up(e,t,n,r)}finally{F.p=a,P.T=i}}function lp(e,t,n,r){var i=P.T;P.T=null;var a=F.p;try{F.p=8,up(e,t,n,r)}finally{F.p=a,P.T=i}}function up(e,t,n,r){if(sp){var i=dp(r);if(i===null)Cd(e,t,r,fp,n),Cp(e,r);else if(Tp(i,e,t,n,r))r.stopPropagation();else if(Cp(e,r),t&4&&-1<Sp.indexOf(e)){for(;i!==null;){var a=pt(i);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var o=Ve(a.pendingLanes);if(o!==0){var s=a;for(s.pendingLanes|=2,s.entangledLanes|=2;o;){var c=1<<31-Pe(o);s.entanglements[1]|=c,o&=~c}td(a),!(jl&6)&&(Ql=Se()+500,nd(0,!1))}}break;case 31:case 13:s=Yr(a,2),s!==null&&fu(s,a,2),_u(),ip(a,2)}if(a=dp(r),a===null&&Cd(e,t,r,fp,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else Cd(e,t,r,null,n)}}function dp(e){return e=Qt(e),pp(e)}var fp=null;function pp(e){if(fp=null,e=ft(e),e!==null){var t=o(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=s(t),e!==null)return e;e=null}else if(n===31){if(e=c(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return fp=e,null}function mp(e){switch(e){case`beforetoggle`:case`cancel`:case`click`:case`close`:case`contextmenu`:case`copy`:case`cut`:case`auxclick`:case`dblclick`:case`dragend`:case`dragstart`:case`drop`:case`focusin`:case`focusout`:case`input`:case`invalid`:case`keydown`:case`keypress`:case`keyup`:case`mousedown`:case`mouseup`:case`paste`:case`pause`:case`play`:case`pointercancel`:case`pointerdown`:case`pointerup`:case`ratechange`:case`reset`:case`resize`:case`seeked`:case`submit`:case`toggle`:case`touchcancel`:case`touchend`:case`touchstart`:case`volumechange`:case`change`:case`selectionchange`:case`textInput`:case`compositionstart`:case`compositionend`:case`compositionupdate`:case`beforeblur`:case`afterblur`:case`beforeinput`:case`blur`:case`fullscreenchange`:case`focus`:case`hashchange`:case`popstate`:case`select`:case`selectstart`:return 2;case`drag`:case`dragenter`:case`dragexit`:case`dragleave`:case`dragover`:case`mousemove`:case`mouseout`:case`mouseover`:case`pointermove`:case`pointerout`:case`pointerover`:case`scroll`:case`touchmove`:case`wheel`:case`mouseenter`:case`mouseleave`:case`pointerenter`:case`pointerleave`:return 8;case`message`:switch(Ce()){case we:return 2;case Te:return 8;case Ee:case De:return 32;case Oe:return 268435456;default:return 32}default:return 32}}var hp=!1,gp=null,_p=null,vp=null,yp=new Map,bp=new Map,xp=[],Sp=`mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset`.split(` `);function Cp(e,t){switch(e){case`focusin`:case`focusout`:gp=null;break;case`dragenter`:case`dragleave`:_p=null;break;case`mouseover`:case`mouseout`:vp=null;break;case`pointerover`:case`pointerout`:yp.delete(t.pointerId);break;case`gotpointercapture`:case`lostpointercapture`:bp.delete(t.pointerId)}}function wp(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=pt(t),t!==null&&ap(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Tp(e,t,n,r,i){switch(t){case`focusin`:return gp=wp(gp,e,t,n,r,i),!0;case`dragenter`:return _p=wp(_p,e,t,n,r,i),!0;case`mouseover`:return vp=wp(vp,e,t,n,r,i),!0;case`pointerover`:var a=i.pointerId;return yp.set(a,wp(yp.get(a)||null,e,t,n,r,i)),!0;case`gotpointercapture`:return a=i.pointerId,bp.set(a,wp(bp.get(a)||null,e,t,n,r,i)),!0}return!1}function Ep(e){var t=ft(e.target);if(t!==null){var n=o(t);if(n!==null){if(t=n.tag,t===13){if(t=s(n),t!==null){e.blockedOn=t,tt(e.priority,function(){op(n)});return}}else if(t===31){if(t=c(n),t!==null){e.blockedOn=t,tt(e.priority,function(){op(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Dp(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=dp(e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Zt=r,n.target.dispatchEvent(r),Zt=null}else return t=pt(n),t!==null&&ap(t),e.blockedOn=n,!1;t.shift()}return!0}function Op(e,t,n){Dp(e)&&n.delete(t)}function kp(){hp=!1,gp!==null&&Dp(gp)&&(gp=null),_p!==null&&Dp(_p)&&(_p=null),vp!==null&&Dp(vp)&&(vp=null),yp.forEach(Op),bp.forEach(Op)}function Ap(e,n){e.blockedOn===n&&(e.blockedOn=null,hp||(hp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,kp)))}var jp=null;function Mp(e){jp!==e&&(jp=e,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){jp===e&&(jp=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if(typeof r!=`function`){if(pp(r||n)===null)continue;break}var a=pt(n);a!==null&&(e.splice(t,3),t-=3,vs(a,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Np(e){function t(t){return Ap(t,e)}gp!==null&&Ap(gp,e),_p!==null&&Ap(_p,e),vp!==null&&Ap(vp,e),yp.forEach(t),bp.forEach(t);for(var n=0;n<xp.length;n++){var r=xp[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<xp.length&&(n=xp[0],n.blockedOn===null);)Ep(n),n.blockedOn===null&&xp.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],o=i[it]||null;if(typeof a==`function`)o||Mp(n);else if(o){var s=null;if(a&&a.hasAttribute(`formAction`)){if(i=a,o=a[it]||null)s=o.formAction;else if(pp(i)!==null)continue}else s=o.action;typeof s==`function`?n[r+1]=s:(n.splice(r,3),r-=3),Mp(n)}}}function Pp(){function e(e){e.canIntercept&&e.info===`react-transition`&&e.intercept({handler:function(){return new Promise(function(e){return i=e})},focusReset:`manual`,scroll:`manual`})}function t(){i!==null&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&e.url!=null&&navigation.navigate(e.url,{state:e.getState(),info:`react-transition`,history:`replace`})}}if(typeof navigation==`object`){var r=!1,i=null;return navigation.addEventListener(`navigate`,e),navigation.addEventListener(`navigatesuccess`,t),navigation.addEventListener(`navigateerror`,t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener(`navigate`,e),navigation.removeEventListener(`navigatesuccess`,t),navigation.removeEventListener(`navigateerror`,t),i!==null&&(i(),i=null)}}}function Fp(e){this._internalRoot=e}Ip.prototype.render=Fp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));var n=t.current;np(n,uu(),e,t,null,null)},Ip.prototype.unmount=Fp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;np(e.current,2,null,e,null,null),_u(),t[at]=null}};function Ip(e){this._internalRoot=e}Ip.prototype.unstable_scheduleHydration=function(e){if(e){var t=et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<xp.length&&t!==0&&t<xp[n].priority;n++);xp.splice(n,0,e),n===0&&Ep(e)}};var Lp=n.version;if(Lp!==`19.2.0`)throw Error(i(527,Lp,`19.2.0`));F.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render==`function`?Error(i(188)):(e=Object.keys(e).join(`,`),Error(i(268,e)));return e=u(t),e=e===null?null:d(e),e=e===null?null:e.stateNode,e};var Rp={bundleType:0,version:`19.2.0`,rendererPackageName:`react-dom`,currentDispatcherRef:P,reconcilerVersion:`19.2.0`};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<`u`){var zp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zp.isDisabled&&zp.supportsFiber)try{je=zp.inject(Rp),Me=zp}catch{}}e.createRoot=function(e,t){if(!a(e))throw Error(i(299));var n=!1,r=``,o=Bs,s=Vs,c=Hs;return t!=null&&(!0===t.unstable_strictMode&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(c=t.onRecoverableError)),t=ep(e,1,!1,null,null,n,r,null,o,s,c,Pp),e[at]=t.current,xd(e),new Fp(t)}})),y=s(((e,t)=>{function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>`u`||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=`function`))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}n(),t.exports=v()})),b=`modulepreload`,x=function(e){return`/beefybeer/`+e},S={};const C=function(e,t,n){let r=Promise.resolve();if(t&&t.length>0){let e=document.getElementsByTagName(`link`),i=document.querySelector(`meta[property=csp-nonce]`),a=i?.nonce||i?.getAttribute(`nonce`);function o(e){return Promise.all(e.map(e=>Promise.resolve(e).then(e=>({status:`fulfilled`,value:e}),e=>({status:`rejected`,reason:e}))))}r=o(t.map(t=>{if(t=x(t,n),t in S)return;S[t]=!0;let r=t.endsWith(`.css`),i=r?`[rel="stylesheet"]`:``;if(n)for(let n=e.length-1;n>=0;n--){let i=e[n];if(i.href===t&&(!r||i.rel===`stylesheet`))return}else if(document.querySelector(`link[href="${t}"]${i}`))return;let o=document.createElement(`link`);if(o.rel=r?`stylesheet`:b,r||(o.as=`script`),o.crossOrigin=``,o.href=t,a&&o.setAttribute(`nonce`,a),document.head.appendChild(o),r)return new Promise((e,n)=>{o.addEventListener(`load`,e),o.addEventListener(`error`,()=>n(Error(`Unable to preload CSS for ${t}`)))})}))}function i(e){let t=new Event(`vite:preloadError`,{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return r.then(t=>{for(let e of t||[])e.status===`rejected`&&i(e.reason);return e().catch(i)})};var w=u(p(),1),T=`popstate`;function E(e={}){function t(e,t){let{pathname:n,search:r,hash:i}=e.location;return j(``,{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||`default`)}function n(e,t){return typeof t==`string`?t:ee(t)}return te(t,n,null,e)}function D(e,t){if(e===!1||e==null)throw Error(t)}function O(e,t){if(!e){typeof console<`u`&&console.warn(t);try{throw Error(t)}catch{}}}function k(){return Math.random().toString(36).substring(2,10)}function A(e,t){return{usr:e.state,key:e.key,idx:t}}function j(e,t,n=null,r){return{pathname:typeof e==`string`?e:e.pathname,search:``,hash:``,...typeof t==`string`?M(t):t,state:n,key:t&&t.key||r||k()}}function ee({pathname:e=`/`,search:t=``,hash:n=``}){return t&&t!==`?`&&(e+=t.charAt(0)===`?`?t:`?`+t),n&&n!==`#`&&(e+=n.charAt(0)===`#`?n:`#`+n),e}function M(e){let t={};if(e){let n=e.indexOf(`#`);n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf(`?`);r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function te(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,s=`POP`,c=null,l=u();l??(l=0,o.replaceState({...o.state,idx:l},``));function u(){return(o.state||{idx:null}).idx}function d(){s=`POP`;let e=u(),t=e==null?null:e-l;l=e,c&&c({action:s,location:h.location,delta:t})}function f(e,t){s=`PUSH`;let r=j(h.location,e,t);n&&n(r,e),l=u()+1;let d=A(r,l),f=h.createHref(r);try{o.pushState(d,``,f)}catch(e){if(e instanceof DOMException&&e.name===`DataCloneError`)throw e;i.location.assign(f)}a&&c&&c({action:s,location:h.location,delta:1})}function p(e,t){s=`REPLACE`;let r=j(h.location,e,t);n&&n(r,e),l=u();let i=A(r,l),d=h.createHref(r);o.replaceState(i,``,d),a&&c&&c({action:s,location:h.location,delta:0})}function m(e){return N(e)}let h={get action(){return s},get location(){return e(i,o)},listen(e){if(c)throw Error(`A history only accepts one active listener`);return i.addEventListener(T,d),c=e,()=>{i.removeEventListener(T,d),c=null}},createHref(e){return t(i,e)},createURL:m,encodeLocation(e){let t=m(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:f,replace:p,go(e){return o.go(e)}};return h}function N(e,t=!1){let n=`http://localhost`;typeof window<`u`&&(n=window.location.origin===`null`?window.location.href:window.location.origin),D(n,`No window.location.(origin|href) available to create URL`);let r=typeof e==`string`?e:ee(e);return r=r.replace(/ $/,`%20`),!t&&r.startsWith(`//`)&&(r=n+r),new URL(r,n)}function P(e,t,n=`/`){return F(e,t,n,!1)}function F(e,t,n,r){let i=pe((typeof t==`string`?M(t):t).pathname||`/`,n);if(i==null)return null;let a=L(e);R(a);let o=null;for(let e=0;o==null&&e<a.length;++e){let t=fe(i);o=le(a[e],t,r)}return o}function I(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],loaderData:t[n.id],handle:n.handle}}function L(e,t=[],n=[],r=``,i=!1){let a=(e,a,o=i,s)=>{let c={relativePath:s===void 0?e.path||``:s,caseSensitive:e.caseSensitive===!0,childrenIndex:a,route:e};if(c.relativePath.startsWith(`/`)){if(!c.relativePath.startsWith(r)&&o)return;D(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length)}let l=Se([r,c.relativePath]),u=n.concat(c);e.children&&e.children.length>0&&(D(e.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${l}".`),L(e.children,t,u,l,o)),!(e.path==null&&!e.index)&&t.push({path:l,score:se(l,e.index),routesMeta:u})};return e.forEach((e,t)=>{if(e.path===``||!e.path?.includes(`?`))a(e,t);else for(let n of ne(e.path))a(e,t,!0,n)}),t}function ne(e){let t=e.split(`/`);if(t.length===0)return[];let[n,...r]=t,i=n.endsWith(`?`),a=n.replace(/\?$/,``);if(r.length===0)return i?[a,``]:[a];let o=ne(r.join(`/`)),s=[];return s.push(...o.map(e=>e===``?a:[a,e].join(`/`))),i&&s.push(...o),s.map(t=>e.startsWith(`/`)&&t===``?`/`:t)}function R(e){e.sort((e,t)=>e.score===t.score?ce(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)):t.score-e.score)}var z=/^:[\w-]+$/,B=3,re=2,V=1,ie=10,ae=-2,oe=e=>e===`*`;function se(e,t){let n=e.split(`/`),r=n.length;return n.some(oe)&&(r+=ae),t&&(r+=re),n.filter(e=>!oe(e)).reduce((e,t)=>e+(z.test(t)?B:t===``?V:ie),r)}function ce(e,t){return e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n])?e[e.length-1]-t[t.length-1]:0}function le(e,t,n=!1){let{routesMeta:r}=e,i={},a=`/`,o=[];for(let e=0;e<r.length;++e){let s=r[e],c=e===r.length-1,l=a===`/`?t:t.slice(a.length)||`/`,u=ue({path:s.relativePath,caseSensitive:s.caseSensitive,end:c},l),d=s.route;if(!u&&c&&n&&!r[r.length-1].route.index&&(u=ue({path:s.relativePath,caseSensitive:s.caseSensitive,end:!1},l)),!u)return null;Object.assign(i,u.params),o.push({params:i,pathname:Se([a,u.pathname]),pathnameBase:Ce(Se([a,u.pathnameBase])),route:d}),u.pathnameBase!==`/`&&(a=Se([a,u.pathnameBase]))}return o}function ue(e,t){typeof e==`string`&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=de(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,`$1`),s=i.slice(1);return{params:r.reduce((e,{paramName:t,isOptional:n},r)=>{if(t===`*`){let e=s[r]||``;o=a.slice(0,a.length-e.length).replace(/(.)\/+$/,`$1`)}let i=s[r];return n&&!i?e[t]=void 0:e[t]=(i||``).replace(/%2F/g,`/`),e},{}),pathname:a,pathnameBase:o,pattern:e}}function de(e,t=!1,n=!0){O(e===`*`||!e.endsWith(`*`)||e.endsWith(`/*`),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,`/*`)}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,`/*`)}".`);let r=[],i=`^`+e.replace(/\/*\*?$/,``).replace(/^\/*/,`/`).replace(/[\\.*+^${}|()[\]]/g,`\\$&`).replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:n!=null}),n?`/?([^\\/]+)?`:`/([^\\/]+)`)).replace(/\/([\w-]+)\?(\/|$)/g,`(/$1)?$2`);return e.endsWith(`*`)?(r.push({paramName:`*`}),i+=e===`*`||e===`/*`?`(.*)$`:`(?:\\/(.+)|\\/*)$`):n?i+=`\\/*$`:e!==``&&e!==`/`&&(i+=`(?:(?=\\/|$))`),[new RegExp(i,t?void 0:`i`),r]}function fe(e){try{return e.split(`/`).map(e=>decodeURIComponent(e).replace(/\//g,`%2F`)).join(`/`)}catch(t){return O(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function pe(e,t){if(t===`/`)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith(`/`)?t.length-1:t.length,r=e.charAt(n);return r&&r!==`/`?null:e.slice(n)||`/`}var me=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,he=e=>me.test(e);function ge(e,t=`/`){let{pathname:n,search:r=``,hash:i=``}=typeof e==`string`?M(e):e,a;if(n)if(he(n))a=n;else{if(n.includes(`//`)){let e=n;n=n.replace(/\/\/+/g,`/`),O(!1,`Pathnames cannot have embedded double slashes - normalizing ${e} -> ${n}`)}a=n.startsWith(`/`)?_e(n.substring(1),`/`):_e(n,t)}else a=t;return{pathname:a,search:we(r),hash:Te(i)}}function _e(e,t){let n=t.replace(/\/+$/,``).split(`/`);return e.split(`/`).forEach(e=>{e===`..`?n.length>1&&n.pop():e!==`.`&&n.push(e)}),n.length>1?n.join(`/`):`/`}function ve(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ye(e){return e.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function be(e){let t=ye(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function xe(e,t,n,r=!1){let i;typeof e==`string`?i=M(e):(i={...e},D(!i.pathname||!i.pathname.includes(`?`),ve(`?`,`pathname`,`search`,i)),D(!i.pathname||!i.pathname.includes(`#`),ve(`#`,`pathname`,`hash`,i)),D(!i.search||!i.search.includes(`#`),ve(`#`,`search`,`hash`,i)));let a=e===``||i.pathname===``,o=a?`/`:i.pathname,s;if(o==null)s=n;else{let e=t.length-1;if(!r&&o.startsWith(`..`)){let t=o.split(`/`);for(;t[0]===`..`;)t.shift(),--e;i.pathname=t.join(`/`)}s=e>=0?t[e]:`/`}let c=ge(i,s),l=o&&o!==`/`&&o.endsWith(`/`),u=(a||o===`.`)&&n.endsWith(`/`);return!c.pathname.endsWith(`/`)&&(l||u)&&(c.pathname+=`/`),c}var Se=e=>e.join(`/`).replace(/\/\/+/g,`/`),Ce=e=>e.replace(/\/+$/,``).replace(/^\/*/,`/`),we=e=>!e||e===`?`?``:e.startsWith(`?`)?e:`?`+e,Te=e=>!e||e===`#`?``:e.startsWith(`#`)?e:`#`+e;function Ee(e){return e!=null&&typeof e.status==`number`&&typeof e.statusText==`string`&&typeof e.internal==`boolean`&&`data`in e}Object.getOwnPropertyNames(Object.prototype).sort().join(`\0`);var De=w.createContext(null);De.displayName=`DataRouter`;var Oe=w.createContext(null);Oe.displayName=`DataRouterState`,w.createContext(!1);var ke=w.createContext({isTransitioning:!1});ke.displayName=`ViewTransition`;var Ae=w.createContext(new Map);Ae.displayName=`Fetchers`;var je=w.createContext(null);je.displayName=`Await`;var Me=w.createContext(null);Me.displayName=`Navigation`;var Ne=w.createContext(null);Ne.displayName=`Location`;var Pe=w.createContext({outlet:null,matches:[],isDataRoute:!1});Pe.displayName=`Route`;var Fe=w.createContext(null);Fe.displayName=`RouteError`;function Ie(e,{relative:t}={}){D(Le(),`useHref() may be used only in the context of a <Router> component.`);let{basename:n,navigator:r}=w.useContext(Me),{hash:i,pathname:a,search:o}=Ge(e,{relative:t}),s=a;return n!==`/`&&(s=a===`/`?n:Se([n,a])),r.createHref({pathname:s,search:o,hash:i})}function Le(){return w.useContext(Ne)!=null}function Re(){return D(Le(),`useLocation() may be used only in the context of a <Router> component.`),w.useContext(Ne).location}var ze=`You should call navigate() in a React.useEffect(), not when your component is first rendered.`;function Be(e){w.useContext(Me).static||w.useLayoutEffect(e)}function Ve(){let{isDataRoute:e}=w.useContext(Pe);return e?ct():He()}function He(){D(Le(),`useNavigate() may be used only in the context of a <Router> component.`);let e=w.useContext(De),{basename:t,navigator:n}=w.useContext(Me),{matches:r}=w.useContext(Pe),{pathname:i}=Re(),a=JSON.stringify(be(r)),o=w.useRef(!1);return Be(()=>{o.current=!0}),w.useCallback((r,s={})=>{if(O(o.current,ze),!o.current)return;if(typeof r==`number`){n.go(r);return}let c=xe(r,JSON.parse(a),i,s.relative===`path`);e==null&&t!==`/`&&(c.pathname=c.pathname===`/`?t:Se([t,c.pathname])),(s.replace?n.replace:n.push)(c,s.state,s)},[t,n,a,i,e])}var Ue=w.createContext(null);function We(e){let t=w.useContext(Pe).outlet;return w.useMemo(()=>t&&w.createElement(Ue.Provider,{value:e},t),[t,e])}function Ge(e,{relative:t}={}){let{matches:n}=w.useContext(Pe),{pathname:r}=Re(),i=JSON.stringify(be(n));return w.useMemo(()=>xe(e,JSON.parse(i),r,t===`path`),[e,i,r,t])}function Ke(e,t){return qe(e,t)}function qe(e,t,n,r,i){D(Le(),`useRoutes() may be used only in the context of a <Router> component.`);let{navigator:a}=w.useContext(Me),{matches:o}=w.useContext(Pe),s=o[o.length-1],c=s?s.params:{},l=s?s.pathname:`/`,u=s?s.pathnameBase:`/`,d=s&&s.route;{let e=d&&d.path||``;ut(l,!d||e.endsWith(`*`)||e.endsWith(`*?`),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${e}"> to <Route path="${e===`/`?`*`:`${e}/*`}">.`)}let f=Re(),p;if(t){let e=typeof t==`string`?M(t):t;D(u===`/`||e.pathname?.startsWith(u),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${e.pathname}" was given in the \`location\` prop.`),p=e}else p=f;let m=p.pathname||`/`,h=m;if(u!==`/`){let e=u.replace(/^\//,``).split(`/`);h=`/`+m.replace(/^\//,``).split(`/`).slice(e.length).join(`/`)}let g=P(e,{pathname:h});O(d||g!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),O(g==null||g[g.length-1].route.element!==void 0||g[g.length-1].route.Component!==void 0||g[g.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=Qe(g&&g.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:Se([u,a.encodeLocation?a.encodeLocation(e.pathname.replace(/\?/g,`%3F`).replace(/#/g,`%23`)).pathname:e.pathname]),pathnameBase:e.pathnameBase===`/`?u:Se([u,a.encodeLocation?a.encodeLocation(e.pathnameBase.replace(/\?/g,`%3F`).replace(/#/g,`%23`)).pathname:e.pathnameBase])})),o,n,r,i);return t&&_?w.createElement(Ne.Provider,{value:{location:{pathname:`/`,search:``,hash:``,state:null,key:`default`,...p},navigationType:`POP`}},_):_}function Je(){let e=st(),t=Ee(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r=`rgba(200,200,200, 0.5)`,i={padding:`0.5rem`,backgroundColor:r},a={padding:`2px 4px`,backgroundColor:r},o=null;return console.error(`Error handled by React Router default ErrorBoundary:`,e),o=w.createElement(w.Fragment,null,w.createElement(`p`,null,` Hey developer `),w.createElement(`p`,null,`You can provide a way better UX than this when your app throws errors by providing your own `,w.createElement(`code`,{style:a},`ErrorBoundary`),` or`,` `,w.createElement(`code`,{style:a},`errorElement`),` prop on your route.`)),w.createElement(w.Fragment,null,w.createElement(`h2`,null,`Unexpected Application Error!`),w.createElement(`h3`,{style:{fontStyle:`italic`}},t),n?w.createElement(`pre`,{style:i},n):null,o)}var Ye=w.createElement(Je,null),Xe=class extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!==`idle`&&e.revalidation===`idle`?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error===void 0?t.error:e.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error(`React Router caught the following error during render`,e)}render(){return this.state.error===void 0?this.props.children:w.createElement(Pe.Provider,{value:this.props.routeContext},w.createElement(Fe.Provider,{value:this.state.error,children:this.props.component}))}};function Ze({routeContext:e,match:t,children:n}){let r=w.useContext(De);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),w.createElement(Pe.Provider,{value:e},n)}function Qe(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,o=n?.errors;if(o!=null){let e=a.findIndex(e=>e.route.id&&o?.[e.route.id]!==void 0);D(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(`,`)}`),a=a.slice(0,Math.min(a.length,e+1))}let s=!1,c=-1;if(n)for(let e=0;e<a.length;e++){let t=a[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(c=e),t.route.id){let{loaderData:e,errors:r}=n,i=t.route.loader&&!e.hasOwnProperty(t.route.id)&&(!r||r[t.route.id]===void 0);if(t.route.lazy||i){s=!0,a=c>=0?a.slice(0,c+1):[a[0]];break}}}let l=n&&r?(e,t)=>{r(e,{location:n.location,params:n.matches?.[0]?.params??{},errorInfo:t})}:void 0;return a.reduceRight((e,r,i)=>{let u,d=!1,f=null,p=null;n&&(u=o&&r.route.id?o[r.route.id]:void 0,f=r.route.errorElement||Ye,s&&(c<0&&i===0?(ut(`route-fallback`,!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,p=null):c===i&&(d=!0,p=r.route.hydrateFallbackElement||null)));let m=t.concat(a.slice(0,i+1)),h=()=>{let t;return t=u?f:d?p:r.route.Component?w.createElement(r.route.Component,null):r.route.element?r.route.element:e,w.createElement(Ze,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:n!=null},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||i===0)?w.createElement(Xe,{location:n.location,revalidation:n.revalidation,component:f,error:u,children:h(),routeContext:{outlet:null,matches:m,isDataRoute:!0},onError:l}):h()},null)}function $e(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function et(e){let t=w.useContext(De);return D(t,$e(e)),t}function tt(e){let t=w.useContext(Oe);return D(t,$e(e)),t}function nt(e){let t=w.useContext(Pe);return D(t,$e(e)),t}function rt(e){let t=nt(e),n=t.matches[t.matches.length-1];return D(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function it(){return rt(`useRouteId`)}function at(){return tt(`useNavigation`).navigation}function ot(){let{matches:e,loaderData:t}=tt(`useMatches`);return w.useMemo(()=>e.map(e=>I(e,t)),[e,t])}function st(){let e=w.useContext(Fe),t=tt(`useRouteError`),n=rt(`useRouteError`);return e===void 0?t.errors?.[n]:e}function ct(){let{router:e}=et(`useNavigate`),t=rt(`useNavigate`),n=w.useRef(!1);return Be(()=>{n.current=!0}),w.useCallback(async(r,i={})=>{O(n.current,ze),n.current&&(typeof r==`number`?e.navigate(r):await e.navigate(r,{fromRouteId:t,...i}))},[e,t])}var lt={};function ut(e,t,n){!t&&!lt[e]&&(lt[e]=!0,O(!1,n))}w.memo(dt);function dt({routes:e,future:t,state:n,unstable_onError:r}){return qe(e,void 0,n,r,t)}function ft({to:e,replace:t,state:n,relative:r}){D(Le(),`<Navigate> may be used only in the context of a <Router> component.`);let{static:i}=w.useContext(Me);O(!i,`<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.`);let{matches:a}=w.useContext(Pe),{pathname:o}=Re(),s=Ve(),c=xe(e,be(a),o,r===`path`),l=JSON.stringify(c);return w.useEffect(()=>{s(JSON.parse(l),{replace:t,state:n,relative:r})},[s,l,r,t,n]),null}function pt(e){return We(e.context)}function mt(e){D(!1,`A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.`)}function ht({basename:e=`/`,children:t=null,location:n,navigationType:r=`POP`,navigator:i,static:a=!1}){D(!Le(),`You cannot render a <Router> inside another <Router>. You should never have more than one in your app.`);let o=e.replace(/^\/*/,`/`),s=w.useMemo(()=>({basename:o,navigator:i,static:a,future:{}}),[o,i,a]);typeof n==`string`&&(n=M(n));let{pathname:c=`/`,search:l=``,hash:u=``,state:d=null,key:f=`default`}=n,p=w.useMemo(()=>{let e=pe(c,o);return e==null?null:{location:{pathname:e,search:l,hash:u,state:d,key:f},navigationType:r}},[o,c,l,u,d,f,r]);return O(p!=null,`<Router basename="${o}"> is not able to match the URL "${c}${l}${u}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:w.createElement(Me.Provider,{value:s},w.createElement(Ne.Provider,{children:t,value:p}))}function gt({children:e,location:t}){return Ke(_t(e),t)}function _t(e,t=[]){let n=[];return w.Children.forEach(e,(e,r)=>{if(!w.isValidElement(e))return;let i=[...t,r];if(e.type===w.Fragment){n.push.apply(n,_t(e.props.children,i));return}D(e.type===mt,`[${typeof e.type==`string`?e.type:e.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),D(!e.props.index||!e.props.children,`An index route cannot have child routes.`);let a={id:e.props.id||i.join(`-`),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,middleware:e.props.middleware,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:e.props.hasErrorBoundary===!0||e.props.ErrorBoundary!=null||e.props.errorElement!=null,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=_t(e.props.children,i)),n.push(a)}),n}var vt=`get`,yt=`application/x-www-form-urlencoded`;function bt(e){return e!=null&&typeof e.tagName==`string`}function xt(e){return bt(e)&&e.tagName.toLowerCase()===`button`}function St(e){return bt(e)&&e.tagName.toLowerCase()===`form`}function Ct(e){return bt(e)&&e.tagName.toLowerCase()===`input`}function wt(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Tt(e,t){return e.button===0&&(!t||t===`_self`)&&!wt(e)}var Et=null;function Dt(){if(Et===null)try{new FormData(document.createElement(`form`),0),Et=!1}catch{Et=!0}return Et}var Ot=new Set([`application/x-www-form-urlencoded`,`multipart/form-data`,`text/plain`]);function kt(e){return e!=null&&!Ot.has(e)?(O(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${yt}"`),null):e}function At(e,t){let n,r,i,a,o;if(St(e)){let o=e.getAttribute(`action`);r=o?pe(o,t):null,n=e.getAttribute(`method`)||vt,i=kt(e.getAttribute(`enctype`))||yt,a=new FormData(e)}else if(xt(e)||Ct(e)&&(e.type===`submit`||e.type===`image`)){let o=e.form;if(o==null)throw Error(`Cannot submit a <button> or <input type="submit"> without a <form>`);let s=e.getAttribute(`formaction`)||o.getAttribute(`action`);if(r=s?pe(s,t):null,n=e.getAttribute(`formmethod`)||o.getAttribute(`method`)||vt,i=kt(e.getAttribute(`formenctype`))||kt(o.getAttribute(`enctype`))||yt,a=new FormData(o,e),!Dt()){let{name:t,type:n,value:r}=e;if(n===`image`){let e=t?`${t}.`:``;a.append(`${e}x`,`0`),a.append(`${e}y`,`0`)}else t&&a.append(t,r)}}else if(bt(e))throw Error(`Cannot submit element that is not <form>, <button>, or <input type="submit|image">`);else n=vt,r=null,i=yt,o=e;return a&&i===`text/plain`&&(o=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join(`\0`);function jt(e,t){if(e===!1||e==null)throw Error(t)}function Mt(e,t,n){let r=typeof e==`string`?new URL(e,typeof window>`u`?`server://singlefetch/`:window.location.origin):e;return r.pathname===`/`?r.pathname=`_root.${n}`:t&&pe(r.pathname,t)===`/`?r.pathname=`${t.replace(/\/$/,``)}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,``)}.${n}`,r}async function Nt(e,t){if(e.id in t)return t[e.id];try{let n=await C(()=>import(e.module),[]);return t[e.id]=n,n}catch(t){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Pt(e){return e!=null&&typeof e.page==`string`}function Ft(e){return e==null?!1:e.href==null?e.rel===`preload`&&typeof e.imageSrcSet==`string`&&typeof e.imageSizes==`string`:typeof e.rel==`string`&&typeof e.href==`string`}async function It(e,t,n){return Vt((await Promise.all(e.map(async e=>{let r=t.routes[e.route.id];if(r){let e=await Nt(r,n);return e.links?e.links():[]}return[]}))).flat(1).filter(Ft).filter(e=>e.rel===`stylesheet`||e.rel===`preload`).map(e=>e.rel===`stylesheet`?{...e,rel:`prefetch`,as:`style`}:{...e,rel:`prefetch`}))}function Lt(e,t,n,r,i,a){let o=(e,t)=>n[t]?e.route.id!==n[t].route.id:!0,s=(e,t)=>n[t].pathname!==e.pathname||n[t].route.path?.endsWith(`*`)&&n[t].params[`*`]!==e.params[`*`];return a===`assets`?t.filter((e,t)=>o(e,t)||s(e,t)):a===`data`?t.filter((t,a)=>{let c=r.routes[t.route.id];if(!c||!c.hasLoader)return!1;if(o(t,a)||s(t,a))return!0;if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if(typeof r==`boolean`)return r}return!0}):[]}function Rt(e,t,{includeHydrateFallback:n}={}){return zt(e.map(e=>{let r=t.routes[e.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function zt(e){return[...new Set(e)]}function Bt(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function Vt(e,t){let n=new Set,r=new Set(t);return e.reduce((e,i)=>{if(t&&!Pt(i)&&i.as===`script`&&i.href&&r.has(i.href))return e;let a=JSON.stringify(Bt(i));return n.has(a)||(n.add(a),e.push({key:a,link:i})),e},[])}function Ht(){let e=w.useContext(De);return jt(e,`You must render this element inside a <DataRouterContext.Provider> element`),e}function Ut(){let e=w.useContext(Oe);return jt(e,`You must render this element inside a <DataRouterStateContext.Provider> element`),e}var Wt=w.createContext(void 0);Wt.displayName=`FrameworkContext`;function Gt(){let e=w.useContext(Wt);return jt(e,`You must render this element inside a <HydratedRouter> element`),e}function Kt(e,t){let n=w.useContext(Wt),[r,i]=w.useState(!1),[a,o]=w.useState(!1),{onFocus:s,onBlur:c,onMouseEnter:l,onMouseLeave:u,onTouchStart:d}=t,f=w.useRef(null);w.useEffect(()=>{if(e===`render`&&o(!0),e===`viewport`){let e=new IntersectionObserver(e=>{e.forEach(e=>{o(e.isIntersecting)})},{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}},[e]),w.useEffect(()=>{if(r){let e=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(e)}}},[r]);let p=()=>{i(!0)},m=()=>{i(!1),o(!1)};return n?e===`intent`?[a,f,{onFocus:qt(s,p),onBlur:qt(c,m),onMouseEnter:qt(l,p),onMouseLeave:qt(u,m),onTouchStart:qt(d,p)}]:[a,f,{}]:[!1,f,{}]}function qt(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Jt({page:e,...t}){let{router:n}=Ht(),r=w.useMemo(()=>P(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?w.createElement(Xt,{page:e,matches:r,...t}):null}function Yt(e){let{manifest:t,routeModules:n}=Gt(),[r,i]=w.useState([]);return w.useEffect(()=>{let r=!1;return It(e,t,n).then(e=>{r||i(e)}),()=>{r=!0}},[e,t,n]),r}function Xt({page:e,matches:t,...n}){let r=Re(),{manifest:i,routeModules:a}=Gt(),{basename:o}=Ht(),{loaderData:s,matches:c}=Ut(),l=w.useMemo(()=>Lt(e,t,c,i,r,`data`),[e,t,c,i,r]),u=w.useMemo(()=>Lt(e,t,c,i,r,`assets`),[e,t,c,i,r]),d=w.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let n=new Set,c=!1;if(t.forEach(e=>{let t=i.routes[e.route.id];!t||!t.hasLoader||(!l.some(t=>t.route.id===e.route.id)&&e.route.id in s&&a[e.route.id]?.shouldRevalidate||t.hasClientLoader?c=!0:n.add(e.route.id))}),n.size===0)return[];let u=Mt(e,o,`data`);return c&&n.size>0&&u.searchParams.set(`_routes`,t.filter(e=>n.has(e.route.id)).map(e=>e.route.id).join(`,`)),[u.pathname+u.search]},[o,s,r,i,l,t,e,a]),f=w.useMemo(()=>Rt(u,i),[u,i]),p=Yt(u);return w.createElement(w.Fragment,null,d.map(e=>w.createElement(`link`,{key:e,rel:`prefetch`,as:`fetch`,href:e,...n})),f.map(e=>w.createElement(`link`,{key:e,rel:`modulepreload`,href:e,...n})),p.map(({key:e,link:t})=>w.createElement(`link`,{key:e,nonce:n.nonce,...t})))}function Zt(...e){return t=>{e.forEach(e=>{typeof e==`function`?e(t):e!=null&&(e.current=t)})}}var Qt=typeof window<`u`&&window.document!==void 0&&window.document.createElement!==void 0;try{Qt&&(window.__reactRouterVersion=`7.9.6`)}catch{}function $t({basename:e,children:t,window:n}){let r=w.useRef();r.current??=E({window:n,v5Compat:!0});let i=r.current,[a,o]=w.useState({action:i.action,location:i.location}),s=w.useCallback(e=>{w.startTransition(()=>o(e))},[o]);return w.useLayoutEffect(()=>i.listen(s),[i,s]),w.createElement(ht,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:i})}function en({basename:e,children:t,history:n}){let[r,i]=w.useState({action:n.action,location:n.location}),a=w.useCallback(e=>{w.startTransition(()=>i(e))},[i]);return w.useLayoutEffect(()=>n.listen(a),[n,a]),w.createElement(ht,{basename:e,children:t,location:r.location,navigationType:r.action,navigator:n})}en.displayName=`unstable_HistoryRouter`;var tn=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nn=w.forwardRef(function({onClick:e,discover:t=`render`,prefetch:n=`none`,relative:r,reloadDocument:i,replace:a,state:o,target:s,to:c,preventScrollReset:l,viewTransition:u,...d},f){let{basename:p}=w.useContext(Me),m=typeof c==`string`&&tn.test(c),h,g=!1;if(typeof c==`string`&&m&&(h=c,Qt))try{let e=new URL(window.location.href),t=c.startsWith(`//`)?new URL(e.protocol+c):new URL(c),n=pe(t.pathname,p);t.origin===e.origin&&n!=null?c=n+t.search+t.hash:g=!0}catch{O(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let _=Ie(c,{relative:r}),[v,y,b]=Kt(n,d),x=un(c,{replace:a,state:o,target:s,preventScrollReset:l,relative:r,viewTransition:u});function S(t){e&&e(t),t.defaultPrevented||x(t)}let C=w.createElement(`a`,{...d,...b,href:h||_,onClick:g||i?e:S,ref:Zt(f,y),target:s,"data-discover":!m&&t===`render`?`true`:void 0});return v&&!m?w.createElement(w.Fragment,null,C,w.createElement(Jt,{page:_})):C});nn.displayName=`Link`;var rn=w.forwardRef(function({"aria-current":e=`page`,caseSensitive:t=!1,className:n=``,end:r=!1,style:i,to:a,viewTransition:o,children:s,...c},l){let u=Ge(a,{relative:c.relative}),d=Re(),f=w.useContext(Oe),{navigator:p,basename:m}=w.useContext(Me),h=f!=null&&bn(u)&&o===!0,g=p.encodeLocation?p.encodeLocation(u).pathname:u.pathname,_=d.pathname,v=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;t||(_=_.toLowerCase(),v=v?v.toLowerCase():null,g=g.toLowerCase()),v&&m&&(v=pe(v,m)||v);let y=g!==`/`&&g.endsWith(`/`)?g.length-1:g.length,b=_===g||!r&&_.startsWith(g)&&_.charAt(y)===`/`,x=v!=null&&(v===g||!r&&v.startsWith(g)&&v.charAt(g.length)===`/`),S={isActive:b,isPending:x,isTransitioning:h},C=b?e:void 0,T;T=typeof n==`function`?n(S):[n,b?`active`:null,x?`pending`:null,h?`transitioning`:null].filter(Boolean).join(` `);let E=typeof i==`function`?i(S):i;return w.createElement(nn,{...c,"aria-current":C,className:T,ref:l,style:E,to:a,viewTransition:o},typeof s==`function`?s(S):s)});rn.displayName=`NavLink`;var an=w.forwardRef(({discover:e=`render`,fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:a,method:o=vt,action:s,onSubmit:c,relative:l,preventScrollReset:u,viewTransition:d,...f},p)=>{let m=pn(),h=mn(s,{relative:l}),g=o.toLowerCase()===`get`?`get`:`post`,_=typeof s==`string`&&tn.test(s);return w.createElement(`form`,{ref:p,method:g,action:h,onSubmit:r?c:e=>{if(c&&c(e),e.defaultPrevented)return;e.preventDefault();let r=e.nativeEvent.submitter,s=r?.getAttribute(`formmethod`)||o;m(r||e.currentTarget,{fetcherKey:t,method:s,navigate:n,replace:i,state:a,relative:l,preventScrollReset:u,viewTransition:d})},...f,"data-discover":!_&&e===`render`?`true`:void 0})});an.displayName=`Form`;function on({getKey:e,storageKey:t,...n}){let r=w.useContext(Wt),{basename:i}=w.useContext(Me),a=Re(),o=ot();vn({getKey:e,storageKey:t});let s=w.useMemo(()=>{if(!r||!e)return null;let t=_n(a,o,i,e);return t===a.key?null:t},[]);if(!r||r.isSpaMode)return null;let c=((e,t)=>{if(!window.history.state||!window.history.state.key){let e=Math.random().toString(32).slice(2);window.history.replaceState({key:e},``)}try{let n=JSON.parse(sessionStorage.getItem(e)||`{}`)[t||window.history.state.key];typeof n==`number`&&window.scrollTo(0,n)}catch(t){console.error(t),sessionStorage.removeItem(e)}}).toString();return w.createElement(`script`,{...n,suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:`(${c})(${JSON.stringify(t||hn)}, ${JSON.stringify(s)})`}})}on.displayName=`ScrollRestoration`;function sn(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cn(e){let t=w.useContext(De);return D(t,sn(e)),t}function ln(e){let t=w.useContext(Oe);return D(t,sn(e)),t}function un(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:o}={}){let s=Ve(),c=Re(),l=Ge(e,{relative:a});return w.useCallback(u=>{Tt(u,t)&&(u.preventDefault(),s(e,{replace:n===void 0?ee(c)===ee(l):n,state:r,preventScrollReset:i,relative:a,viewTransition:o}))},[c,s,l,n,r,t,e,i,a,o])}var dn=0,fn=()=>`__${String(++dn)}__`;function pn(){let{router:e}=cn(`useSubmit`),{basename:t}=w.useContext(Me),n=it();return w.useCallback(async(r,i={})=>{let{action:a,method:o,encType:s,formData:c,body:l}=At(r,t);if(i.navigate===!1){let t=i.fetcherKey||fn();await e.fetch(t,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:c,body:l,formMethod:i.method||o,formEncType:i.encType||s,flushSync:i.flushSync})}else await e.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:c,body:l,formMethod:i.method||o,formEncType:i.encType||s,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function mn(e,{relative:t}={}){let{basename:n}=w.useContext(Me),r=w.useContext(Pe);D(r,`useFormAction must be used inside a RouteContext`);let[i]=r.matches.slice(-1),a={...Ge(e||`.`,{relative:t})},o=Re();if(e==null){a.search=o.search;let e=new URLSearchParams(a.search),t=e.getAll(`index`);if(t.some(e=>e===``)){e.delete(`index`),t.filter(e=>e).forEach(t=>e.append(`index`,t));let n=e.toString();a.search=n?`?${n}`:``}}return(!e||e===`.`)&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,`?index&`):`?index`),n!==`/`&&(a.pathname=a.pathname===`/`?n:Se([n,a.pathname])),ee(a)}var hn=`react-router-scroll-positions`,gn={};function _n(e,t,n,r){let i=null;return r&&(i=r(n===`/`?e:{...e,pathname:pe(e.pathname,n)||e.pathname},t)),i??=e.key,i}function vn({getKey:e,storageKey:t}={}){let{router:n}=cn(`useScrollRestoration`),{restoreScrollPosition:r,preventScrollReset:i}=ln(`useScrollRestoration`),{basename:a}=w.useContext(Me),o=Re(),s=ot(),c=at();w.useEffect(()=>(window.history.scrollRestoration=`manual`,()=>{window.history.scrollRestoration=`auto`}),[]),yn(w.useCallback(()=>{if(c.state===`idle`){let t=_n(o,s,a,e);gn[t]=window.scrollY}try{sessionStorage.setItem(t||hn,JSON.stringify(gn))}catch(e){O(!1,`Failed to save scroll positions in sessionStorage, <ScrollRestoration /> will not work properly (${e}).`)}window.history.scrollRestoration=`auto`},[c.state,e,a,o,s,t])),typeof document<`u`&&(w.useLayoutEffect(()=>{try{let e=sessionStorage.getItem(t||hn);e&&(gn=JSON.parse(e))}catch{}},[t]),w.useLayoutEffect(()=>{let t=n?.enableScrollRestoration(gn,()=>window.scrollY,e?(t,n)=>_n(t,n,a,e):void 0);return()=>t&&t()},[n,a,e]),w.useLayoutEffect(()=>{if(r!==!1){if(typeof r==`number`){window.scrollTo(0,r);return}try{if(o.hash){let e=document.getElementById(decodeURIComponent(o.hash.slice(1)));if(e){e.scrollIntoView();return}}}catch{O(!1,`"${o.hash.slice(1)}" is not a decodable element ID. The view will not scroll to it.`)}i!==!0&&window.scrollTo(0,0)}},[o,r,i]))}function yn(e,t){let{capture:n}=t||{};w.useEffect(()=>{let t=n==null?void 0:{capture:n};return window.addEventListener(`pagehide`,e,t),()=>{window.removeEventListener(`pagehide`,e,t)}},[e,n])}function bn(e,{relative:t}={}){let n=w.useContext(ke);D(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=cn(`useViewTransitionState`),i=Ge(e,{relative:t});if(!n.isTransitioning)return!1;let a=pe(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=pe(n.nextLocation.pathname,r)||n.nextLocation.pathname;return ue(i.pathname,o)!=null||ue(i.pathname,a)!=null}var xn=e=>e.replace(/([a-z0-9])([A-Z])/g,`$1-$2`).toLowerCase(),Sn=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()),Cn=e=>{let t=Sn(e);return t.charAt(0).toUpperCase()+t.slice(1)},wn=(...e)=>e.filter((e,t,n)=>!!e&&e.trim()!==``&&n.indexOf(e)===t).join(` `).trim(),Tn=e=>{for(let t in e)if(t.startsWith(`aria-`)||t===`role`||t===`title`)return!0},En={xmlns:`http://www.w3.org/2000/svg`,width:24,height:24,viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:2,strokeLinecap:`round`,strokeLinejoin:`round`},Dn=(0,w.forwardRef)(({color:e=`currentColor`,size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i=``,children:a,iconNode:o,...s},c)=>(0,w.createElement)(`svg`,{ref:c,...En,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:wn(`lucide`,i),...!a&&!Tn(s)&&{"aria-hidden":`true`},...s},[...o.map(([e,t])=>(0,w.createElement)(e,t)),...Array.isArray(a)?a:[a]])),H=(e,t)=>{let n=(0,w.forwardRef)(({className:n,...r},i)=>(0,w.createElement)(Dn,{ref:i,iconNode:t,className:wn(`lucide-${xn(Cn(e))}`,`lucide-${e}`,n),...r}));return n.displayName=Cn(e),n},On=H(`activity`,[[`path`,{d:`M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2`,key:`169zse`}]]),kn=H(`arrow-down-to-line`,[[`path`,{d:`M12 17V3`,key:`1cwfxf`}],[`path`,{d:`m6 11 6 6 6-6`,key:`12ii2o`}],[`path`,{d:`M19 21H5`,key:`150jfl`}]]),An=H(`arrow-up-from-line`,[[`path`,{d:`m18 9-6-6-6 6`,key:`kcunyi`}],[`path`,{d:`M12 3v14`,key:`7cf3v8`}],[`path`,{d:`M5 21h14`,key:`11awu3`}]]),jn=H(`box`,[[`path`,{d:`M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z`,key:`hh9hay`}],[`path`,{d:`m3.3 7 8.7 5 8.7-5`,key:`g66t2b`}],[`path`,{d:`M12 22V12`,key:`d0xqtd`}]]),Mn=H(`briefcase`,[[`path`,{d:`M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16`,key:`jecpp`}],[`rect`,{width:`20`,height:`14`,x:`2`,y:`6`,rx:`2`,key:`i6l2r4`}]]),Nn=H(`building`,[[`path`,{d:`M12 10h.01`,key:`1nrarc`}],[`path`,{d:`M12 14h.01`,key:`1etili`}],[`path`,{d:`M12 6h.01`,key:`1vi96p`}],[`path`,{d:`M16 10h.01`,key:`1m94wz`}],[`path`,{d:`M16 14h.01`,key:`1gbofw`}],[`path`,{d:`M16 6h.01`,key:`1x0f13`}],[`path`,{d:`M8 10h.01`,key:`19clt8`}],[`path`,{d:`M8 14h.01`,key:`6423bh`}],[`path`,{d:`M8 6h.01`,key:`1dz90k`}],[`path`,{d:`M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3`,key:`cabbwy`}],[`rect`,{x:`4`,y:`2`,width:`16`,height:`20`,rx:`2`,key:`1uxh74`}]]),Pn=H(`calendar-x`,[[`path`,{d:`M8 2v4`,key:`1cmpym`}],[`path`,{d:`M16 2v4`,key:`4m81vk`}],[`rect`,{width:`18`,height:`18`,x:`3`,y:`4`,rx:`2`,key:`1hopcy`}],[`path`,{d:`M3 10h18`,key:`8toen8`}],[`path`,{d:`m14 14-4 4`,key:`rymu2i`}],[`path`,{d:`m10 14 4 4`,key:`3sz06r`}]]),Fn=H(`calendar`,[[`path`,{d:`M8 2v4`,key:`1cmpym`}],[`path`,{d:`M16 2v4`,key:`4m81vk`}],[`rect`,{width:`18`,height:`18`,x:`3`,y:`4`,rx:`2`,key:`1hopcy`}],[`path`,{d:`M3 10h18`,key:`8toen8`}]]),In=H(`chart-column`,[[`path`,{d:`M3 3v16a2 2 0 0 0 2 2h16`,key:`c24i48`}],[`path`,{d:`M18 17V9`,key:`2bz60n`}],[`path`,{d:`M13 17V5`,key:`1frdt8`}],[`path`,{d:`M8 17v-3`,key:`17ska0`}]]),Ln=H(`chef-hat`,[[`path`,{d:`M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z`,key:`1qvrer`}],[`path`,{d:`M6 17h12`,key:`1jwigz`}]]),Rn=H(`chevron-down`,[[`path`,{d:`m6 9 6 6 6-6`,key:`qrunsl`}]]),zn=H(`chevron-up`,[[`path`,{d:`m18 15-6-6-6 6`,key:`153udz`}]]),Bn=H(`circle-alert`,[[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}],[`line`,{x1:`12`,x2:`12`,y1:`8`,y2:`12`,key:`1pkeuh`}],[`line`,{x1:`12`,x2:`12.01`,y1:`16`,y2:`16`,key:`4dfq90`}]]),Vn=H(`circle-check-big`,[[`path`,{d:`M21.801 10A10 10 0 1 1 17 3.335`,key:`yps3ct`}],[`path`,{d:`m9 11 3 3L22 4`,key:`1pflzl`}]]),Hn=H(`circle-check`,[[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}],[`path`,{d:`m9 12 2 2 4-4`,key:`dzmm74`}]]),Un=H(`circle-x`,[[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}],[`path`,{d:`m15 9-6 6`,key:`1uzhvr`}],[`path`,{d:`m9 9 6 6`,key:`z0biqf`}]]),Wn=H(`clock`,[[`path`,{d:`M12 6v6l4 2`,key:`mmk7yg`}],[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}]]),Gn=H(`coffee`,[[`path`,{d:`M10 2v2`,key:`7u0qdc`}],[`path`,{d:`M14 2v2`,key:`6buw04`}],[`path`,{d:`M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1`,key:`pwadti`}],[`path`,{d:`M6 2v2`,key:`colzsn`}]]),Kn=H(`dollar-sign`,[[`line`,{x1:`12`,x2:`12`,y1:`2`,y2:`22`,key:`7eqyqh`}],[`path`,{d:`M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6`,key:`1b0p4s`}]]),qn=H(`download`,[[`path`,{d:`M12 15V3`,key:`m9g1x1`}],[`path`,{d:`M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4`,key:`ih7n3h`}],[`path`,{d:`m7 10 5 5 5-5`,key:`brsn70`}]]),Jn=H(`eye-off`,[[`path`,{d:`M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49`,key:`ct8e1f`}],[`path`,{d:`M14.084 14.158a3 3 0 0 1-4.242-4.242`,key:`151rxh`}],[`path`,{d:`M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143`,key:`13bj9a`}],[`path`,{d:`m2 2 20 20`,key:`1ooewy`}]]),Yn=H(`eye`,[[`path`,{d:`M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0`,key:`1nclc0`}],[`circle`,{cx:`12`,cy:`12`,r:`3`,key:`1v7zrd`}]]),Xn=H(`file-text`,[[`path`,{d:`M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z`,key:`1oefj6`}],[`path`,{d:`M14 2v5a1 1 0 0 0 1 1h5`,key:`wfsgrz`}],[`path`,{d:`M10 9H8`,key:`b1mrlr`}],[`path`,{d:`M16 13H8`,key:`t4e002`}],[`path`,{d:`M16 17H8`,key:`z1uh3a`}]]),Zn=H(`funnel`,[[`path`,{d:`M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z`,key:`sc7q7i`}]]),Qn=H(`history`,[[`path`,{d:`M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8`,key:`1357e3`}],[`path`,{d:`M3 3v5h5`,key:`1xhq8a`}],[`path`,{d:`M12 7v5l4 2`,key:`1fdv2h`}]]),$n=H(`house`,[[`path`,{d:`M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8`,key:`5wwlr5`}],[`path`,{d:`M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z`,key:`r6nss1`}]]),er=H(`id-card`,[[`path`,{d:`M16 10h2`,key:`8sgtl7`}],[`path`,{d:`M16 14h2`,key:`epxaof`}],[`path`,{d:`M6.17 15a3 3 0 0 1 5.66 0`,key:`n6f512`}],[`circle`,{cx:`9`,cy:`11`,r:`2`,key:`yxgjnd`}],[`rect`,{x:`2`,y:`5`,width:`20`,height:`14`,rx:`2`,key:`qneu4z`}]]),tr=H(`loader`,[[`path`,{d:`M12 2v4`,key:`3427ic`}],[`path`,{d:`m16.2 7.8 2.9-2.9`,key:`r700ao`}],[`path`,{d:`M18 12h4`,key:`wj9ykh`}],[`path`,{d:`m16.2 16.2 2.9 2.9`,key:`1bxg5t`}],[`path`,{d:`M12 18v4`,key:`jadmvz`}],[`path`,{d:`m4.9 19.1 2.9-2.9`,key:`bwix9q`}],[`path`,{d:`M2 12h4`,key:`j09sii`}],[`path`,{d:`m4.9 4.9 2.9 2.9`,key:`giyufr`}]]),nr=H(`log-out`,[[`path`,{d:`m16 17 5-5-5-5`,key:`1bji2h`}],[`path`,{d:`M21 12H9`,key:`dn1m92`}],[`path`,{d:`M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4`,key:`1uf3rs`}]]),rr=H(`mail`,[[`path`,{d:`m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7`,key:`132q7q`}],[`rect`,{x:`2`,y:`4`,width:`20`,height:`16`,rx:`2`,key:`izxlao`}]]),ir=H(`map-pin`,[[`path`,{d:`M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0`,key:`1r0f0z`}],[`circle`,{cx:`12`,cy:`10`,r:`3`,key:`ilqhr7`}]]),ar=H(`menu`,[[`path`,{d:`M4 5h16`,key:`1tepv9`}],[`path`,{d:`M4 12h16`,key:`1lakjw`}],[`path`,{d:`M4 19h16`,key:`1djgab`}]]),or=H(`octagon-alert`,[[`path`,{d:`M12 16h.01`,key:`1drbdi`}],[`path`,{d:`M12 8v4`,key:`1got3b`}],[`path`,{d:`M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z`,key:`1fd625`}]]),sr=H(`package`,[[`path`,{d:`M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z`,key:`1a0edw`}],[`path`,{d:`M12 22V12`,key:`d0xqtd`}],[`polyline`,{points:`3.29 7 12 12 20.71 7`,key:`ousv84`}],[`path`,{d:`m7.5 4.27 9 5.15`,key:`1c824w`}]]),cr=H(`phone`,[[`path`,{d:`M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384`,key:`9njp5v`}]]),lr=H(`plus`,[[`path`,{d:`M5 12h14`,key:`1ays0h`}],[`path`,{d:`M12 5v14`,key:`s699le`}]]),ur=H(`receipt`,[[`path`,{d:`M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z`,key:`q3az6g`}],[`path`,{d:`M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8`,key:`1h4pet`}],[`path`,{d:`M12 17.5v-11`,key:`1jc1ny`}]]),dr=H(`refresh-cw`,[[`path`,{d:`M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8`,key:`v9h5vc`}],[`path`,{d:`M21 3v5h-5`,key:`1q7to0`}],[`path`,{d:`M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16`,key:`3uifl3`}],[`path`,{d:`M8 16H3v5`,key:`1cv678`}]]),fr=H(`rotate-ccw`,[[`path`,{d:`M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8`,key:`1357e3`}],[`path`,{d:`M3 3v5h5`,key:`1xhq8a`}]]),pr=H(`save`,[[`path`,{d:`M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z`,key:`1c8476`}],[`path`,{d:`M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7`,key:`1ydtos`}],[`path`,{d:`M7 3v4a1 1 0 0 0 1 1h7`,key:`t51u73`}]]),mr=H(`search`,[[`path`,{d:`m21 21-4.34-4.34`,key:`14j7rj`}],[`circle`,{cx:`11`,cy:`11`,r:`8`,key:`4ej97u`}]]),hr=H(`settings`,[[`path`,{d:`M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915`,key:`1i5ecw`}],[`circle`,{cx:`12`,cy:`12`,r:`3`,key:`1v7zrd`}]]),gr=H(`shield-alert`,[[`path`,{d:`M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z`,key:`oel41y`}],[`path`,{d:`M12 8v4`,key:`1got3b`}],[`path`,{d:`M12 16h.01`,key:`1drbdi`}]]),_r=H(`shield`,[[`path`,{d:`M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z`,key:`oel41y`}]]),vr=H(`shopping-cart`,[[`circle`,{cx:`8`,cy:`21`,r:`1`,key:`jimo8o`}],[`circle`,{cx:`19`,cy:`21`,r:`1`,key:`13723u`}],[`path`,{d:`M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12`,key:`9zh506`}]]),yr=H(`square-pen`,[[`path`,{d:`M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7`,key:`1m0v6g`}],[`path`,{d:`M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z`,key:`ohrbg2`}]]),br=H(`table`,[[`path`,{d:`M12 3v18`,key:`108xh3`}],[`rect`,{width:`18`,height:`18`,x:`3`,y:`3`,rx:`2`,key:`afitv7`}],[`path`,{d:`M3 9h18`,key:`1pudct`}],[`path`,{d:`M3 15h18`,key:`5xshup`}]]),xr=H(`trash-2`,[[`path`,{d:`M10 11v6`,key:`nco0om`}],[`path`,{d:`M14 11v6`,key:`outv1u`}],[`path`,{d:`M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6`,key:`miytrc`}],[`path`,{d:`M3 6h18`,key:`d0wm0j`}],[`path`,{d:`M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2`,key:`e791ji`}]]),Sr=H(`trending-up`,[[`path`,{d:`M16 7h6v6`,key:`box55l`}],[`path`,{d:`m22 7-8.5 8.5-5-5L2 17`,key:`1t1m79`}]]),Cr=H(`triangle-alert`,[[`path`,{d:`m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3`,key:`wmoenq`}],[`path`,{d:`M12 9v4`,key:`juzpu7`}],[`path`,{d:`M12 17h.01`,key:`p32p05`}]]),wr=H(`truck`,[[`path`,{d:`M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2`,key:`wrbu53`}],[`path`,{d:`M15 18H9`,key:`1lyqi6`}],[`path`,{d:`M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14`,key:`lysw3i`}],[`circle`,{cx:`17`,cy:`18`,r:`2`,key:`332jqn`}],[`circle`,{cx:`7`,cy:`18`,r:`2`,key:`19iecd`}]]),Tr=H(`user-check`,[[`path`,{d:`m16 11 2 2 4-4`,key:`9rsbq5`}],[`path`,{d:`M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2`,key:`1yyitq`}],[`circle`,{cx:`9`,cy:`7`,r:`4`,key:`nufk8`}]]),Er=H(`user`,[[`path`,{d:`M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2`,key:`975kel`}],[`circle`,{cx:`12`,cy:`7`,r:`4`,key:`17ys0d`}]]),Dr=H(`users`,[[`path`,{d:`M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2`,key:`1yyitq`}],[`path`,{d:`M16 3.128a4 4 0 0 1 0 7.744`,key:`16gr8j`}],[`path`,{d:`M22 21v-2a4 4 0 0 0-3-3.87`,key:`kshegd`}],[`circle`,{cx:`9`,cy:`7`,r:`4`,key:`nufk8`}]]),Or=H(`utensils-crossed`,[[`path`,{d:`m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8`,key:`n7qcjb`}],[`path`,{d:`M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7`,key:`d0u48b`}],[`path`,{d:`m2.1 21.8 6.4-6.3`,key:`yn04lh`}],[`path`,{d:`m19 5-7 7`,key:`194lzd`}]]),kr=H(`utensils`,[[`path`,{d:`M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2`,key:`cjf0a3`}],[`path`,{d:`M7 2v20`,key:`1473qp`}],[`path`,{d:`M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7`,key:`j28e5`}]]),Ar=H(`wallet`,[[`path`,{d:`M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1`,key:`18etb6`}],[`path`,{d:`M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4`,key:`xoc0q4`}]]),U=H(`x`,[[`path`,{d:`M18 6 6 18`,key:`1bl5f8`}],[`path`,{d:`m6 6 12 12`,key:`d8bk6v`}]]),jr=u(y(),1),Mr=`/beefybeer/assets/images-oN5nkzhs.jpg`,Nr=s((e=>{var t=Symbol.for(`react.transitional.element`),n=Symbol.for(`react.fragment`);function r(e,n,r){var i=null;if(r!==void 0&&(i=``+r),n.key!==void 0&&(i=``+n.key),`key`in n)for(var a in r={},n)a!==`key`&&(r[a]=n[a]);else r=n;return n=r.ref,{$$typeof:t,type:e,key:i,ref:n===void 0?null:n,props:r}}e.Fragment=n,e.jsx=r,e.jsxs=r})),W=u(s(((e,t)=>{t.exports=Nr()}))(),1);function Pr({onLogout:e,empleado:t}){let n=Re();Ve();let[r,i]=(0,w.useState)(!1),[a,o]=(0,w.useState)(!1),[s,c]=(0,w.useState)(!1),l={administrador:[`Panel principal`,`Roles y cargos`,`Sueldos`,`Personal`,`Inventario`,`Productos`,`Mesas`,`Pedidos`,`Ventas`,`Proveedores`,`Gastos`],cajero:[`Panel principal`,`Ventas`,`Gastos`],mesero:[`Panel principal`,`Mesas`,`Pedidos`],usuario:[`Panel principal`]},u=[`Panel principal`,`Roles y cargos`,`Sueldos`,`Personal`,`Inventario`,`Productos`,`Mesas`,`Pedidos`,`Ventas`,`Proveedores`,`Gastos`];(0,w.useEffect)(()=>{let e=()=>{i(window.innerWidth<768),window.innerWidth>=768&&o(!1)};return e(),window.addEventListener(`resize`,e),()=>window.removeEventListener(`resize`,e)},[]);let d=[{label:`Panel principal`,icon:$n,path:`/`,roles:[`administrador`,`cajero`,`mesero`,`usuario`],description:`Dashboard y estadsticas`},{label:`Roles y cargos`,icon:_r,path:`/roles-cargos`,roles:[`administrador`],description:`Gestin de permisos y puestos`},{label:`Sueldos`,icon:Kn,path:`/sueldos`,roles:[`administrador`],description:`Administracin de salarios`},{label:`Personal`,icon:Dr,path:`/personal`,roles:[`administrador`],description:`Gestin de empleados`},{label:`Inventario`,icon:sr,path:`/inventario`,roles:[`administrador`],description:`Control de stock y productos`},{label:`Productos`,icon:vr,path:`/productos`,roles:[`administrador`],description:`Gestin de productos del men`},{label:`Mesas`,icon:Or,path:`/mesas`,roles:[`administrador`,`mesero`],description:`Gestin de mesas y salones`},{label:`Pedidos`,icon:ur,path:`/pedidos`,roles:[`administrador`,`mesero`],description:`Tomar y gestionar pedidos`},{label:`Ventas`,icon:vr,path:`/ventas`,roles:[`administrador`,`cajero`],description:`Registro y control de ventas`},{label:`Proveedores`,icon:wr,path:`/proveedores`,roles:[`administrador`],description:`Gestin de proveedores`},{label:`Gastos`,icon:Ar,path:`/gastos`,roles:[`administrador`,`cajero`],description:`Control de egresos y gastos`}],f=(()=>t?t.roles&&t.roles.nombre?t.roles.nombre.toLowerCase():t.rol?t.rol.toLowerCase():t.id_rol&&{1:`administrador`,2:`cajero`,3:`mesero`,4:`usuario`}[t.id_rol]||`usuario`:`usuario`)(),p=d.filter(e=>e.roles.includes(f)),m=(()=>{let e=l[f]||[];return u.filter(t=>!e.includes(t))})(),h=()=>{window.confirm(`Ests seguro de que deseas cerrar sesin?`)&&e()},g=e=>({administrador:`#dc3545`,cajero:`#28a745`,mesero:`#ffc107`,usuario:`#6c757d`})[e]||`#6c757d`,_=e=>({administrador:`ADM`,cajero:`CAJ`,mesero:`MES`,usuario:`USR`})[e]||`USR`,v={sidebarLoading:{width:`250px`,height:`100vh`,background:`linear-gradient(145deg, #f7dca1, #f2c786)`,display:`flex`,alignItems:`center`,justifyContent:`center`},loadingContent:{textAlign:`center`,color:`#7a3b06`},loadingSpinner:{width:`30px`,height:`30px`,border:`3px solid rgba(122, 59, 6, 0.2)`,borderTop:`3px solid #7a3b06`,borderRadius:`50%`,animation:`spin 1s linear infinite`,margin:`0 auto 15px`},mobileMenuButton:{position:`fixed`,top:`20px`,left:`20px`,zIndex:1001,background:`#7a3b06`,color:`white`,border:`none`,borderRadius:`8px`,width:`40px`,height:`40px`,display:`flex`,alignItems:`center`,justifyContent:`center`,cursor:`pointer`,boxShadow:`0 2px 8px rgba(0,0,0,0.2)`,transition:`all 0.3s ease`},sidebarOverlay:{position:`fixed`,top:0,left:0,right:0,bottom:0,backgroundColor:`rgba(0,0,0,0.5)`,zIndex:998},sidebar:{width:`280px`,height:`100vh`,background:`linear-gradient(145deg, #f7dca1, #f2c786)`,padding:`25px 20px`,display:`flex`,flexDirection:`column`,boxShadow:`2px 0 10px rgba(0,0,0,0.1)`,position:`relative`,zIndex:999,overflow:`hidden`},sidebarMobile:{position:`fixed`,left:`-280px`,top:0,transition:`left 0.3s ease`},sidebarOpen:{left:0}};return(0,w.useEffect)(()=>{let e=document.createElement(`style`);return e.textContent=`
      @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
      }
    `,document.head.appendChild(e),()=>{document.head.removeChild(e)}},[]),t?(0,W.jsxs)(W.Fragment,{children:[r&&(0,W.jsx)(`button`,{onClick:()=>o(!a),style:v.mobileMenuButton,"aria-label":a?`Cerrar men`:`Abrir men`,children:a?(0,W.jsx)(U,{size:20}):(0,W.jsx)(ar,{size:20})}),r&&a&&(0,W.jsx)(`div`,{onClick:()=>o(!1),style:v.sidebarOverlay}),(0,W.jsxs)(`aside`,{style:{...v.sidebar,...r?v.sidebarMobile:{},...a?v.sidebarOpen:{}},children:[(0,W.jsxs)(`div`,{style:G.header,children:[(0,W.jsxs)(`div`,{style:G.logoContainer,children:[(0,W.jsx)(`img`,{src:Mr,alt:`Beef & Beer Logo`,style:G.logoImage,onError:e=>{e.target.style.display=`none`,e.target.nextSibling.style.display=`flex`}}),(0,W.jsx)(`div`,{style:G.logoFallback,children:`B&B`})]}),(0,W.jsxs)(`div`,{style:G.brandSection,children:[(0,W.jsx)(`h2`,{style:G.brandTitle,children:`Beef & Beer`}),(0,W.jsx)(`span`,{style:G.brandSubtitle,children:`Sistema de gestin`})]}),(0,W.jsxs)(`div`,{style:G.userInfo,children:[(0,W.jsx)(`div`,{style:G.userAvatar,children:(0,W.jsx)(Tr,{size:16})}),(0,W.jsxs)(`div`,{style:G.userDetails,children:[(0,W.jsxs)(`p`,{style:G.userName,children:[t.nombre,` `,t.pat,t.mat&&` ${t.mat}`]}),(0,W.jsxs)(`div`,{style:G.userRoleSection,children:[(0,W.jsx)(`span`,{style:{...G.userRoleBadge,backgroundColor:g(f)},title:`Rol: ${f}`,children:_(f)}),(0,W.jsx)(`button`,{style:G.roleInfoButton,onClick:()=>c(!s),title:`Ver informacin de permisos`,children:s?(0,W.jsx)(Jn,{size:12}):(0,W.jsx)(Yn,{size:12})})]})]})]}),s&&(0,W.jsxs)(`div`,{style:G.rolePermissionsInfo,children:[(0,W.jsxs)(`div`,{children:[(0,W.jsxs)(`div`,{style:G.permissionsHeader,children:[(0,W.jsx)(hr,{size:14}),(0,W.jsxs)(`span`,{children:[`Permisos disponibles - `,f.toUpperCase()]})]}),(0,W.jsx)(`ul`,{style:G.permissionsList,children:l[f]?.map((e,t)=>(0,W.jsxs)(`li`,{style:G.permissionItem,children:[(0,W.jsx)(`div`,{style:G.permissionDotAvailable}),(0,W.jsx)(`span`,{style:G.permissionTextAvailable,children:e})]},`available-${t}`))})]}),m.length>0&&(0,W.jsxs)(`div`,{style:G.unavailableSection,children:[(0,W.jsxs)(`div`,{style:G.permissionsHeader,children:[(0,W.jsx)(Bn,{size:14}),(0,W.jsx)(`span`,{children:`Permisos restringidos`})]}),(0,W.jsx)(`ul`,{style:G.permissionsList,children:m.map((e,t)=>(0,W.jsxs)(`li`,{style:G.permissionItem,children:[(0,W.jsx)(`div`,{style:G.permissionDotUnavailable}),(0,W.jsx)(`span`,{style:G.permissionTextUnavailable,children:e})]},`unavailable-${t}`))})]})]})]}),(0,W.jsx)(`nav`,{style:G.sidebarNav,children:p.length===0?(0,W.jsxs)(`div`,{style:G.noPermissions,children:[(0,W.jsx)(Bn,{size:32,style:G.noPermissionsIcon}),(0,W.jsx)(`p`,{style:G.noPermissionsTitle,children:`Sin permisos`}),(0,W.jsx)(`p`,{style:G.noPermissionsDescription,children:`Tu rol de usuario no tiene acceso a las funciones del sistema.`})]}):(0,W.jsx)(`ul`,{style:G.navList,children:p.map((e,t)=>{let i=n.pathname===e.path,a=e.icon;return(0,W.jsx)(`li`,{style:{...G.navItem,...i?G.navItemActive:{}},children:(0,W.jsxs)(nn,{to:e.path,style:G.navLink,onClick:()=>r&&o(!1),title:e.description,children:[(0,W.jsx)(`span`,{style:G.navIcon,children:(0,W.jsx)(a,{size:16})}),(0,W.jsx)(`span`,{style:G.navLabel,children:e.label}),i&&(0,W.jsx)(`div`,{style:G.navIndicator})]})},t)})})}),(0,W.jsxs)(`div`,{style:G.sidebarFooter,children:[(0,W.jsxs)(`button`,{onClick:h,style:G.logoutButton,title:`Cerrar sesin del sistema`,children:[(0,W.jsx)(`span`,{style:G.logoutIcon,children:(0,W.jsx)(nr,{size:16})}),(0,W.jsx)(`span`,{children:`Cerrar Sesin`})]}),(0,W.jsxs)(`div`,{style:G.sidebarCopyright,children:[` 2025 Beef & Beer`,(0,W.jsx)(`span`,{style:G.version,children:`v1.0.0`})]})]})]})]}):(0,W.jsx)(`aside`,{style:v.sidebarLoading,children:(0,W.jsxs)(`div`,{style:v.loadingContent,children:[(0,W.jsx)(`div`,{style:v.loadingSpinner}),(0,W.jsx)(`p`,{children:`Cargando informacin...`})]})})}var G={header:{marginBottom:`25px`,flexShrink:0},logoContainer:{position:`relative`,marginBottom:`20px`,display:`flex`,justifyContent:`center`},logoImage:{width:`80px`,height:`80px`,borderRadius:`50%`,objectFit:`cover`,border:`3px solid #7a3b06`,boxShadow:`0 4px 12px rgba(122, 59, 6, 0.2)`,transition:`all 0.3s ease`,cursor:`pointer`},logoFallback:{width:`80px`,height:`80px`,borderRadius:`50%`,background:`linear-gradient(135deg, #7a3b06, #a85a1a)`,display:`none`,alignItems:`center`,justifyContent:`center`,color:`#f7dca1`,fontSize:`18px`,fontWeight:`bold`,border:`3px solid #7a3b06`,boxShadow:`0 4px 12px rgba(122, 59, 6, 0.2)`},brandSection:{textAlign:`center`,marginBottom:`20px`},brandTitle:{margin:`0 0 4px 0`,fontSize:`22px`,fontWeight:700,color:`#7a3b06`},brandSubtitle:{fontSize:`13px`,color:`#6d4611`,opacity:.9},userInfo:{display:`flex`,alignItems:`center`,gap:`12px`,padding:`15px`,background:`rgba(122, 59, 6, 0.08)`,borderRadius:`12px`,border:`1px solid rgba(122, 59, 6, 0.1)`},userAvatar:{width:`40px`,height:`40px`,borderRadius:`8px`,background:`rgba(122, 59, 6, 0.12)`,display:`flex`,alignItems:`center`,justifyContent:`center`,color:`#7a3b06`,flexShrink:0},userDetails:{flex:1,minWidth:0},userName:{margin:`0 0 6px 0`,fontSize:`14px`,fontWeight:600,color:`#7a3b06`,whiteSpace:`nowrap`,overflow:`hidden`,textOverflow:`ellipsis`},userRoleSection:{display:`flex`,alignItems:`center`,gap:`8px`},userRoleBadge:{padding:`2px 8px`,borderRadius:`12px`,color:`white`,fontSize:`10px`,fontWeight:600,textTransform:`uppercase`},roleInfoButton:{background:`none`,border:`none`,color:`#6d4611`,cursor:`pointer`,padding:`2px`,borderRadius:`4px`,transition:`all 0.2s ease`},rolePermissionsInfo:{marginTop:`15px`,padding:`15px`,background:`rgba(255, 255, 255, 0.6)`,borderRadius:`8px`,border:`1px solid rgba(122, 59, 6, 0.1)`,maxHeight:`300px`,overflowY:`auto`},unavailableSection:{marginTop:`15px`,paddingTop:`15px`,borderTop:`1px solid rgba(220, 53, 69, 0.2)`},permissionsHeader:{display:`flex`,alignItems:`center`,gap:`8px`,marginBottom:`10px`,fontSize:`12px`,fontWeight:600,color:`#7a3b06`},permissionsList:{listStyle:`none`,padding:0,margin:0},permissionItem:{display:`flex`,alignItems:`center`,gap:`8px`,padding:`4px 0`,fontSize:`11px`,color:`#6d4611`},permissionDotAvailable:{width:`6px`,height:`6px`,borderRadius:`50%`,background:`#28a745`,flexShrink:0},permissionDotUnavailable:{width:`6px`,height:`6px`,borderRadius:`50%`,background:`#dc3545`,flexShrink:0},permissionTextAvailable:{color:`#28a745`,fontWeight:500},permissionTextUnavailable:{color:`#dc3545`,fontWeight:500},sidebarNav:{flex:1,overflowY:`auto`,overflowX:`hidden`,paddingRight:`5px`},navList:{listStyle:`none`,padding:0,margin:0},navItem:{marginBottom:`6px`,borderRadius:`10px`,overflow:`hidden`,transition:`all 0.25s ease`,background:`transparent`,position:`relative`,cursor:`pointer`},navItemActive:{background:`linear-gradient(135deg, #f7dca1, #e6b85c)`,color:`#7a3b06`,fontWeight:600,boxShadow:`0 4px 12px rgba(122, 59, 6, 0.15)`},navLink:{display:`flex`,alignItems:`center`,gap:`12px`,padding:`12px 14px`,color:`inherit`,textDecoration:`none`,fontSize:`14px`,transition:`all 0.25s ease`,position:`relative`},navIcon:{display:`flex`,alignItems:`center`,justifyContent:`center`,width:`32px`,height:`32px`,borderRadius:`8px`,background:`rgba(122, 59, 6, 0.08)`,transition:`all 0.25s ease`,flexShrink:0},navLabel:{whiteSpace:`nowrap`,overflow:`hidden`,textOverflow:`ellipsis`},navIndicator:{position:`absolute`,left:0,top:0,bottom:0,width:`3px`,background:`#7a3b06`,borderRadius:`0 2px 2px 0`},noPermissions:{textAlign:`center`,padding:`40px 20px`,color:`#6d4611`},noPermissionsIcon:{opacity:.5,marginBottom:`15px`},noPermissionsTitle:{margin:`0 0 8px 0`,fontSize:`16px`,fontWeight:600,color:`#7a3b06`},noPermissionsDescription:{margin:0,fontSize:`13px`,opacity:.7,lineHeight:1.4},sidebarFooter:{marginTop:`15px`,flexShrink:0},logoutButton:{display:`flex`,alignItems:`center`,gap:`12px`,width:`100%`,padding:`12px 16px`,background:`rgba(122, 59, 6, 0.08)`,border:`1px solid rgba(122, 59, 6, 0.2)`,borderRadius:`10px`,color:`#7a3b06`,cursor:`pointer`,fontSize:`14px`,fontWeight:500,transition:`all 0.25s ease`},logoutIcon:{display:`flex`,alignItems:`center`,justifyContent:`center`,width:`30px`,height:`30px`,borderRadius:`8px`,background:`rgba(122, 59, 6, 0.12)`},sidebarCopyright:{fontSize:`12px`,color:`#6d4611`,textAlign:`center`,opacity:.8,padding:`15px 0 5px`,borderTop:`1px solid rgba(122, 59, 6, 0.1)`,marginTop:`15px`,display:`flex`,flexDirection:`column`,gap:`4px`},version:{fontSize:`10px`,opacity:.6}};function Fr({onLogout:e,empleado:t}){let[n,r]=(0,w.useState)(!1),[i,a]=(0,w.useState)(250);return(0,w.useEffect)(()=>{let e=()=>{let e=window.innerWidth<768;r(e),a(e?280:250)};return e(),window.addEventListener(`resize`,e),()=>window.removeEventListener(`resize`,e)},[]),(0,W.jsxs)(`div`,{style:{display:`flex`,height:`100vh`,backgroundColor:`#fdf6e3`,overflow:`hidden`},children:[(0,W.jsx)(Pr,{onLogout:e,empleado:t}),(0,W.jsxs)(`main`,{style:{flex:1,overflowY:`auto`,padding:`25px 25px 25px 20px`,background:`#fdf6e3`,width:`100%`,boxSizing:`border-box`,position:`relative`},children:[(0,W.jsx)(pt,{}),` `]})]})}var Ir=c({__addDisposableResource:()=>li,__assign:()=>pi,__asyncDelegator:()=>ti,__asyncGenerator:()=>ei,__asyncValues:()=>ni,__await:()=>$r,__awaiter:()=>K,__classPrivateFieldGet:()=>oi,__classPrivateFieldIn:()=>ci,__classPrivateFieldSet:()=>si,__createBinding:()=>mi,__decorate:()=>zr,__disposeResources:()=>ui,__esDecorate:()=>Vr,__exportStar:()=>qr,__extends:()=>Lr,__generator:()=>Kr,__importDefault:()=>ai,__importStar:()=>ii,__makeTemplateObject:()=>ri,__metadata:()=>Gr,__param:()=>Br,__propKey:()=>Ur,__read:()=>Yr,__rest:()=>Rr,__rewriteRelativeImportExtension:()=>di,__runInitializers:()=>Hr,__setFunctionName:()=>Wr,__spread:()=>Xr,__spreadArray:()=>Qr,__spreadArrays:()=>Zr,__values:()=>Jr,default:()=>vi});function Lr(e,t){if(typeof t!=`function`&&t!==null)throw TypeError(`Class extends value `+String(t)+` is not a constructor or null`);fi(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function Rr(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols==`function`)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function zr(e,t,n,r){var i=arguments.length,a=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect==`object`&&typeof Reflect.decorate==`function`)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function Br(e,t){return function(n,r){t(n,r,e)}}function Vr(e,t,n,r,i,a){function o(e){if(e!==void 0&&typeof e!=`function`)throw TypeError(`Function expected`);return e}for(var s=r.kind,c=s===`getter`?`get`:s===`setter`?`set`:`value`,l=!t&&e?r.static?e:e.prototype:null,u=t||(l?Object.getOwnPropertyDescriptor(l,r.name):{}),d,f=!1,p=n.length-1;p>=0;p--){var m={};for(var h in r)m[h]=h===`access`?{}:r[h];for(var h in r.access)m.access[h]=r.access[h];m.addInitializer=function(e){if(f)throw TypeError(`Cannot add initializers after decoration has completed`);a.push(o(e||null))};var g=(0,n[p])(s===`accessor`?{get:u.get,set:u.set}:u[c],m);if(s===`accessor`){if(g===void 0)continue;if(typeof g!=`object`||!g)throw TypeError(`Object expected`);(d=o(g.get))&&(u.get=d),(d=o(g.set))&&(u.set=d),(d=o(g.init))&&i.unshift(d)}else (d=o(g))&&(s===`field`?i.unshift(d):u[c]=d)}l&&Object.defineProperty(l,r.name,u),f=!0}function Hr(e,t,n){for(var r=arguments.length>2,i=0;i<t.length;i++)n=r?t[i].call(e,n):t[i].call(e);return r?n:void 0}function Ur(e){return typeof e==`symbol`?e:`${e}`}function Wr(e,t,n){return typeof t==`symbol`&&(t=t.description?`[${t.description}]`:``),Object.defineProperty(e,`name`,{configurable:!0,value:n?`${n} ${t}`:t})}function Gr(e,t){if(typeof Reflect==`object`&&typeof Reflect.metadata==`function`)return Reflect.metadata(e,t)}function K(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||=Promise)(function(n,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){e.done?n(e.value):i(e.value).then(o,s)}c((r=r.apply(e,t||[])).next())})}function Kr(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o=Object.create((typeof Iterator==`function`?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),typeof Symbol==`function`&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return c([e,t])}}function c(s){if(r)throw TypeError(`Generator is already executing.`);for(;o&&(o=0,s[0]&&(n=0)),n;)try{if(r=1,i&&(a=s[0]&2?i.return:s[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,s[1])).done)return a;switch(i=0,a&&(s=[s[0]&2,a.value]),s[0]){case 0:case 1:a=s;break;case 4:return n.label++,{value:s[1],done:!1};case 5:n.label++,i=s[1],s=[0];continue;case 7:s=n.ops.pop(),n.trys.pop();continue;default:if((a=n.trys,!(a=a.length>0&&a[a.length-1]))&&(s[0]===6||s[0]===2)){n=0;continue}if(s[0]===3&&(!a||s[1]>a[0]&&s[1]<a[3])){n.label=s[1];break}if(s[0]===6&&n.label<a[1]){n.label=a[1],a=s;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(s);break}a[2]&&n.ops.pop(),n.trys.pop();continue}s=t.call(e,n)}catch(e){s=[6,e],i=0}finally{r=a=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}function qr(e,t){for(var n in e)n!==`default`&&!Object.prototype.hasOwnProperty.call(t,n)&&mi(t,e,n)}function Jr(e){var t=typeof Symbol==`function`&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length==`number`)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?`Object is not iterable.`:`Symbol.iterator is not defined.`)}function Yr(e,t){var n=typeof Symbol==`function`&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(e){o={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a}function Xr(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Yr(arguments[t]));return e}function Zr(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r}function Qr(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||=Array.prototype.slice.call(t,0,r),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}function $r(e){return this instanceof $r?(this.v=e,this):new $r(e)}function ei(e,t,n){if(!Symbol.asyncIterator)throw TypeError(`Symbol.asyncIterator is not defined.`);var r=n.apply(e,t||[]),i,a=[];return i=Object.create((typeof AsyncIterator==`function`?AsyncIterator:Object).prototype),s(`next`),s(`throw`),s(`return`,o),i[Symbol.asyncIterator]=function(){return this},i;function o(e){return function(t){return Promise.resolve(t).then(e,d)}}function s(e,t){r[e]&&(i[e]=function(t){return new Promise(function(n,r){a.push([e,t,n,r])>1||c(e,t)})},t&&(i[e]=t(i[e])))}function c(e,t){try{l(r[e](t))}catch(e){f(a[0][3],e)}}function l(e){e.value instanceof $r?Promise.resolve(e.value.v).then(u,d):f(a[0][2],e)}function u(e){c(`next`,e)}function d(e){c(`throw`,e)}function f(e,t){e(t),a.shift(),a.length&&c(a[0][0],a[0][1])}}function ti(e){var t,n;return t={},r(`next`),r(`throw`,function(e){throw e}),r(`return`),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:$r(e[r](t)),done:!1}:i?i(t):t}:i}}function ni(e){if(!Symbol.asyncIterator)throw TypeError(`Symbol.asyncIterator is not defined.`);var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Jr==`function`?Jr(e):e[Symbol.iterator](),n={},r(`next`),r(`throw`),r(`return`),n[Symbol.asyncIterator]=function(){return this},n);function r(t){n[t]=e[t]&&function(n){return new Promise(function(r,a){n=e[t](n),i(r,a,n.done,n.value)})}}function i(e,t,n,r){Promise.resolve(r).then(function(t){e({value:t,done:n})},t)}}function ri(e,t){return Object.defineProperty?Object.defineProperty(e,`raw`,{value:t}):e.raw=t,e}function ii(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=gi(e),r=0;r<n.length;r++)n[r]!==`default`&&mi(t,e,n[r]);return hi(t,e),t}function ai(e){return e&&e.__esModule?e:{default:e}}function oi(e,t,n,r){if(n===`a`&&!r)throw TypeError(`Private accessor was defined without a getter`);if(typeof t==`function`?e!==t||!r:!t.has(e))throw TypeError(`Cannot read private member from an object whose class did not declare it`);return n===`m`?r:n===`a`?r.call(e):r?r.value:t.get(e)}function si(e,t,n,r,i){if(r===`m`)throw TypeError(`Private method is not writable`);if(r===`a`&&!i)throw TypeError(`Private accessor was defined without a setter`);if(typeof t==`function`?e!==t||!i:!t.has(e))throw TypeError(`Cannot write private member to an object whose class did not declare it`);return r===`a`?i.call(e,n):i?i.value=n:t.set(e,n),n}function ci(e,t){if(t===null||typeof t!=`object`&&typeof t!=`function`)throw TypeError(`Cannot use 'in' operator on non-object`);return typeof e==`function`?t===e:e.has(t)}function li(e,t,n){if(t!=null){if(typeof t!=`object`&&typeof t!=`function`)throw TypeError(`Object expected.`);var r,i;if(n){if(!Symbol.asyncDispose)throw TypeError(`Symbol.asyncDispose is not defined.`);r=t[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw TypeError(`Symbol.dispose is not defined.`);r=t[Symbol.dispose],n&&(i=r)}if(typeof r!=`function`)throw TypeError(`Object not disposable.`);i&&(r=function(){try{i.call(this)}catch(e){return Promise.reject(e)}}),e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}function ui(e){function t(t){e.error=e.hasError?new _i(t,e.error,`An error was suppressed during disposal.`):t,e.hasError=!0}var n,r=0;function i(){for(;n=e.stack.pop();)try{if(!n.async&&r===1)return r=0,e.stack.push(n),Promise.resolve().then(i);if(n.dispose){var a=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(a).then(i,function(e){return t(e),i()})}else r|=1}catch(e){t(e)}if(r===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function di(e,t){return typeof e==`string`&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(e,n,r,i,a){return n?t?`.jsx`:`.js`:r&&(!i||!a)?e:r+i+`.`+a.toLowerCase()+`js`}):e}var fi,pi,mi,hi,gi,_i,vi,yi=o((()=>{fi=function(e,t){return fi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},fi(e,t)},pi=function(){return pi=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},pi.apply(this,arguments)},mi=Object.create?(function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||(`get`in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}):(function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),hi=Object.create?(function(e,t){Object.defineProperty(e,`default`,{enumerable:!0,value:t})}):function(e,t){e.default=t},gi=function(e){return gi=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},gi(e)},_i=typeof SuppressedError==`function`?SuppressedError:function(e,t,n){var r=Error(n);return r.name=`SuppressedError`,r.error=e,r.suppressed=t,r},vi={__extends:Lr,__assign:pi,__rest:Rr,__decorate:zr,__param:Br,__esDecorate:Vr,__runInitializers:Hr,__propKey:Ur,__setFunctionName:Wr,__metadata:Gr,__awaiter:K,__generator:Kr,__createBinding:mi,__exportStar:qr,__values:Jr,__read:Yr,__spread:Xr,__spreadArrays:Zr,__spreadArray:Qr,__await:$r,__asyncGenerator:ei,__asyncDelegator:ti,__asyncValues:ni,__makeTemplateObject:ri,__importStar:ii,__importDefault:ai,__classPrivateFieldGet:oi,__classPrivateFieldSet:si,__classPrivateFieldIn:ci,__addDisposableResource:li,__disposeResources:ui,__rewriteRelativeImportExtension:di}}));const bi=e=>e?(...t)=>e(...t):(...e)=>fetch(...e);var xi=class extends Error{constructor(e,t=`FunctionsError`,n){super(e),this.name=t,this.context=n}},Si=class extends xi{constructor(e){super(`Failed to send a request to the Edge Function`,`FunctionsFetchError`,e)}},Ci=class extends xi{constructor(e){super(`Relay Error invoking the Edge Function`,`FunctionsRelayError`,e)}},wi=class extends xi{constructor(e){super(`Edge Function returned a non-2xx status code`,`FunctionsHttpError`,e)}},Ti;(function(e){e.Any=`any`,e.ApNortheast1=`ap-northeast-1`,e.ApNortheast2=`ap-northeast-2`,e.ApSouth1=`ap-south-1`,e.ApSoutheast1=`ap-southeast-1`,e.ApSoutheast2=`ap-southeast-2`,e.CaCentral1=`ca-central-1`,e.EuCentral1=`eu-central-1`,e.EuWest1=`eu-west-1`,e.EuWest2=`eu-west-2`,e.EuWest3=`eu-west-3`,e.SaEast1=`sa-east-1`,e.UsEast1=`us-east-1`,e.UsWest1=`us-west-1`,e.UsWest2=`us-west-2`})(Ti||={}),yi();var Ei=class{constructor(e,{headers:t={},customFetch:n,region:r=Ti.Any}={}){this.url=e,this.headers=t,this.region=r,this.fetch=bi(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return K(this,arguments,void 0,function*(e,t={}){let n,r;try{let{headers:i,method:a,body:o,signal:s,timeout:c}=t,l={},{region:u}=t;u||=this.region;let d=new URL(`${this.url}/${e}`);u&&u!==`any`&&(l[`x-region`]=u,d.searchParams.set(`forceFunctionRegion`,u));let f;o&&(i&&!Object.prototype.hasOwnProperty.call(i,`Content-Type`)||!i)?typeof Blob<`u`&&o instanceof Blob||o instanceof ArrayBuffer?(l[`Content-Type`]=`application/octet-stream`,f=o):typeof o==`string`?(l[`Content-Type`]=`text/plain`,f=o):typeof FormData<`u`&&o instanceof FormData?f=o:(l[`Content-Type`]=`application/json`,f=JSON.stringify(o)):f=o;let p=s;c&&(r=new AbortController,n=setTimeout(()=>r.abort(),c),s?(p=r.signal,s.addEventListener(`abort`,()=>r.abort())):p=r.signal);let m=yield this.fetch(d.toString(),{method:a||`POST`,headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:f,signal:p}).catch(e=>{throw new Si(e)}),h=m.headers.get(`x-relay-error`);if(h&&h===`true`)throw new Ci(m);if(!m.ok)throw new wi(m);let g=(m.headers.get(`Content-Type`)??`text/plain`).split(`;`)[0].trim(),_;return _=g===`application/json`?yield m.json():g===`application/octet-stream`||g===`application/pdf`?yield m.blob():g===`text/event-stream`?m:g===`multipart/form-data`?yield m.formData():yield m.text(),{data:_,error:null,response:m}}catch(e){return{data:null,error:e,response:e instanceof wi||e instanceof Ci?e.context:void 0}}finally{n&&clearTimeout(n)}})}},Di=s((e=>{Object.defineProperty(e,`__esModule`,{value:!0}),e.default=class extends Error{constructor(e){super(e.message),this.name=`PostgrestError`,this.details=e.details,this.hint=e.hint,this.code=e.code}}})),Oi=s((e=>{Object.defineProperty(e,`__esModule`,{value:!0});var t=(yi(),d(Ir)).__importDefault(Di());e.default=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError??!1,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle??!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,n){this.schema===void 0||([`GET`,`HEAD`].includes(this.method)?this.headers.set(`Accept-Profile`,this.schema):this.headers.set(`Content-Profile`,this.schema)),this.method!==`GET`&&this.method!==`HEAD`&&this.headers.set(`Content-Type`,`application/json`);let r=this.fetch,i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async e=>{let n=null,r=null,i=null,a=e.status,o=e.statusText;if(e.ok){if(this.method!==`HEAD`){let t=await e.text();t===``||(r=this.headers.get(`Accept`)===`text/csv`||this.headers.get(`Accept`)&&this.headers.get(`Accept`)?.includes(`application/vnd.pgrst.plan+text`)?t:JSON.parse(t))}let t=this.headers.get(`Prefer`)?.match(/count=(exact|planned|estimated)/),s=e.headers.get(`content-range`)?.split(`/`);t&&s&&s.length>1&&(i=parseInt(s[1])),this.isMaybeSingle&&this.method===`GET`&&Array.isArray(r)&&(r.length>1?(n={code:`PGRST116`,details:`Results contain ${r.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:`JSON object requested, multiple (or no) rows returned`},r=null,i=null,a=406,o=`Not Acceptable`):r=r.length===1?r[0]:null)}else{let i=await e.text();try{n=JSON.parse(i),Array.isArray(n)&&e.status===404&&(r=[],n=null,a=200,o=`OK`)}catch{e.status===404&&i===``?(a=204,o=`No Content`):n={message:i}}if(n&&this.isMaybeSingle&&(n?.details)?.includes(`0 rows`)&&(n=null,a=200,o=`OK`),n&&this.shouldThrowOnError)throw new t.default(n)}return{error:n,data:r,count:i,status:a,statusText:o}});return this.shouldThrowOnError||(i=i.catch(e=>{let t=``,n=e?.cause;if(n){let r=n?.message??``,i=n?.code??``;t=`${e?.name??`FetchError`}: ${e?.message}`,t+=`\n\nCaused by: ${n?.name??`Error`}: ${r}`,i&&(t+=` (${i})`),n?.stack&&(t+=`\n${n.stack}`)}else t=e?.stack??``;return{error:{message:`${e?.name??`FetchError`}: ${e?.message}`,details:t,hint:``,code:``},data:null,count:null,status:0,statusText:``}})),i.then(e,n)}returns(){return this}overrideTypes(){return this}}})),ki=s((e=>{Object.defineProperty(e,`__esModule`,{value:!0});var t=(yi(),d(Ir)).__importDefault(Oi());e.default=class extends t.default{select(e){let t=!1,n=(e??`*`).split(``).map(e=>/\s/.test(e)&&!t?``:(e===`"`&&(t=!t),e)).join(``);return this.url.searchParams.set(`select`,n),this.headers.append(`Prefer`,`return=representation`),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){let a=i?`${i}.order`:`order`,o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:``}${e}.${t?`asc`:`desc`}${n===void 0?``:n?`.nullsfirst`:`.nullslast`}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){let r=n===void 0?`limit`:`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){let i=r===void 0?`offset`:`${r}.offset`,a=r===void 0?`limit`:`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(a,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set(`Accept`,`application/vnd.pgrst.object+json`),this}maybeSingle(){return this.method===`GET`?this.headers.set(`Accept`,`application/json`):this.headers.set(`Accept`,`application/vnd.pgrst.object+json`),this.isMaybeSingle=!0,this}csv(){return this.headers.set(`Accept`,`text/csv`),this}geojson(){return this.headers.set(`Accept`,`application/geo+json`),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:a=`text`}={}){let o=[e?`analyze`:null,t?`verbose`:null,n?`settings`:null,r?`buffers`:null,i?`wal`:null].filter(Boolean).join(`|`),s=this.headers.get(`Accept`)??`application/json`;return this.headers.set(`Accept`,`application/vnd.pgrst.plan+${a}; for="${s}"; options=${o};`),this}rollback(){return this.headers.append(`Prefer`,`tx=rollback`),this}returns(){return this}maxAffected(e){return this.headers.append(`Prefer`,`handling=strict`),this.headers.append(`Prefer`,`max-affected=${e}`),this}}})),Ai=s((e=>{Object.defineProperty(e,`__esModule`,{value:!0});var t=(yi(),d(Ir)).__importDefault(ki()),n=RegExp(`[,()]`);e.default=class extends t.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(`,`)}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(`,`)}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(`,`)}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(`,`)}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){let r=Array.from(new Set(t)).map(e=>typeof e==`string`&&n.test(e)?`"${e}"`:`${e}`).join(`,`);return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,t){return typeof t==`string`?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(`,`)}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t==`string`?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(`,`)}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t==`string`?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(`,`)}}`),this}textSearch(e,t,{config:n,type:r}={}){let i=``;r===`plain`?i=`pl`:r===`phrase`?i=`ph`:r===`websearch`&&(i=`w`);let a=n===void 0?``:`(${n})`;return this.url.searchParams.append(e,`${i}fts${a}.${t}`),this}match(e){return Object.entries(e).forEach(([e,t])=>{this.url.searchParams.append(e,`eq.${t}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){let r=n?`${n}.or`:`or`;return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}}})),ji=s((e=>{Object.defineProperty(e,`__esModule`,{value:!0});var t=(yi(),d(Ir)).__importDefault(Ai());e.default=class{constructor(e,{headers:t={},schema:n,fetch:r}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=r}select(e,n){let{head:r=!1,count:i}=n??{},a=r?`HEAD`:`GET`,o=!1,s=(e??`*`).split(``).map(e=>/\s/.test(e)&&!o?``:(e===`"`&&(o=!o),e)).join(``);return this.url.searchParams.set(`select`,s),i&&this.headers.append(`Prefer`,`count=${i}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:n,defaultToNull:r=!0}={}){if(n&&this.headers.append(`Prefer`,`count=${n}`),r||this.headers.append(`Prefer`,`missing=default`),Array.isArray(e)){let t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){let e=[...new Set(t)].map(e=>`"${e}"`);this.url.searchParams.set(`columns`,e.join(`,`))}}return new t.default({method:`POST`,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch??fetch})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:a=!0}={}){if(this.headers.append(`Prefer`,`resolution=${r?`ignore`:`merge`}-duplicates`),n!==void 0&&this.url.searchParams.set(`on_conflict`,n),i&&this.headers.append(`Prefer`,`count=${i}`),a||this.headers.append(`Prefer`,`missing=default`),Array.isArray(e)){let t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){let e=[...new Set(t)].map(e=>`"${e}"`);this.url.searchParams.set(`columns`,e.join(`,`))}}return new t.default({method:`POST`,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch??fetch})}update(e,{count:n}={}){return n&&this.headers.append(`Prefer`,`count=${n}`),new t.default({method:`PATCH`,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch??fetch})}delete({count:e}={}){return e&&this.headers.append(`Prefer`,`count=${e}`),new t.default({method:`DELETE`,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch??fetch})}}})),Mi=s((e=>{Object.defineProperty(e,`__esModule`,{value:!0});var t=(yi(),d(Ir)),n=t.__importDefault(ji()),r=t.__importDefault(Ai());e.default=class e{constructor(e,{headers:t={},schema:n,fetch:r}={}){this.url=e,this.headers=new Headers(t),this.schemaName=n,this.fetch=r}from(e){if(!e||typeof e!=`string`||e.trim()===``)throw Error(`Invalid relation name: relation must be a non-empty string.`);let t=new URL(`${this.url}/${e}`);return new n.default(t,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new e(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(e,t={},{head:n=!1,get:i=!1,count:a}={}){let o,s=new URL(`${this.url}/rpc/${e}`),c;n||i?(o=n?`HEAD`:`GET`,Object.entries(t).filter(([e,t])=>t!==void 0).map(([e,t])=>[e,Array.isArray(t)?`{${t.join(`,`)}}`:`${t}`]).forEach(([e,t])=>{s.searchParams.append(e,t)})):(o=`POST`,c=t);let l=new Headers(this.headers);return a&&l.set(`Prefer`,`count=${a}`),new r.default({method:o,url:s,headers:l,schema:this.schemaName,body:c,fetch:this.fetch??fetch})}}})),Ni=u(s((e=>{Object.defineProperty(e,`__esModule`,{value:!0}),e.PostgrestError=e.PostgrestBuilder=e.PostgrestTransformBuilder=e.PostgrestFilterBuilder=e.PostgrestQueryBuilder=e.PostgrestClient=void 0;var t=(yi(),d(Ir)),n=t.__importDefault(Mi());e.PostgrestClient=n.default;var r=t.__importDefault(ji());e.PostgrestQueryBuilder=r.default;var i=t.__importDefault(Ai());e.PostgrestFilterBuilder=i.default;var a=t.__importDefault(ki());e.PostgrestTransformBuilder=a.default;var o=t.__importDefault(Oi());e.PostgrestBuilder=o.default;var s=t.__importDefault(Di());e.PostgrestError=s.default,e.default={PostgrestClient:n.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:o.default,PostgrestError:s.default}}))(),1),{PostgrestClient:Pi,PostgrestQueryBuilder:Fi,PostgrestFilterBuilder:Ii,PostgrestTransformBuilder:Li,PostgrestBuilder:Ri,PostgrestError:zi}=Ni.default||Ni,Bi=class{constructor(){}static detectEnvironment(){if(typeof WebSocket<`u`)return{type:`native`,constructor:WebSocket};if(typeof globalThis<`u`&&globalThis.WebSocket!==void 0)return{type:`native`,constructor:globalThis.WebSocket};if(typeof global<`u`&&global.WebSocket!==void 0)return{type:`native`,constructor:global.WebSocket};if(typeof globalThis<`u`&&globalThis.WebSocketPair!==void 0&&globalThis.WebSocket===void 0)return{type:`cloudflare`,error:`Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.`,workaround:`Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime.`};if(typeof globalThis<`u`&&globalThis.EdgeRuntime||typeof navigator<`u`&&navigator.userAgent?.includes(`Vercel-Edge`))return{type:`unsupported`,error:`Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.`,workaround:`Use serverless functions or a different deployment target for WebSocket functionality.`};if(typeof process<`u`){let e=process.versions;if(e&&e.node){let t=e.node,n=parseInt(t.replace(/^v/,``).split(`.`)[0]);return n>=22?globalThis.WebSocket===void 0?{type:`unsupported`,error:`Node.js ${n} detected but native WebSocket not found.`,workaround:`Provide a WebSocket implementation via the transport option.`}:{type:`native`,constructor:globalThis.WebSocket}:{type:`unsupported`,error:`Node.js ${n} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:`unsupported`,error:`Unknown JavaScript runtime without WebSocket support.`,workaround:`Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation.`}}static getWebSocketConstructor(){let e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||`WebSocket not supported in this environment.`;throw e.workaround&&(t+=`\n\nSuggested solution: ${e.workaround}`),Error(t)}static createWebSocket(e,t){return new(this.getWebSocketConstructor())(e,t)}static isWebSocketSupported(){try{let e=this.detectEnvironment();return e.type===`native`||e.type===`ws`}catch{return!1}}};const Vi=`1.0.0`,Hi=Vi,Ui=1e4;var Wi;(function(e){e[e.connecting=0]=`connecting`,e[e.open=1]=`open`,e[e.closing=2]=`closing`,e[e.closed=3]=`closed`})(Wi||={});var Gi;(function(e){e.closed=`closed`,e.errored=`errored`,e.joined=`joined`,e.joining=`joining`,e.leaving=`leaving`})(Gi||={});var Ki;(function(e){e.close=`phx_close`,e.error=`phx_error`,e.join=`phx_join`,e.reply=`phx_reply`,e.leave=`phx_leave`,e.access_token=`access_token`})(Ki||={});var qi;(function(e){e.websocket=`websocket`})(qi||={});var Ji;(function(e){e.Connecting=`connecting`,e.Open=`open`,e.Closing=`closing`,e.Closed=`closed`})(Ji||={});var Yi=class{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT=`broadcast`}encode(e,t){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event==`string`)return t(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return t(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){return this._isArrayBuffer(e.payload?.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){let t=e.topic,n=e.ref??``,r=e.join_ref??``,i=e.payload.event,a=e.payload?.payload??new ArrayBuffer(0),o=this.USER_BROADCAST_PUSH_META_LENGTH+r.length+n.length+t.length+i.length,s=new ArrayBuffer(this.HEADER_LENGTH+o),c=new DataView(s),l=0;c.setUint8(l++,this.KINDS.userBroadcastPush),c.setUint8(l++,r.length),c.setUint8(l++,n.length),c.setUint8(l++,t.length),c.setUint8(l++,i.length),c.setUint8(l++,this.BINARY_ENCODING),Array.from(r,e=>c.setUint8(l++,e.charCodeAt(0))),Array.from(n,e=>c.setUint8(l++,e.charCodeAt(0))),Array.from(t,e=>c.setUint8(l++,e.charCodeAt(0))),Array.from(i,e=>c.setUint8(l++,e.charCodeAt(0)));var u=new Uint8Array(s.byteLength+a.byteLength);return u.set(new Uint8Array(s),0),u.set(new Uint8Array(a),s.byteLength),u.buffer}_encodeJsonUserBroadcastPush(e){let t=e.topic,n=e.ref??``,r=e.join_ref??``,i=e.payload.event,a=e.payload?.payload??{},o=new TextEncoder().encode(JSON.stringify(a)).buffer,s=this.USER_BROADCAST_PUSH_META_LENGTH+r.length+n.length+t.length+i.length,c=new ArrayBuffer(this.HEADER_LENGTH+s),l=new DataView(c),u=0;l.setUint8(u++,this.KINDS.userBroadcastPush),l.setUint8(u++,r.length),l.setUint8(u++,n.length),l.setUint8(u++,t.length),l.setUint8(u++,i.length),l.setUint8(u++,this.JSON_ENCODING),Array.from(r,e=>l.setUint8(u++,e.charCodeAt(0))),Array.from(n,e=>l.setUint8(u++,e.charCodeAt(0))),Array.from(t,e=>l.setUint8(u++,e.charCodeAt(0))),Array.from(i,e=>l.setUint8(u++,e.charCodeAt(0)));var d=new Uint8Array(c.byteLength+o.byteLength);return d.set(new Uint8Array(c),0),d.set(new Uint8Array(o),c.byteLength),d.buffer}decode(e,t){if(this._isArrayBuffer(e))return t(this._binaryDecode(e));if(typeof e==`string`){let[n,r,i,a,o]=JSON.parse(e);return t({join_ref:n,ref:r,topic:i,event:a,payload:o})}return t({})}_binaryDecode(e){let t=new DataView(e),n=t.getUint8(0),r=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,t,r)}}_decodeUserBroadcast(e,t,n){let r=t.getUint8(1),i=t.getUint8(2),a=t.getUint8(3),o=t.getUint8(4),s=this.HEADER_LENGTH+4,c=n.decode(e.slice(s,s+r));s+=r;let l=n.decode(e.slice(s,s+i));s+=i;let u=n.decode(e.slice(s,s+a));s+=a;let d=e.slice(s,e.byteLength),f=o===this.JSON_ENCODING?JSON.parse(n.decode(d)):d,p={type:this.BROADCAST_EVENT,event:l,payload:f};return a>0&&(p.meta=JSON.parse(u)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:p}}_isArrayBuffer(e){return e instanceof ArrayBuffer||e?.constructor?.name===`ArrayBuffer`}},Xi=class{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries+=1,this.callback()},this.timerCalc(this.tries+1))}},Zi;(function(e){e.abstime=`abstime`,e.bool=`bool`,e.date=`date`,e.daterange=`daterange`,e.float4=`float4`,e.float8=`float8`,e.int2=`int2`,e.int4=`int4`,e.int4range=`int4range`,e.int8=`int8`,e.int8range=`int8range`,e.json=`json`,e.jsonb=`jsonb`,e.money=`money`,e.numeric=`numeric`,e.oid=`oid`,e.reltime=`reltime`,e.text=`text`,e.time=`time`,e.timestamp=`timestamp`,e.timestamptz=`timestamptz`,e.timetz=`timetz`,e.tsrange=`tsrange`,e.tstzrange=`tstzrange`})(Zi||={});const Qi=(e,t,n={})=>{let r=n.skipTypes??[];return t?Object.keys(t).reduce((n,i)=>(n[i]=$i(i,e,t,r),n),{}):{}},$i=(e,t,n,r)=>{let i=t.find(t=>t.name===e)?.type,a=n[e];return i&&!r.includes(i)?ea(i,a):ta(a)},ea=(e,t)=>{if(e.charAt(0)===`_`)return aa(t,e.slice(1,e.length));switch(e){case Zi.bool:return na(t);case Zi.float4:case Zi.float8:case Zi.int2:case Zi.int4:case Zi.int8:case Zi.numeric:case Zi.oid:return ra(t);case Zi.json:case Zi.jsonb:return ia(t);case Zi.timestamp:return oa(t);case Zi.abstime:case Zi.date:case Zi.daterange:case Zi.int4range:case Zi.int8range:case Zi.money:case Zi.reltime:case Zi.text:case Zi.time:case Zi.timestamptz:case Zi.timetz:case Zi.tsrange:case Zi.tstzrange:return ta(t);default:return ta(t)}};var ta=e=>e;const na=e=>{switch(e){case`t`:return!0;case`f`:return!1;default:return e}},ra=e=>{if(typeof e==`string`){let t=parseFloat(e);if(!Number.isNaN(t))return t}return e},ia=e=>{if(typeof e==`string`)try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},aa=(e,t)=>{if(typeof e!=`string`)return e;let n=e.length-1,r=e[n];if(e[0]===`{`&&r===`}`){let r,i=e.slice(1,n);try{r=JSON.parse(`[`+i+`]`)}catch{r=i?i.split(`,`):[]}return r.map(e=>ea(t,e))}return e},oa=e=>typeof e==`string`?e.replace(` `,`T`):e,sa=e=>{let t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,`http`),t.pathname=t.pathname.replace(/\/+$/,``).replace(/\/socket\/websocket$/i,``).replace(/\/socket$/i,``).replace(/\/websocket$/i,``),t.pathname===``||t.pathname===`/`?t.pathname=`/api/broadcast`:t.pathname+=`/api/broadcast`,t.href};var ca=class{constructor(e,t,n={},r=Ui){this.channel=e,this.event=t,this.payload=n,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref=``,this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref=``,this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived(`timeout`)||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){return this._hasReceived(e)&&t(this.receivedResp?.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){this.timeoutTimer||=(this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref),this.channel._on(this.refEvent,{},e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)}),setTimeout(()=>{this.trigger(`timeout`,{})},this.timeout))}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(t=>t.status===e).forEach(e=>e.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}},la;(function(e){e.SYNC=`sync`,e.JOIN=`join`,e.LEAVE=`leave`})(la||={});var ua=class e{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=n?.events||{state:`presence_state`,diff:`presence_diff`};this.channel._on(r.state,{},t=>{let{onJoin:n,onLeave:r,onSync:i}=this.caller;this.joinRef=this.channel._joinRef(),this.state=e.syncState(this.state,t,n,r),this.pendingDiffs.forEach(t=>{this.state=e.syncDiff(this.state,t,n,r)}),this.pendingDiffs=[],i()}),this.channel._on(r.diff,{},t=>{let{onJoin:n,onLeave:r,onSync:i}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(t):(this.state=e.syncDiff(this.state,t,n,r),i())}),this.onJoin((e,t,n)=>{this.channel._trigger(`presence`,{event:`join`,key:e,currentPresences:t,newPresences:n})}),this.onLeave((e,t,n)=>{this.channel._trigger(`presence`,{event:`leave`,key:e,currentPresences:t,leftPresences:n})}),this.onSync(()=>{this.channel._trigger(`presence`,{event:`sync`})})}static syncState(e,t,n,r){let i=this.cloneDeep(e),a=this.transformState(t),o={},s={};return this.map(i,(e,t)=>{a[e]||(s[e]=t)}),this.map(a,(e,t)=>{let n=i[e];if(n){let r=t.map(e=>e.presence_ref),i=n.map(e=>e.presence_ref),a=t.filter(e=>i.indexOf(e.presence_ref)<0),c=n.filter(e=>r.indexOf(e.presence_ref)<0);a.length>0&&(o[e]=a),c.length>0&&(s[e]=c)}else o[e]=t}),this.syncDiff(i,{joins:o,leaves:s},n,r)}static syncDiff(e,t,n,r){let{joins:i,leaves:a}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||=()=>{},r||=()=>{},this.map(i,(t,r)=>{let i=e[t]??[];if(e[t]=this.cloneDeep(r),i.length>0){let n=e[t].map(e=>e.presence_ref),r=i.filter(e=>n.indexOf(e.presence_ref)<0);e[t].unshift(...r)}n(t,i,r)}),this.map(a,(t,n)=>{let i=e[t];if(!i)return;let a=n.map(e=>e.presence_ref);i=i.filter(e=>a.indexOf(e.presence_ref)<0),e[t]=i,r(t,i,n),i.length===0&&delete e[t]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(n=>t(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,n)=>{let r=e[n];return`metas`in r?t[n]=r.metas.map(e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e)):t[n]=r,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}},da;(function(e){e.ALL=`*`,e.INSERT=`INSERT`,e.UPDATE=`UPDATE`,e.DELETE=`DELETE`})(da||={});var fa;(function(e){e.BROADCAST=`broadcast`,e.PRESENCE=`presence`,e.POSTGRES_CHANGES=`postgres_changes`,e.SYSTEM=`system`})(fa||={});var pa;(function(e){e.SUBSCRIBED=`SUBSCRIBED`,e.TIMED_OUT=`TIMED_OUT`,e.CLOSED=`CLOSED`,e.CHANNEL_ERROR=`CHANNEL_ERROR`})(pa||={});var ma=class e{constructor(e,t={config:{}},n){if(this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=Gi.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,``),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:``,enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new ca(this,Ki.join,this.params,this.timeout),this.rejoinTimer=new Xi(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive(`ok`,()=>{this.state=Gi.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(e=>e.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log(`channel`,`close ${this.topic} ${this._joinRef()}`),this.state=Gi.closed,this.socket._remove(this)}),this._onError(e=>{this._isLeaving()||this._isClosed()||(this.socket.log(`channel`,`error ${this.topic}`,e),this.state=Gi.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive(`timeout`,()=>{this._isJoining()&&(this.socket.log(`channel`,`timeout ${this.topic}`,this.joinPush.timeout),this.state=Gi.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive(`error`,e=>{this._isLeaving()||this._isClosed()||(this.socket.log(`channel`,`error ${this.topic}`,e),this.state=Gi.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ki.reply,{},(e,t)=>{this._trigger(this._replyEventName(t),e)}),this.presence=new ua(this),this.broadcastEndpointURL=sa(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&this.params.config?.broadcast?.replay)throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,t=this.timeout){if(this.socket.isConnected()||this.socket.connect(),this.state==Gi.closed){let{config:{broadcast:n,presence:r,private:i}}=this.params,a=this.bindings.postgres_changes?.map(e=>e.filter)??[],o=!!this.bindings[fa.PRESENCE]&&this.bindings[fa.PRESENCE].length>0||this.params.config.presence?.enabled===!0,s={},c={broadcast:n,presence:Object.assign(Object.assign({},r),{enabled:o}),postgres_changes:a,private:i};this.socket.accessTokenValue&&(s.access_token=this.socket.accessTokenValue),this._onError(t=>e?.(pa.CHANNEL_ERROR,t)),this._onClose(()=>e?.(pa.CLOSED)),this.updateJoinPayload(Object.assign({config:c},s)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive(`ok`,async({postgres_changes:t})=>{if(this.socket.setAuth(),t===void 0){e?.(pa.SUBSCRIBED);return}else{let n=this.bindings.postgres_changes,r=n?.length??0,i=[];for(let a=0;a<r;a++){let r=n[a],{filter:{event:o,schema:s,table:c,filter:l}}=r,u=t&&t[a];if(u&&u.event===o&&u.schema===s&&u.table===c&&u.filter===l)i.push(Object.assign(Object.assign({},r),{id:u.id}));else{this.unsubscribe(),this.state=Gi.errored,e?.(pa.CHANNEL_ERROR,Error(`mismatch between server and client bindings for postgres changes`));return}}this.bindings.postgres_changes=i,e&&e(pa.SUBSCRIBED);return}}).receive(`error`,t=>{this.state=Gi.errored,e?.(pa.CHANNEL_ERROR,Error(JSON.stringify(Object.values(t).join(`, `)||`error`)))}).receive(`timeout`,()=>{e?.(pa.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:`presence`,event:`track`,payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:`presence`,event:`untrack`},e)}on(e,t,n){return this.state===Gi.joined&&e===fa.PRESENCE&&(this.socket.log(`channel`,`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,n)}async httpSend(e,t,n={}){let r=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:``;if(t==null)return Promise.reject(`Payload is required for httpSend()`);let i={method:`POST`,headers:{Authorization:r,apikey:this.socket.apiKey?this.socket.apiKey:``,"Content-Type":`application/json`},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,i,n.timeout??this.timeout);if(a.status===202)return{success:!0};let o=a.statusText;try{let e=await a.json();o=e.error||e.message||o}catch{}return Promise.reject(Error(o))}async send(e,t={}){if(!this._canPush()&&e.type===`broadcast`){console.warn(`Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.`);let{event:n,payload:r}=e,i={method:`POST`,headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:``,apikey:this.socket.apiKey?this.socket.apiKey:``,"Content-Type":`application/json`},body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:r,private:this.private}]})};try{let e=await this._fetchWithTimeout(this.broadcastEndpointURL,i,t.timeout??this.timeout);return await e.body?.cancel(),e.ok?`ok`:`error`}catch(e){return e.name===`AbortError`?`timed out`:`error`}}else return new Promise(n=>{let r=this._push(e.type,e,t.timeout||this.timeout);e.type===`broadcast`&&!this.params?.config?.broadcast?.ack&&n(`ok`),r.receive(`ok`,()=>n(`ok`)),r.receive(`error`,()=>n(`error`)),r.receive(`timeout`,()=>n(`timed out`))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Gi.leaving;let t=()=>{this.socket.log(`channel`,`leave ${this.topic}`),this._trigger(Ki.close,`leave`,this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(r=>{n=new ca(this,Ki.leave,{},e),n.receive(`ok`,()=>{t(),r(`ok`)}).receive(`timeout`,()=>{t(),r(`timed out`)}).receive(`error`,()=>{r(`error`)}),n.send(),this._canPush()||n.trigger(`ok`,{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Gi.closed,this.bindings={}}async _fetchWithTimeout(e,t,n){let r=new AbortController,i=setTimeout(()=>r.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:r.signal}));return clearTimeout(i),a}_push(e,t,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new ca(this,e,t,n);return this._canPush()?r.send():this._addToPushBuffer(r),r}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>100){let e=this.pushBuffer.shift();e&&(e.destroy(),this.socket.log(`channel`,`discarded push due to buffer overflow: ${e.event}`,e.payload))}}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var r,i;let a=e.toLocaleLowerCase(),{close:o,error:s,leave:c,join:l}=Ki;if(n&&[o,s,c,l].indexOf(a)>=0&&n!==this._joinRef())return;let u=this._onMessage(a,t,n);if(t&&!u)throw`channel onMessage callbacks must return the payload, modified or unmodified`;[`insert`,`update`,`delete`].includes(a)?(r=this.bindings.postgres_changes)==null||r.filter(e=>e.filter?.event===`*`||(e.filter?.event)?.toLocaleLowerCase()===a).map(e=>e.callback(u,n)):(i=this.bindings[a])==null||i.filter(e=>{if([`broadcast`,`presence`,`postgres_changes`].includes(a))if(`id`in e){let n=e.id,r=e.filter?.event;return n&&t.ids?.includes(n)&&(r===`*`||r?.toLocaleLowerCase()===t.data?.type.toLocaleLowerCase())}else{let n=(e?.filter?.event)?.toLocaleLowerCase();return n===`*`||n===(t?.event)?.toLocaleLowerCase()}else return e.type.toLocaleLowerCase()===a}).map(e=>{if(typeof u==`object`&&`ids`in u){let e=u.data,{schema:t,table:n,commit_timestamp:r,type:i,errors:a}=e,o={schema:t,table:n,commit_timestamp:r,eventType:i,new:{},old:{},errors:a};u=Object.assign(Object.assign({},o),this._getPayloadRecords(e))}e.callback(u,n)})}_isClosed(){return this.state===Gi.closed}_isJoined(){return this.state===Gi.joined}_isJoining(){return this.state===Gi.joining}_isLeaving(){return this.state===Gi.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,n){let r=e.toLocaleLowerCase(),i={type:r,filter:t,callback:n};return this.bindings[r]?this.bindings[r].push(i):this.bindings[r]=[i],this}_off(t,n){let r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(t=>!(t.type?.toLocaleLowerCase()===r&&e.isEqual(t.filter,n)))),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let n in e)if(e[n]!==t[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ki.close,{},e)}_onError(e){this._on(Ki.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Gi.joining,this.joinPush.resend(e))}_getPayloadRecords(e){let t={new:{},old:{}};return(e.type===`INSERT`||e.type===`UPDATE`)&&(t.new=Qi(e.columns,e.record)),(e.type===`UPDATE`||e.type===`DELETE`)&&(t.old=Qi(e.columns,e.old_record)),t}},ha=()=>{},ga={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},_a=[1e3,2e3,5e3,1e4],va=1e4,ya=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,ba=class{constructor(e,t){if(this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint=``,this.httpEndpoint=``,this.headers={},this.params={},this.timeout=Ui,this.transport=null,this.heartbeatIntervalMs=ga.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ha,this.ref=0,this.reconnectTimer=null,this.vsn=Hi,this.logger=ha,this.conn=null,this.sendBuffer=[],this.serializer=new Yi,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState=`disconnected`,this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=e=>e?(...t)=>e(...t):(...e)=>fetch(...e),!t?.params?.apikey)throw Error(`API key is required to connect to Realtime`);this.apiKey=t.params.apikey,this.endPoint=`${e}/${qi.websocket}`,this.httpEndpoint=sa(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState(`connecting`),this.accessToken&&!this._authPromise&&this._setAuthSafely(`connect`),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Bi.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState(`disconnected`);let t=e.message;throw t.includes(`Node.js`)?Error(`${t}\n\nTo use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState(`disconnecting`,!0),this.conn){let n=setTimeout(()=>{this._setConnectionState(`disconnected`)},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState(`disconnected`)},typeof this.conn.close==`function`&&(e?this.conn.close(e,t??``):this.conn.close()),this._teardownConnection()}else this._setConnectionState(`disconnected`)}getChannels(){return this.channels}async removeChannel(e){let t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){let e=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Wi.connecting:return Ji.Connecting;case Wi.open:return Ji.Open;case Wi.closing:return Ji.Closing;default:return Ji.Closed}}isConnected(){return this.connectionState()===Ji.Open}isConnecting(){return this._connectionState===`connecting`}isDisconnecting(){return this._connectionState===`disconnecting`}channel(e,t={config:{}}){let n=`realtime:${e}`,r=this.getChannels().find(e=>e.topic===n);if(r)return r;{let n=new ma(`realtime:${e}`,t,this);return this.channels.push(n),n}}push(e){let{topic:t,event:n,payload:r,ref:i}=e,a=()=>{this.encode(e,e=>{var t;(t=this.conn)==null||t.send(e)})};this.log(`push`,`${t} ${n} (${i})`,r),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback(`disconnected`)}catch(e){this.log(`error`,`error in heartbeat callback`,e)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log(`transport`,`heartbeat timeout. Attempting to re-establish connection`);try{this.heartbeatCallback(`timeout`)}catch(e){this.log(`error`,`error in heartbeat callback`,e)}this._wasManualDisconnect=!1,(e=this.conn)==null||e.close(1e3,`heartbeat timeout`),setTimeout(()=>{var e;this.isConnected()||(e=this.reconnectTimer)==null||e.scheduleTimeout()},ga.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:`phoenix`,event:`heartbeat`,payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback(`sent`)}catch(e){this.log(`error`,`error in heartbeat callback`,e)}this._setAuthSafely(`heartbeat`)}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(t=>t.topic===e&&(t._isJoined()||t._isJoining()));t&&(this.log(`transport`,`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,e=>{if(e.topic===`phoenix`&&e.event===`phx_reply`)try{this.heartbeatCallback(e.payload.status===`ok`?`ok`:`error`)}catch(e){this.log(`error`,`error in heartbeat callback`,e)}e.ref&&e.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);let{topic:t,event:n,payload:r,ref:i}=e,a=i?`(${i})`:``,o=r.status||``;this.log(`receive`,`${o} ${t} ${n} ${a}`.trim(),r),this.channels.filter(e=>e._isMember(t)).forEach(e=>e._trigger(n,r,i)),this._triggerStateCallbacks(`message`,e)})}_clearTimer(e){var t;e===`heartbeat`&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e===`reconnect`&&((t=this.reconnectTimer)==null||t.reset())}_clearAllTimers(){this._clearTimer(`heartbeat`),this._clearTimer(`reconnect`)}_setupConnectionHandlers(){this.conn&&(`binaryType`in this.conn&&(this.conn.binaryType=`arraybuffer`),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Wi.open||this.conn.readyState===Wi.connecting)try{this.conn.close()}catch(e){this.log(`error`,`Error closing connection`,e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState(`connected`),this.log(`transport`,`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(e=>{this.log(`error`,`error waiting for auth on connect`,e),this.flushSendBuffer()}),this._clearTimer(`reconnect`),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks(`open`)}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log(`worker`,`starting worker for from ${this.workerUrl}`):this.log(`worker`,`starting default worker`);let e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log(`worker`,`worker error`,e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{e.data.event===`keepAlive`&&this.sendHeartbeat()},this.workerRef.postMessage({event:`start`,interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState(`disconnected`),this.log(`transport`,`close`,e),this._triggerChanError(),this._clearTimer(`heartbeat`),this._wasManualDisconnect||(t=this.reconnectTimer)==null||t.scheduleTimeout(),this._triggerStateCallbacks(`close`,e)}_onConnError(e){this._setConnectionState(`disconnected`),this.log(`transport`,`${e}`),this._triggerChanError(),this._triggerStateCallbacks(`error`,e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ki.error))}_appendParams(e,t){return Object.keys(t).length===0?e:`${e}${e.match(/\?/)?`&`:`?`}${new URLSearchParams(t)}`}_workerObjectUrl(e){let t;if(e)t=e;else{let e=new Blob([ya],{type:`application/javascript`});t=URL.createObjectURL(e)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e===`connecting`?this._wasManualDisconnect=!1:e===`disconnecting`&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t;t=e||(this.accessToken?await this.accessToken():this.accessTokenValue),this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(e=>{let n={access_token:t,version:`realtime-js/2.84.0`};t&&e.updateJoinPayload(n),e.joinedOnce&&e._isJoined()&&e._push(Ki.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e=`general`){this.setAuth().catch(t=>{this.log(`error`,`error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(t)}catch(t){this.log(`error`,`error in ${e} callback`,t)}})}catch(t){this.log(`error`,`error triggering ${e} callbacks`,t)}}_setupReconnectionTimer(){this.reconnectTimer=new Xi(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ga.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){switch(this.transport=e?.transport??null,this.timeout=e?.timeout??Ui,this.heartbeatIntervalMs=e?.heartbeatIntervalMs??ga.HEARTBEAT_INTERVAL,this.worker=e?.worker??!1,this.accessToken=e?.accessToken??null,this.heartbeatCallback=e?.heartbeatCallback??ha,this.vsn=e?.vsn??Hi,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=e?.reconnectAfterMs??(e=>_a[e-1]||va),this.vsn){case Vi:this.encode=e?.encode??((e,t)=>t(JSON.stringify(e))),this.decode=e?.decode??((e,t)=>t(JSON.parse(e)));break;case`2.0.0`:this.encode=e?.encode??this.serializer.encode.bind(this.serializer),this.decode=e?.decode??this.serializer.decode.bind(this.serializer);break;default:throw Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<`u`&&!window.Worker)throw Error(`Web Worker is not supported`);this.workerUrl=e?.workerUrl}}},xa=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name=`StorageError`}};function Sa(e){return typeof e==`object`&&!!e&&`__isStorageError`in e}var Ca=class extends xa{constructor(e,t,n){super(e),this.name=`StorageApiError`,this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},wa=class extends xa{constructor(e,t){super(e),this.name=`StorageUnknownError`,this.originalError=t}};const Ta=e=>e?(...t)=>e(...t):(...e)=>fetch(...e),Ea=()=>Response,Da=e=>{if(Array.isArray(e))return e.map(e=>Da(e));if(typeof e==`function`||e!==Object(e))return e;let t={};return Object.entries(e).forEach(([e,n])=>{let r=e.replace(/([-_][a-z])/gi,e=>e.toUpperCase().replace(/[-_]/g,``));t[r]=Da(n)}),t},Oa=e=>{if(typeof e!=`object`||!e)return!1;let t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};yi();var ka=e=>e.msg||e.message||e.error_description||(typeof e.error==`string`?e.error:e.error?.message)||JSON.stringify(e),Aa=(e,t,n)=>K(void 0,void 0,void 0,function*(){e instanceof(yield Ea())&&!n?.noResolveJson?e.json().then(n=>{let r=e.status||500,i=n?.statusCode||r+``;t(new Ca(ka(n),r,i))}).catch(e=>{t(new wa(ka(e),e))}):t(new wa(ka(e),e))}),ja=(e,t,n,r)=>{let i={method:e,headers:t?.headers||{}};return e===`GET`||!r?i:(Oa(r)?(i.headers=Object.assign({"Content-Type":`application/json`},t?.headers),i.body=JSON.stringify(r)):i.body=r,t?.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function Ma(e,t,n,r,i,a){return K(this,void 0,void 0,function*(){return new Promise((o,s)=>{e(n,ja(t,r,i,a)).then(e=>{if(!e.ok)throw e;return r?.noResolveJson?e:e.json()}).then(e=>o(e)).catch(e=>Aa(e,s,r))})})}function Na(e,t,n,r){return K(this,void 0,void 0,function*(){return Ma(e,`GET`,t,n,r)})}function Pa(e,t,n,r,i){return K(this,void 0,void 0,function*(){return Ma(e,`POST`,t,r,i,n)})}function Fa(e,t,n,r,i){return K(this,void 0,void 0,function*(){return Ma(e,`PUT`,t,r,i,n)})}function Ia(e,t,n,r){return K(this,void 0,void 0,function*(){return Ma(e,`HEAD`,t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function La(e,t,n,r,i){return K(this,void 0,void 0,function*(){return Ma(e,`DELETE`,t,r,i,n)})}yi();var Ra=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}execute(){return K(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Sa(e))return{data:null,error:e};throw e}})}};yi();var za,Ba=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[za]=`BlobDownloadBuilder`,this.promise=null}asStream(){return new Ra(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||=this.execute(),this.promise}execute(){return K(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Sa(e))return{data:null,error:e};throw e}})}};za=Symbol.toStringTag;var Va=Ba;yi();var Ha={limit:100,offset:0,sortBy:{column:`name`,order:`asc`}},Ua={cacheControl:`3600`,contentType:`text/plain;charset=UTF-8`,upsert:!1},Wa=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=n,this.fetch=Ta(r)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,t,n,r){return K(this,void 0,void 0,function*(){try{let i,a=Object.assign(Object.assign({},Ua),r),o=Object.assign(Object.assign({},this.headers),e===`POST`&&{"x-upsert":String(a.upsert)}),s=a.metadata;typeof Blob<`u`&&n instanceof Blob?(i=new FormData,i.append(`cacheControl`,a.cacheControl),s&&i.append(`metadata`,this.encodeMetadata(s)),i.append(``,n)):typeof FormData<`u`&&n instanceof FormData?(i=n,i.has(`cacheControl`)||i.append(`cacheControl`,a.cacheControl),s&&!i.has(`metadata`)&&i.append(`metadata`,this.encodeMetadata(s))):(i=n,o[`cache-control`]=`max-age=${a.cacheControl}`,o[`content-type`]=a.contentType,s&&(o[`x-metadata`]=this.toBase64(this.encodeMetadata(s))),(typeof ReadableStream<`u`&&i instanceof ReadableStream||i&&typeof i==`object`&&`pipe`in i&&typeof i.pipe==`function`)&&!a.duplex&&(a.duplex=`half`)),r?.headers&&(o=Object.assign(Object.assign({},o),r.headers));let c=this._removeEmptyFolders(t),l=this._getFinalPath(c),u=yield(e==`PUT`?Fa:Pa)(this.fetch,`${this.url}/object/${l}`,i,Object.assign({headers:o},a?.duplex?{duplex:a.duplex}:{}));return{data:{path:c,id:u.Id,fullPath:u.Key},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Sa(e))return{data:null,error:e};throw e}})}upload(e,t,n){return K(this,void 0,void 0,function*(){return this.uploadOrUpdate(`POST`,e,t,n)})}uploadToSignedUrl(e,t,n,r){return K(this,void 0,void 0,function*(){let i=this._removeEmptyFolders(e),a=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set(`token`,t);try{let e,t=Object.assign({upsert:Ua.upsert},r),a=Object.assign(Object.assign({},this.headers),{"x-upsert":String(t.upsert)});return typeof Blob<`u`&&n instanceof Blob?(e=new FormData,e.append(`cacheControl`,t.cacheControl),e.append(``,n)):typeof FormData<`u`&&n instanceof FormData?(e=n,e.append(`cacheControl`,t.cacheControl)):(e=n,a[`cache-control`]=`max-age=${t.cacheControl}`,a[`content-type`]=t.contentType),{data:{path:i,fullPath:(yield Fa(this.fetch,o.toString(),e,{headers:a})).Key},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Sa(e))return{data:null,error:e};throw e}})}createSignedUploadUrl(e,t){return K(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),r=Object.assign({},this.headers);t?.upsert&&(r[`x-upsert`]=`true`);let i=yield Pa(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:r}),a=new URL(this.url+i.url),o=a.searchParams.get(`token`);if(!o)throw new xa(`No token returned by API`);return{data:{signedUrl:a.toString(),path:e,token:o},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Sa(e))return{data:null,error:e};throw e}})}update(e,t,n){return K(this,void 0,void 0,function*(){return this.uploadOrUpdate(`PUT`,e,t,n)})}move(e,t,n){return K(this,void 0,void 0,function*(){try{return{data:yield Pa(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Sa(e))return{data:null,error:e};throw e}})}copy(e,t,n){return K(this,void 0,void 0,function*(){try{return{data:{path:(yield Pa(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Sa(e))return{data:null,error:e};throw e}})}createSignedUrl(e,t,n){return K(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),i=yield Pa(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:t},n?.transform?{transform:n.transform}:{}),{headers:this.headers}),a=n?.download?`&download=${n.download===!0?``:n.download}`:``;return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Sa(e))return{data:null,error:e};throw e}})}createSignedUrls(e,t,n){return K(this,void 0,void 0,function*(){try{let r=yield Pa(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),i=n?.download?`&download=${n.download===!0?``:n.download}`:``;return{data:r.map(e=>Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI(`${this.url}${e.signedURL}${i}`):null})),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Sa(e))return{data:null,error:e};throw e}})}download(e,t){let n=t?.transform===void 0?`object`:`render/image/authenticated`,r=this.transformOptsToQueryString(t?.transform||{}),i=r?`?${r}`:``,a=this._getFinalPath(e);return new Va(()=>Na(this.fetch,`${this.url}/${n}/${a}${i}`,{headers:this.headers,noResolveJson:!0}),this.shouldThrowOnError)}info(e){return K(this,void 0,void 0,function*(){let t=this._getFinalPath(e);try{return{data:Da(yield Na(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers})),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Sa(e))return{data:null,error:e};throw e}})}exists(e){return K(this,void 0,void 0,function*(){let t=this._getFinalPath(e);try{return yield Ia(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Sa(e)&&e instanceof wa){let t=e.originalError;if([400,404].includes(t?.status))return{data:!1,error:e}}throw e}})}getPublicUrl(e,t){let n=this._getFinalPath(e),r=[],i=t?.download?`download=${t.download===!0?``:t.download}`:``;i!==``&&r.push(i);let a=t?.transform===void 0?`object`:`render/image`,o=this.transformOptsToQueryString(t?.transform||{});o!==``&&r.push(o);let s=r.join(`&`);return s!==``&&(s=`?${s}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${s}`)}}}remove(e){return K(this,void 0,void 0,function*(){try{return{data:yield La(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Sa(e))return{data:null,error:e};throw e}})}list(e,t,n){return K(this,void 0,void 0,function*(){try{let r=Object.assign(Object.assign(Object.assign({},Ha),t),{prefix:e||``});return{data:yield Pa(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Sa(e))return{data:null,error:e};throw e}})}listV2(e,t){return K(this,void 0,void 0,function*(){try{let n=Object.assign({},e);return{data:yield Pa(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},t),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Sa(e))return{data:null,error:e};throw e}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<`u`?Buffer.from(e).toString(`base64`):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,``)}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,``).replace(/\/+/g,`/`)}transformOptsToQueryString(e){let t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join(`&`)}};const Ga=`2.84.0`,Ka={"X-Client-Info":`storage-js/${Ga}`};yi();var qa=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1;let i=new URL(e);r?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes(`storage.supabase.`)&&(i.hostname=i.hostname.replace(`supabase.`,`storage.supabase.`)),this.url=i.href.replace(/\/$/,``),this.headers=Object.assign(Object.assign({},Ka),t),this.fetch=Ta(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return K(this,void 0,void 0,function*(){try{let t=this.listBucketOptionsToQueryString(e);return{data:yield Na(this.fetch,`${this.url}/bucket${t}`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Sa(e))return{data:null,error:e};throw e}})}getBucket(e){return K(this,void 0,void 0,function*(){try{return{data:yield Na(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Sa(e))return{data:null,error:e};throw e}})}createBucket(e){return K(this,arguments,void 0,function*(e,t={public:!1}){try{return{data:yield Pa(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Sa(e))return{data:null,error:e};throw e}})}updateBucket(e,t){return K(this,void 0,void 0,function*(){try{return{data:yield Fa(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Sa(e))return{data:null,error:e};throw e}})}emptyBucket(e){return K(this,void 0,void 0,function*(){try{return{data:yield Pa(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Sa(e))return{data:null,error:e};throw e}})}deleteBucket(e){return K(this,void 0,void 0,function*(){try{return{data:yield La(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Sa(e))return{data:null,error:e};throw e}})}listBucketOptionsToQueryString(e){let t={};return e&&(`limit`in e&&(t.limit=String(e.limit)),`offset`in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?`?`+new URLSearchParams(t).toString():``}};yi();var Ja=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,``),this.headers=Object.assign(Object.assign({},Ka),t),this.fetch=Ta(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return K(this,void 0,void 0,function*(){try{return{data:yield Pa(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Sa(e))return{data:null,error:e};throw e}})}listBuckets(e){return K(this,void 0,void 0,function*(){try{let t=new URLSearchParams;e?.limit!==void 0&&t.set(`limit`,e.limit.toString()),e?.offset!==void 0&&t.set(`offset`,e.offset.toString()),e?.sortColumn&&t.set(`sortColumn`,e.sortColumn),e?.sortOrder&&t.set(`sortOrder`,e.sortOrder),e?.search&&t.set(`search`,e.search);let n=t.toString(),r=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield Na(this.fetch,r,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Sa(e))return{data:null,error:e};throw e}})}deleteBucket(e){return K(this,void 0,void 0,function*(){try{return{data:yield La(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Sa(e))return{data:null,error:e};throw e}})}};const Ya={"X-Client-Info":`storage-js/${Ga}`,"Content-Type":`application/json`};var Xa=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name=`StorageVectorsError`}};function Za(e){return typeof e==`object`&&!!e&&`__isStorageVectorsError`in e}var Qa=class extends Xa{constructor(e,t,n){super(e),this.name=`StorageVectorsApiError`,this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},$a=class extends Xa{constructor(e,t){super(e),this.name=`StorageVectorsUnknownError`,this.originalError=t}},eo;(function(e){e.InternalError=`InternalError`,e.S3VectorConflictException=`S3VectorConflictException`,e.S3VectorNotFoundException=`S3VectorNotFoundException`,e.S3VectorBucketNotEmpty=`S3VectorBucketNotEmpty`,e.S3VectorMaxBucketsExceeded=`S3VectorMaxBucketsExceeded`,e.S3VectorMaxIndexesExceeded=`S3VectorMaxIndexesExceeded`})(eo||={});const to=e=>e?(...t)=>e(...t):(...e)=>fetch(...e),no=e=>{if(typeof e!=`object`||!e)return!1;let t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};yi();var ro=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),io=(e,t,n)=>K(void 0,void 0,void 0,function*(){if(e&&typeof e==`object`&&`status`in e&&`ok`in e&&typeof e.status==`number`&&!n?.noResolveJson){let n=e.status||500,r=e;if(typeof r.json==`function`)r.json().then(e=>{let r=e?.statusCode||e?.code||n+``;t(new Qa(ro(e),n,r))}).catch(()=>{let e=n+``;t(new Qa(r.statusText||`HTTP ${n} error`,n,e))});else{let e=n+``;t(new Qa(r.statusText||`HTTP ${n} error`,n,e))}}else t(new $a(ro(e),e))}),ao=(e,t,n,r)=>{let i={method:e,headers:t?.headers||{}};return e===`GET`||!r?i:(no(r)?(i.headers=Object.assign({"Content-Type":`application/json`},t?.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n))};function q(e,t,n,r,i,a){return K(this,void 0,void 0,function*(){return new Promise((o,s)=>{e(n,ao(t,r,i,a)).then(e=>{if(!e.ok)throw e;if(r?.noResolveJson)return e;let t=e.headers.get(`content-type`);return!t||!t.includes(`application/json`)?{}:e.json()}).then(e=>o(e)).catch(e=>io(e,s,r))})})}function J(e,t,n,r,i){return K(this,void 0,void 0,function*(){return q(e,`POST`,t,r,i,n)})}yi();var oo=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,``),this.headers=Object.assign(Object.assign({},Ya),t),this.fetch=to(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return K(this,void 0,void 0,function*(){try{return{data:(yield J(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Za(e))return{data:null,error:e};throw e}})}getIndex(e,t){return K(this,void 0,void 0,function*(){try{return{data:yield J(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Za(e))return{data:null,error:e};throw e}})}listIndexes(e){return K(this,void 0,void 0,function*(){try{return{data:yield J(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Za(e))return{data:null,error:e};throw e}})}deleteIndex(e,t){return K(this,void 0,void 0,function*(){try{return{data:(yield J(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Za(e))return{data:null,error:e};throw e}})}};yi();var so=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,``),this.headers=Object.assign(Object.assign({},Ya),t),this.fetch=to(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return K(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw Error(`Vector batch size must be between 1 and 500 items`);return{data:(yield J(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Za(e))return{data:null,error:e};throw e}})}getVectors(e){return K(this,void 0,void 0,function*(){try{return{data:yield J(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Za(e))return{data:null,error:e};throw e}})}listVectors(e){return K(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw Error(`segmentCount must be between 1 and 16`);if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield J(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Za(e))return{data:null,error:e};throw e}})}queryVectors(e){return K(this,void 0,void 0,function*(){try{return{data:yield J(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Za(e))return{data:null,error:e};throw e}})}deleteVectors(e){return K(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw Error(`Keys batch size must be between 1 and 500 items`);return{data:(yield J(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Za(e))return{data:null,error:e};throw e}})}};yi();var co=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,``),this.headers=Object.assign(Object.assign({},Ya),t),this.fetch=to(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return K(this,void 0,void 0,function*(){try{return{data:(yield J(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Za(e))return{data:null,error:e};throw e}})}getBucket(e){return K(this,void 0,void 0,function*(){try{return{data:yield J(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Za(e))return{data:null,error:e};throw e}})}listBuckets(){return K(this,arguments,void 0,function*(e={}){try{return{data:yield J(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Za(e))return{data:null,error:e};throw e}})}deleteBucket(e){return K(this,void 0,void 0,function*(){try{return{data:(yield J(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Za(e))return{data:null,error:e};throw e}})}};yi();var lo=class extends co{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new uo(this.url,this.headers,e,this.fetch)}},uo=class extends oo{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}createIndex(e){let t=Object.create(null,{createIndex:{get:()=>super.createIndex}});return K(this,void 0,void 0,function*(){return t.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){let e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return K(this,arguments,void 0,function*(t={}){return e.listIndexes.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){let t=Object.create(null,{getIndex:{get:()=>super.getIndex}});return K(this,void 0,void 0,function*(){return t.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){let t=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return K(this,void 0,void 0,function*(){return t.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new fo(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},fo=class extends so{constructor(e,t,n,r,i){super(e,t,i),this.vectorBucketName=n,this.indexName=r}putVectors(e){let t=Object.create(null,{putVectors:{get:()=>super.putVectors}});return K(this,void 0,void 0,function*(){return t.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){let t=Object.create(null,{getVectors:{get:()=>super.getVectors}});return K(this,void 0,void 0,function*(){return t.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){let e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return K(this,arguments,void 0,function*(t={}){return e.listVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){let t=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return K(this,void 0,void 0,function*(){return t.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){let t=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return K(this,void 0,void 0,function*(){return t.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}},po=class extends qa{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new Wa(this.url,this.headers,e,this.fetch)}get vectors(){return new lo(this.url+`/vector`,{headers:this.headers,fetch:this.fetch})}get analytics(){return new Ja(this.url+`/iceberg`,this.headers,this.fetch)}},mo=``;mo=typeof Deno<`u`?`deno`:typeof document<`u`?`web`:typeof navigator<`u`&&navigator.product===`ReactNative`?`react-native`:`node`;const ho={headers:{"X-Client-Info":`supabase-js-${mo}/2.84.0`}},go={schema:`public`},_o={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:`implicit`},vo={},yo=e=>e?(...t)=>e(...t):(...e)=>fetch(...e),bo=()=>Headers,xo=(e,t,n)=>{let r=yo(n),i=bo();return async(n,a)=>{let o=await t()??e,s=new i(a?.headers);return s.has(`apikey`)||s.set(`apikey`,e),s.has(`Authorization`)||s.set(`Authorization`,`Bearer ${o}`),r(n,Object.assign(Object.assign({},a),{headers:s}))}};function So(e){return e.endsWith(`/`)?e:e+`/`}function Co(e,t){let{db:n,auth:r,realtime:i,global:a}=e,{db:o,auth:s,realtime:c,global:l}=t,u={db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},s),r),realtime:Object.assign(Object.assign({},c),i),storage:{},global:Object.assign(Object.assign(Object.assign({},l),a),{headers:Object.assign(Object.assign({},l?.headers??{}),a?.headers??{})}),accessToken:async()=>``};return e.accessToken?u.accessToken=e.accessToken:delete u.accessToken,u}function wo(e){let t=e?.trim();if(!t)throw Error(`supabaseUrl is required.`);if(!t.match(/^https?:\/\//i))throw Error(`Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.`);try{return new URL(So(t))}catch{throw Error(`Invalid supabaseUrl: Provided URL is malformed.`)}}const To=`2.84.0`,Eo=30*1e3,Do=3*Eo,Oo={"X-Client-Info":`gotrue-js/${To}`},ko=`X-Supabase-Api-Version`,Ao={"2024-01-01":{timestamp:Date.parse(`2024-01-01T00:00:00.0Z`),name:`2024-01-01`}},jo=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;var Mo=class extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name=`AuthError`,this.status=t,this.code=n}};function Y(e){return typeof e==`object`&&!!e&&`__isAuthError`in e}var No=class extends Mo{constructor(e,t,n){super(e,t,n),this.name=`AuthApiError`,this.status=t,this.code=n}};function Po(e){return Y(e)&&e.name===`AuthApiError`}var Fo=class extends Mo{constructor(e,t){super(e),this.name=`AuthUnknownError`,this.originalError=t}},Io=class extends Mo{constructor(e,t,n,r){super(e,n,r),this.name=t,this.status=n}},Lo=class extends Io{constructor(){super(`Auth session missing!`,`AuthSessionMissingError`,400,void 0)}};function Ro(e){return Y(e)&&e.name===`AuthSessionMissingError`}var zo=class extends Io{constructor(){super(`Auth session or user missing`,`AuthInvalidTokenResponseError`,500,void 0)}},Bo=class extends Io{constructor(e){super(e,`AuthInvalidCredentialsError`,400,void 0)}},Vo=class extends Io{constructor(e,t=null){super(e,`AuthImplicitGrantRedirectError`,500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function Ho(e){return Y(e)&&e.name===`AuthImplicitGrantRedirectError`}var Uo=class extends Io{constructor(e,t=null){super(e,`AuthPKCEGrantCodeExchangeError`,500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Wo=class extends Io{constructor(e,t){super(e,`AuthRetryableFetchError`,t,void 0)}};function Go(e){return Y(e)&&e.name===`AuthRetryableFetchError`}var Ko=class extends Io{constructor(e,t,n){super(e,`AuthWeakPasswordError`,t,`weak_password`),this.reasons=n}},qo=class extends Io{constructor(e){super(e,`AuthInvalidJwtError`,400,`invalid_jwt`)}},Jo=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_`.split(``),Yo=` 	
\r=`.split(``),Xo=(()=>{let e=Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Yo.length;t+=1)e[Yo[t].charCodeAt(0)]=-2;for(let t=0;t<Jo.length;t+=1)e[Jo[t].charCodeAt(0)]=t;return e})();function Zo(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;)n(Jo[t.queue>>t.queuedBits-6&63]),t.queuedBits-=6;else if(t.queuedBits>0)for(t.queue<<=6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;)n(Jo[t.queue>>t.queuedBits-6&63]),t.queuedBits-=6}function Qo(e,t,n){let r=Xo[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else if(r===-2)return;else throw Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}function $o(e){let t=[],n=e=>{t.push(String.fromCodePoint(e))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=e=>{ns(e,r,n)};for(let t=0;t<e.length;t+=1)Qo(e.charCodeAt(t),i,a);return t.join(``)}function es(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function ts(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){let t=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|t)+65536,n+=1}es(r,t)}}function ns(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw Error(`Invalid UTF-8 sequence`);--t.utf8seq}else if(t.utf8seq>0){if(e<=127)throw Error(`Invalid UTF-8 sequence`);t.codepoint=t.codepoint<<6|e&63,--t.utf8seq,t.utf8seq===0&&n(t.codepoint)}}function rs(e){let t=[],n={queue:0,queuedBits:0},r=e=>{t.push(e)};for(let t=0;t<e.length;t+=1)Qo(e.charCodeAt(t),n,r);return new Uint8Array(t)}function is(e){let t=[];return ts(e,e=>t.push(e)),new Uint8Array(t)}function as(e){let t=[],n={queue:0,queuedBits:0},r=e=>{t.push(e)};return e.forEach(e=>Zo(e,n,r)),Zo(null,n,r),t.join(``)}function os(e){return Math.round(Date.now()/1e3)+e}function ss(){return Symbol(`auth-callback`)}const cs=()=>typeof window<`u`&&typeof document<`u`;var ls={tested:!1,writable:!1};const us=()=>{if(!cs())return!1;try{if(typeof globalThis.localStorage!=`object`)return!1}catch{return!1}if(ls.tested)return ls.writable;let e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ls.tested=!0,ls.writable=!0}catch{ls.tested=!0,ls.writable=!1}return ls.writable};function ds(e){let t={},n=new URL(e);if(n.hash&&n.hash[0]===`#`)try{new URLSearchParams(n.hash.substring(1)).forEach((e,n)=>{t[n]=e})}catch{}return n.searchParams.forEach((e,n)=>{t[n]=e}),t}const fs=e=>e?(...t)=>e(...t):(...e)=>fetch(...e),ps=e=>typeof e==`object`&&!!e&&`status`in e&&`ok`in e&&`json`in e&&typeof e.json==`function`,ms=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},hs=async(e,t)=>{let n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},gs=async(e,t)=>{await e.removeItem(t)};var _s=class e{constructor(){this.promise=new e.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}};_s.promiseConstructor=Promise;function vs(e){let t=e.split(`.`);if(t.length!==3)throw new qo(`Invalid JWT structure`);for(let e=0;e<t.length;e++)if(!jo.test(t[e]))throw new qo(`JWT not in base64url format`);return{header:JSON.parse($o(t[0])),payload:JSON.parse($o(t[1])),signature:rs(t[2]),raw:{header:t[0],payload:t[1]}}}async function ys(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function bs(e,t){return new Promise((n,r)=>{(async()=>{for(let i=0;i<1/0;i++)try{let r=await e(i);if(!t(i,null,r)){n(r);return}}catch(e){if(!t(i,e)){r(e);return}}})()})}function xs(e){return(`0`+e.toString(16)).substr(-2)}function Ss(){let e=new Uint32Array(56);if(typeof crypto>`u`){let e=``;for(let t=0;t<56;t++)e+=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~`.charAt(Math.floor(Math.random()*66));return e}return crypto.getRandomValues(e),Array.from(e,xs).join(``)}async function Cs(e){let t=new TextEncoder().encode(e),n=await crypto.subtle.digest(`SHA-256`,t),r=new Uint8Array(n);return Array.from(r).map(e=>String.fromCharCode(e)).join(``)}async function ws(e){if(!(typeof crypto<`u`&&crypto.subtle!==void 0&&typeof TextEncoder<`u`))return console.warn(`WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256.`),e;let t=await Cs(e);return btoa(t).replace(/\+/g,`-`).replace(/\//g,`_`).replace(/=+$/,``)}async function Ts(e,t,n=!1){let r=Ss(),i=r;n&&(i+=`/PASSWORD_RECOVERY`),await ms(e,`${t}-code-verifier`,i);let a=await ws(r);return[a,r===a?`plain`:`s256`]}var Es=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Ds(e){let t=e.headers.get(ko);if(!t||!t.match(Es))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Os(e){if(!e)throw Error(`Missing exp claim`);if(e<=Math.floor(Date.now()/1e3))throw Error(`JWT has expired`)}function ks(e){switch(e){case`RS256`:return{name:`RSASSA-PKCS1-v1_5`,hash:{name:`SHA-256`}};case`ES256`:return{name:`ECDSA`,namedCurve:`P-256`,hash:{name:`SHA-256`}};default:throw Error(`Invalid alg claim`)}}var As=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function js(e){if(!As.test(e))throw Error(`@supabase/auth-js: Expected parameter to be UUID but is not`)}function Ms(){return new Proxy({},{get:(e,t)=>{if(t===`__isUserNotAvailableProxy`)return!0;if(typeof t==`symbol`){let e=t.toString();if(e===`Symbol(Symbol.toPrimitive)`||e===`Symbol(Symbol.toStringTag)`||e===`Symbol(util.inspect.custom)`)return}throw Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Ns(e,t){return new Proxy(e,{get:(e,n,r)=>{if(n===`__isInsecureUserWarningProxy`)return!0;if(typeof n==`symbol`){let t=n.toString();if(t===`Symbol(Symbol.toPrimitive)`||t===`Symbol(Symbol.toStringTag)`||t===`Symbol(util.inspect.custom)`||t===`Symbol(nodejs.util.inspect.custom)`)return Reflect.get(e,n,r)}return!t.value&&typeof n==`string`&&(console.warn(`Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server.`),t.value=!0),Reflect.get(e,n,r)}})}function Ps(e){return JSON.parse(JSON.stringify(e))}yi();var Fs=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Is=[502,503,504];async function Ls(e){if(!ps(e))throw new Wo(Fs(e),0);if(Is.includes(e.status))throw new Wo(Fs(e),e.status);let t;try{t=await e.json()}catch(e){throw new Fo(Fs(e),e)}let n,r=Ds(e);if(r&&r.getTime()>=Ao[`2024-01-01`].timestamp&&typeof t==`object`&&t&&typeof t.code==`string`?n=t.code:typeof t==`object`&&t&&typeof t.error_code==`string`&&(n=t.error_code),n){if(n===`weak_password`)throw new Ko(Fs(t),e.status,t.weak_password?.reasons||[]);if(n===`session_not_found`)throw new Lo}else if(typeof t==`object`&&t&&typeof t.weak_password==`object`&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((e,t)=>e&&typeof t==`string`,!0))throw new Ko(Fs(t),e.status,t.weak_password.reasons);throw new No(Fs(t),e.status||500,n)}var Rs=(e,t,n,r)=>{let i={method:e,headers:t?.headers||{}};return e===`GET`?i:(i.headers=Object.assign({"Content-Type":`application/json;charset=UTF-8`},t?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function X(e,t,n,r){let i=Object.assign({},r?.headers);i[`X-Supabase-Api-Version`]||(i[ko]=Ao[`2024-01-01`].name),r?.jwt&&(i.Authorization=`Bearer ${r.jwt}`);let a=r?.query??{};r?.redirectTo&&(a.redirect_to=r.redirectTo);let o=await zs(e,t,n+(Object.keys(a).length?`?`+new URLSearchParams(a).toString():``),{headers:i,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(o):{data:Object.assign({},o),error:null}}async function zs(e,t,n,r,i,a){let o=Rs(t,r,i,a),s;try{s=await e(n,Object.assign({},o))}catch(e){throw console.error(e),new Wo(Fs(e),0)}if(s.ok||await Ls(s),r?.noResolveJson)return s;try{return await s.json()}catch(e){await Ls(e)}}function Bs(e){let t=null;Ks(e)&&(t=Object.assign({},e),e.expires_at||(t.expires_at=os(e.expires_in)));let n=e.user??e;return{data:{session:t,user:n},error:null}}function Vs(e){let t=Bs(e);return!t.error&&e.weak_password&&typeof e.weak_password==`object`&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message==`string`&&e.weak_password.reasons.reduce((e,t)=>e&&typeof t==`string`,!0)&&(t.data.weak_password=e.weak_password),t}function Hs(e){return{data:{user:e.user??e},error:null}}function Us(e){return{data:e,error:null}}function Ws(e){let{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=e,o=Rr(e,[`action_link`,`email_otp`,`hashed_token`,`redirect_to`,`verification_type`]);return{data:{properties:{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},user:Object.assign({},o)},error:null}}function Gs(e){return e}function Ks(e){return e.access_token&&e.refresh_token&&e.expires_in}const qs=[`global`,`local`,`others`];yi();var Js=class{constructor({url:e=``,headers:t={},fetch:n}){this.url=e,this.headers=t,this.fetch=fs(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,t=qs[0]){if(qs.indexOf(t)<0)throw Error(`@supabase/auth-js: Parameter scope must be one of ${qs.join(`, `)}`);try{return await X(this.fetch,`POST`,`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(e){if(Y(e))return{data:null,error:e};throw e}}async inviteUserByEmail(e,t={}){try{return await X(this.fetch,`POST`,`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Hs})}catch(e){if(Y(e))return{data:{user:null},error:e};throw e}}async generateLink(e){try{let{options:t}=e,n=Rr(e,[`options`]),r=Object.assign(Object.assign({},n),t);return`newEmail`in n&&(r.new_email=n?.newEmail,delete r.newEmail),await X(this.fetch,`POST`,`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:Ws,redirectTo:t?.redirectTo})}catch(e){if(Y(e))return{data:{properties:null,user:null},error:e};throw e}}async createUser(e){try{return await X(this.fetch,`POST`,`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Hs})}catch(e){if(Y(e))return{data:{user:null},error:e};throw e}}async listUsers(e){try{let t={nextPage:null,lastPage:0,total:0},n=await X(this.fetch,`GET`,`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(e?.page)?.toString()??``,per_page:(e?.perPage)?.toString()??``},xform:Gs});if(n.error)throw n.error;let r=await n.json(),i=n.headers.get(`x-total-count`)??0,a=n.headers.get(`link`)?.split(`,`)??[];return a.length>0&&(a.forEach(e=>{let n=parseInt(e.split(`;`)[0].split(`=`)[1].substring(0,1)),r=JSON.parse(e.split(`;`)[1].split(`=`)[1]);t[`${r}Page`]=n}),t.total=parseInt(i)),{data:Object.assign(Object.assign({},r),t),error:null}}catch(e){if(Y(e))return{data:{users:[]},error:e};throw e}}async getUserById(e){js(e);try{return await X(this.fetch,`GET`,`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Hs})}catch(e){if(Y(e))return{data:{user:null},error:e};throw e}}async updateUserById(e,t){js(e);try{return await X(this.fetch,`PUT`,`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Hs})}catch(e){if(Y(e))return{data:{user:null},error:e};throw e}}async deleteUser(e,t=!1){js(e);try{return await X(this.fetch,`DELETE`,`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Hs})}catch(e){if(Y(e))return{data:{user:null},error:e};throw e}}async _listFactors(e){js(e.userId);try{let{data:t,error:n}=await X(this.fetch,`GET`,`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:n}}catch(e){if(Y(e))return{data:null,error:e};throw e}}async _deleteFactor(e){js(e.userId),js(e.id);try{return{data:await X(this.fetch,`DELETE`,`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(e){if(Y(e))return{data:null,error:e};throw e}}async _listOAuthClients(e){try{let t={nextPage:null,lastPage:0,total:0},n=await X(this.fetch,`GET`,`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(e?.page)?.toString()??``,per_page:(e?.perPage)?.toString()??``},xform:Gs});if(n.error)throw n.error;let r=await n.json(),i=n.headers.get(`x-total-count`)??0,a=n.headers.get(`link`)?.split(`,`)??[];return a.length>0&&(a.forEach(e=>{let n=parseInt(e.split(`;`)[0].split(`=`)[1].substring(0,1)),r=JSON.parse(e.split(`;`)[1].split(`=`)[1]);t[`${r}Page`]=n}),t.total=parseInt(i)),{data:Object.assign(Object.assign({},r),t),error:null}}catch(e){if(Y(e))return{data:{clients:[]},error:e};throw e}}async _createOAuthClient(e){try{return await X(this.fetch,`POST`,`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(Y(e))return{data:null,error:e};throw e}}async _getOAuthClient(e){try{return await X(this.fetch,`GET`,`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(Y(e))return{data:null,error:e};throw e}}async _updateOAuthClient(e,t){try{return await X(this.fetch,`PUT`,`${this.url}/admin/oauth/clients/${e}`,{body:t,headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(Y(e))return{data:null,error:e};throw e}}async _deleteOAuthClient(e){try{return await X(this.fetch,`DELETE`,`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(e){if(Y(e))return{data:null,error:e};throw e}}async _regenerateOAuthClientSecret(e){try{return await X(this.fetch,`POST`,`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(Y(e))return{data:null,error:e};throw e}}};function Ys(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Xs={debug:!!(globalThis&&us()&&globalThis.localStorage&&globalThis.localStorage.getItem(`supabase.gotrue-js.locks.debug`)===`true`)};var Zs=class extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}},Qs=class extends Zs{};async function $s(e,t,n){Xs.debug&&console.log(`@supabase/gotrue-js: navigatorLock: acquire lock`,e,t);let r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Xs.debug&&console.log(`@supabase/gotrue-js: navigatorLock acquire timed out`,e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:`exclusive`,ifAvailable:!0}:{mode:`exclusive`,signal:r.signal},async r=>{if(r){Xs.debug&&console.log(`@supabase/gotrue-js: navigatorLock: acquired`,e,r.name);try{return await n()}finally{Xs.debug&&console.log(`@supabase/gotrue-js: navigatorLock: released`,e,r.name)}}else if(t===0)throw Xs.debug&&console.log(`@supabase/gotrue-js: navigatorLock: not immediately available`,e),new Qs(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);else{if(Xs.debug)try{let e=await globalThis.navigator.locks.query();console.log(`@supabase/gotrue-js: Navigator LockManager state`,JSON.stringify(e,null,`  `))}catch(e){console.warn(`@supabase/gotrue-js: Error when querying Navigator LockManager state`,e)}return console.warn(`@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request`),await n()}}))}function ec(){if(typeof globalThis!=`object`)try{Object.defineProperty(Object.prototype,`__magic__`,{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<`u`&&(self.globalThis=self)}}function tc(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function nc(e){return parseInt(e,16)}function rc(e){let t=new TextEncoder().encode(e);return`0x`+Array.from(t,e=>e.toString(16).padStart(2,`0`)).join(``)}function ic(e){let{chainId:t,domain:n,expirationTime:r,issuedAt:i=new Date,nonce:a,notBefore:o,requestId:s,resources:c,scheme:l,uri:u,version:d}=e;if(!Number.isInteger(t))throw Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${t}`);if(!n)throw Error(`@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.`);if(a&&a.length<8)throw Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!u)throw Error(`@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.`);if(d!==`1`)throw Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${d}`);if(e.statement?.includes(`
`))throw Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`);let f=tc(e.address),p=`${l?`${l}://${n}`:n} wants you to sign in with your Ethereum account:\n${f}\n\n${e.statement?`${e.statement}\n`:``}`,m=`URI: ${u}\nVersion: ${d}\nChain ID: ${t}${a?`\nNonce: ${a}`:``}\nIssued At: ${i.toISOString()}`;if(r&&(m+=`\nExpiration Time: ${r.toISOString()}`),o&&(m+=`\nNot Before: ${o.toISOString()}`),s&&(m+=`\nRequest ID: ${s}`),c){let e=`
Resources:`;for(let t of c){if(!t||typeof t!=`string`)throw Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${t}`);e+=`\n- ${t}`}m+=e}return`${p}\n${m}`}var ac=class extends Error{constructor({message:e,code:t,cause:n,name:r}){super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=r??(n instanceof Error?n.name:void 0)??`Unknown Error`,this.code=t}},oc=class extends ac{constructor(e,t){super({code:`ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY`,cause:t,message:e}),this.name=`WebAuthnUnknownError`,this.originalError=t}};function sc({error:e,options:t}){let{publicKey:n}=t;if(!n)throw Error(`options was missing required publicKey property`);if(e.name===`AbortError`){if(t.signal instanceof AbortSignal)return new ac({message:`Registration ceremony was sent an abort signal`,code:`ERROR_CEREMONY_ABORTED`,cause:e})}else if(e.name===`ConstraintError`){if(n.authenticatorSelection?.requireResidentKey===!0)return new ac({message:`Discoverable credentials were required but no available authenticator supported it`,code:`ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT`,cause:e});if(t.mediation===`conditional`&&n.authenticatorSelection?.userVerification===`required`)return new ac({message:`User verification was required during automatic registration but it could not be performed`,code:`ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE`,cause:e});if(n.authenticatorSelection?.userVerification===`required`)return new ac({message:`User verification was required but no available authenticator supported it`,code:`ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT`,cause:e})}else if(e.name===`InvalidStateError`)return new ac({message:`The authenticator was previously registered`,code:`ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED`,cause:e});else if(e.name===`NotAllowedError`)return new ac({message:e.message,code:`ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY`,cause:e});else if(e.name===`NotSupportedError`)return n.pubKeyCredParams.filter(e=>e.type===`public-key`).length===0?new ac({message:`No entry in pubKeyCredParams was of type "public-key"`,code:`ERROR_MALFORMED_PUBKEYCREDPARAMS`,cause:e}):new ac({message:`No available authenticator supported any of the specified pubKeyCredParams algorithms`,code:`ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG`,cause:e});else if(e.name===`SecurityError`){let t=window.location.hostname;if(mc(t)){if(n.rp.id!==t)return new ac({message:`The RP ID "${n.rp.id}" is invalid for this domain`,code:`ERROR_INVALID_RP_ID`,cause:e})}else return new ac({message:`${window.location.hostname} is an invalid domain`,code:`ERROR_INVALID_DOMAIN`,cause:e})}else if(e.name===`TypeError`){if(n.user.id.byteLength<1||n.user.id.byteLength>64)return new ac({message:`User ID was not between 1 and 64 characters`,code:`ERROR_INVALID_USER_ID_LENGTH`,cause:e})}else if(e.name===`UnknownError`)return new ac({message:`The authenticator was unable to process the specified options, or could not create a new credential`,code:`ERROR_AUTHENTICATOR_GENERAL_ERROR`,cause:e});return new ac({message:`a Non-Webauthn related error has occurred`,code:`ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY`,cause:e})}function cc({error:e,options:t}){let{publicKey:n}=t;if(!n)throw Error(`options was missing required publicKey property`);if(e.name===`AbortError`){if(t.signal instanceof AbortSignal)return new ac({message:`Authentication ceremony was sent an abort signal`,code:`ERROR_CEREMONY_ABORTED`,cause:e})}else if(e.name===`NotAllowedError`)return new ac({message:e.message,code:`ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY`,cause:e});else if(e.name===`SecurityError`){let t=window.location.hostname;if(mc(t)){if(n.rpId!==t)return new ac({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:`ERROR_INVALID_RP_ID`,cause:e})}else return new ac({message:`${window.location.hostname} is an invalid domain`,code:`ERROR_INVALID_DOMAIN`,cause:e})}else if(e.name===`UnknownError`)return new ac({message:`The authenticator was unable to process the specified options, or could not create a new assertion signature`,code:`ERROR_AUTHENTICATOR_GENERAL_ERROR`,cause:e});return new ac({message:`a Non-Webauthn related error has occurred`,code:`ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY`,cause:e})}yi();const lc=new class{createNewAbortSignal(){if(this.controller){let e=Error(`Cancelling existing WebAuthn API call for new one`);e.name=`AbortError`,this.controller.abort(e)}let e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){let e=Error(`Manually cancelling existing WebAuthn API call`);e.name=`AbortError`,this.controller.abort(e),this.controller=void 0}}};function uc(e){if(!e)throw Error(`Credential creation options are required`);if(typeof PublicKeyCredential<`u`&&`parseCreationOptionsFromJSON`in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON==`function`)return PublicKeyCredential.parseCreationOptionsFromJSON(e);let{challenge:t,user:n,excludeCredentials:r}=e,i=Rr(e,[`challenge`,`user`,`excludeCredentials`]),a=rs(t).buffer,o=Object.assign(Object.assign({},n),{id:rs(n.id).buffer}),s=Object.assign(Object.assign({},i),{challenge:a,user:o});if(r&&r.length>0){s.excludeCredentials=Array(r.length);for(let e=0;e<r.length;e++){let t=r[e];s.excludeCredentials[e]=Object.assign(Object.assign({},t),{id:rs(t.id).buffer,type:t.type||`public-key`,transports:t.transports})}}return s}function dc(e){if(!e)throw Error(`Credential request options are required`);if(typeof PublicKeyCredential<`u`&&`parseRequestOptionsFromJSON`in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON==`function`)return PublicKeyCredential.parseRequestOptionsFromJSON(e);let{challenge:t,allowCredentials:n}=e,r=Rr(e,[`challenge`,`allowCredentials`]),i=rs(t).buffer,a=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){a.allowCredentials=Array(n.length);for(let e=0;e<n.length;e++){let t=n[e];a.allowCredentials[e]=Object.assign(Object.assign({},t),{id:rs(t.id).buffer,type:t.type||`public-key`,transports:t.transports})}}return a}function fc(e){if(`toJSON`in e&&typeof e.toJSON==`function`)return e.toJSON();let t=e;return{id:e.id,rawId:e.id,response:{attestationObject:as(new Uint8Array(e.response.attestationObject)),clientDataJSON:as(new Uint8Array(e.response.clientDataJSON))},type:`public-key`,clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:t.authenticatorAttachment??void 0}}function pc(e){if(`toJSON`in e&&typeof e.toJSON==`function`)return e.toJSON();let t=e,n=e.getClientExtensionResults(),r=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:as(new Uint8Array(r.authenticatorData)),clientDataJSON:as(new Uint8Array(r.clientDataJSON)),signature:as(new Uint8Array(r.signature)),userHandle:r.userHandle?as(new Uint8Array(r.userHandle)):void 0},type:`public-key`,clientExtensionResults:n,authenticatorAttachment:t.authenticatorAttachment??void 0}}function mc(e){return e===`localhost`||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function hc(){return!!(cs()&&`PublicKeyCredential`in window&&window.PublicKeyCredential&&`credentials`in navigator&&typeof(navigator==null?void 0:navigator.credentials)?.create==`function`&&typeof(navigator==null?void 0:navigator.credentials)?.get==`function`)}async function gc(e){try{let t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new oc(`Browser returned unexpected credential type`,t)}:{data:null,error:new oc(`Empty credential response`,t)}}catch(t){return{data:null,error:sc({error:t,options:e})}}}async function _c(e){try{let t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new oc(`Browser returned unexpected credential type`,t)}:{data:null,error:new oc(`Empty credential response`,t)}}catch(t){return{data:null,error:cc({error:t,options:e})}}}const vc={hints:[`security-key`],authenticatorSelection:{authenticatorAttachment:`cross-platform`,requireResidentKey:!1,userVerification:`preferred`,residentKey:`discouraged`},attestation:`direct`},yc={userVerification:`preferred`,hints:[`security-key`],attestation:`direct`};function bc(...e){let t=e=>typeof e==`object`&&!!e&&!Array.isArray(e),n=e=>e instanceof ArrayBuffer||ArrayBuffer.isView(e),r={};for(let i of e)if(i)for(let e in i){let a=i[e];if(a!==void 0)if(Array.isArray(a))r[e]=a;else if(n(a))r[e]=a;else if(t(a)){let n=r[e];t(n)?r[e]=bc(n,a):r[e]=bc(a)}else r[e]=a}return r}function xc(e,t){return bc(vc,e,t||{})}function Sc(e,t){return bc(yc,e,t||{})}var Cc=class{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:`webauthn`}))}async _challenge({factorId:e,webauthn:t,friendlyName:n,signal:r},i){try{let{data:a,error:o}=await this.client.mfa.challenge({factorId:e,webauthn:t});if(!a)return{data:null,error:o};let s=r??lc.createNewAbortSignal();if(a.webauthn.type===`create`){let{user:e}=a.webauthn.credential_options.publicKey;e.name||=`${e.id}:${n}`,e.displayName||=e.name}switch(a.webauthn.type){case`create`:{let{data:t,error:n}=await gc({publicKey:xc(a.webauthn.credential_options.publicKey,i?.create),signal:s});return t?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:t}},error:null}:{data:null,error:n}}case`request`:{let t=Sc(a.webauthn.credential_options.publicKey,i?.request),{data:n,error:r}=await _c(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:t,signal:s}));return n?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:n}},error:null}:{data:null,error:r}}}}catch(e){return Y(e)?{data:null,error:e}:{data:null,error:new Fo(`Unexpected error in challenge`,e)}}}async _verify({challengeId:e,factorId:t,webauthn:n}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:t=typeof window<`u`?window.location.hostname:void 0,rpOrigins:n=typeof window<`u`?[window.location.origin]:void 0,signal:r}={}},i){if(!t)return{data:null,error:new Mo(`rpId is required for WebAuthn authentication`)};try{if(!hc())return{data:null,error:new Fo(`Browser does not support WebAuthn`,null)};let{data:a,error:o}=await this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:n},signal:r},{request:i});if(!a)return{data:null,error:o};let{webauthn:s}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:s.type,rpId:t,rpOrigins:n,credential_response:s.credential_response}})}catch(e){return Y(e)?{data:null,error:e}:{data:null,error:new Fo(`Unexpected error in authenticate`,e)}}}async _register({friendlyName:e,webauthn:{rpId:t=typeof window<`u`?window.location.hostname:void 0,rpOrigins:n=typeof window<`u`?[window.location.origin]:void 0,signal:r}={}},i){if(!t)return{data:null,error:new Mo(`rpId is required for WebAuthn registration`)};try{if(!hc())return{data:null,error:new Fo(`Browser does not support WebAuthn`,null)};let{data:a,error:o}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(t=>t.data?.all.find(t=>t.factor_type===`webauthn`&&t.friendly_name===e&&t.status!==`unverified`)).then(e=>e?this.client.mfa.unenroll({factorId:e?.id}):void 0),{data:null,error:o};let{data:s,error:c}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:t,rpOrigins:n},signal:r},{create:i});return s?this._verify({factorId:a.id,challengeId:s.challengeId,webauthn:{rpId:t,rpOrigins:n,type:s.webauthn.type,credential_response:s.webauthn.credential_response}}):{data:null,error:c}}catch(e){return Y(e)?{data:null,error:e}:{data:null,error:new Fo(`Unexpected error in register`,e)}}}};ec();var wc={url:`http://localhost:9999`,storageKey:`supabase.auth.token`,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Oo,flowType:`implicit`,debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Tc(e,t,n){return await n()}var Ec={},Dc=class e{get jwks(){return Ec[this.storageKey]?.jwks??{keys:[]}}set jwks(e){Ec[this.storageKey]=Object.assign(Object.assign({},Ec[this.storageKey]),{jwks:e})}get jwks_cached_at(){return Ec[this.storageKey]?.cachedAt??-(2**53-1)}set jwks_cached_at(e){Ec[this.storageKey]=Object.assign(Object.assign({},Ec[this.storageKey]),{cachedAt:e})}constructor(t){var n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;let r=Object.assign(Object.assign({},wc),t);if(this.storageKey=r.storageKey,this.instanceID=e.nextInstanceID[this.storageKey]??0,e.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!r.debug,typeof r.debug==`function`&&(this.logger=r.debug),this.instanceID>0&&cs()){let e=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(e),this.logDebugMessages&&console.trace(e)}if(this.persistSession=r.persistSession,this.autoRefreshToken=r.autoRefreshToken,this.admin=new Js({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=fs(r.fetch),this.lock=r.lock||Tc,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,this.throwOnError=r.throwOnError,r.lock?this.lock=r.lock:cs()&&(globalThis==null?void 0:globalThis.navigator)?.locks?this.lock=$s:this.lock=Tc,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=-(2**53-1)),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Cc(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(r.storage?this.storage=r.storage:us()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ys(this.memoryStorage)),r.userStorage&&(this.userStorage=r.userStorage)):(this.memoryStorage={},this.storage=Ys(this.memoryStorage)),cs()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(e){console.error(`Failed to create a new BroadcastChannel, multi-tab state changes will not be available`,e)}(n=this.broadcastChannel)==null||n.addEventListener(`message`,async e=>{this._debug(`received broadcast notification from other tab or client`,e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${To}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise||=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise}async _initialize(){try{let e={},t=`none`;if(cs()&&(e=ds(window.location.href),this._isImplicitGrantCallback(e)?t=`implicit`:await this._isPKCECallback(e)&&(t=`pkce`)),cs()&&this.detectSessionInUrl&&t!==`none`){let{data:n,error:r}=await this._getSessionFromURL(e,t);if(r){if(this._debug(`#_initialize()`,`error detecting session from URL`,r),Ho(r)){let e=r.details?.code;if(e===`identity_already_exists`||e===`identity_not_found`||e===`single_identity_not_deletable`)return{error:r}}return await this._removeSession(),{error:r}}let{session:i,redirectType:a}=n;return this._debug(`#_initialize()`,`detected session in URL`,i,`redirect type`,a),await this._saveSession(i),setTimeout(async()=>{a===`recovery`?await this._notifyAllSubscribers(`PASSWORD_RECOVERY`,i):await this._notifyAllSubscribers(`SIGNED_IN`,i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){return Y(e)?this._returnResult({error:e}):this._returnResult({error:new Fo(`Unexpected error during initialization`,e)})}finally{await this._handleVisibilityChange(),this._debug(`#_initialize()`,`end`)}}async signInAnonymously(e){try{let{data:t,error:n}=await X(this.fetch,`POST`,`${this.url}/signup`,{headers:this.headers,body:{data:e?.options?.data??{},gotrue_meta_security:{captcha_token:e?.options?.captchaToken}},xform:Bs});if(n||!t)return this._returnResult({data:{user:null,session:null},error:n});let r=t.session,i=t.user;return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers(`SIGNED_IN`,r)),this._returnResult({data:{user:i,session:r},error:null})}catch(e){if(Y(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async signUp(e){try{let t;if(`email`in e){let{email:n,password:r,options:i}=e,a=null,o=null;this.flowType===`pkce`&&([a,o]=await Ts(this.storage,this.storageKey)),t=await X(this.fetch,`POST`,`${this.url}/signup`,{headers:this.headers,redirectTo:i?.emailRedirectTo,body:{email:n,password:r,data:i?.data??{},gotrue_meta_security:{captcha_token:i?.captchaToken},code_challenge:a,code_challenge_method:o},xform:Bs})}else if(`phone`in e){let{phone:n,password:r,options:i}=e;t=await X(this.fetch,`POST`,`${this.url}/signup`,{headers:this.headers,body:{phone:n,password:r,data:i?.data??{},channel:i?.channel??`sms`,gotrue_meta_security:{captcha_token:i?.captchaToken}},xform:Bs})}else throw new Bo(`You must provide either an email or phone number and a password`);let{data:n,error:r}=t;if(r||!n)return this._returnResult({data:{user:null,session:null},error:r});let i=n.session,a=n.user;return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers(`SIGNED_IN`,i)),this._returnResult({data:{user:a,session:i},error:null})}catch(e){if(Y(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async signInWithPassword(e){try{let t;if(`email`in e){let{email:n,password:r,options:i}=e;t=await X(this.fetch,`POST`,`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:n,password:r,gotrue_meta_security:{captcha_token:i?.captchaToken}},xform:Vs})}else if(`phone`in e){let{phone:n,password:r,options:i}=e;t=await X(this.fetch,`POST`,`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:n,password:r,gotrue_meta_security:{captcha_token:i?.captchaToken}},xform:Vs})}else throw new Bo(`You must provide either an email or phone number and a password`);let{data:n,error:r}=t;if(r)return this._returnResult({data:{user:null,session:null},error:r});if(!n||!n.session||!n.user){let e=new zo;return this._returnResult({data:{user:null,session:null},error:e})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers(`SIGNED_IN`,n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:r})}catch(e){if(Y(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async signInWithOAuth(e){return await this._handleProviderSignIn(e.provider,{redirectTo:e.options?.redirectTo,scopes:e.options?.scopes,queryParams:e.options?.queryParams,skipBrowserRedirect:e.options?.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){let{chain:t}=e;switch(t){case`ethereum`:return await this.signInWithEthereum(e);case`solana`:return await this.signInWithSolana(e);default:throw Error(`@supabase/auth-js: Unsupported chain "${t}"`)}}async signInWithEthereum(e){let t,n;if(`message`in e)t=e.message,n=e.signature;else{let{chain:r,wallet:i,statement:a,options:o}=e,s;if(cs())if(typeof i==`object`)s=i;else{let e=window;if(`ethereum`in e&&typeof e.ethereum==`object`&&`request`in e.ethereum&&typeof e.ethereum.request==`function`)s=e.ethereum;else throw Error(`@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.`)}else{if(typeof i!=`object`||!o?.url)throw Error(`@supabase/auth-js: Both wallet and url must be specified in non-browser environments.`);s=i}let c=new URL(o?.url??window.location.href),l=await s.request({method:`eth_requestAccounts`}).then(e=>e).catch(()=>{throw Error(`@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid`)});if(!l||l.length===0)throw Error(`@supabase/auth-js: No accounts available. Please ensure the wallet is connected.`);let u=tc(l[0]),d=o?.signInWithEthereum?.chainId;d||=nc(await s.request({method:`eth_chainId`})),t=ic({domain:c.host,address:u,statement:a,uri:c.href,version:`1`,chainId:d,nonce:o?.signInWithEthereum?.nonce,issuedAt:o?.signInWithEthereum?.issuedAt??new Date,expirationTime:o?.signInWithEthereum?.expirationTime,notBefore:o?.signInWithEthereum?.notBefore,requestId:o?.signInWithEthereum?.requestId,resources:o?.signInWithEthereum?.resources}),n=await s.request({method:`personal_sign`,params:[rc(t),u]})}try{let{data:r,error:i}=await X(this.fetch,`POST`,`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:`ethereum`,message:t,signature:n},e.options?.captchaToken?{gotrue_meta_security:{captcha_token:e.options?.captchaToken}}:null),xform:Bs});if(i)throw i;if(!r||!r.session||!r.user){let e=new zo;return this._returnResult({data:{user:null,session:null},error:e})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers(`SIGNED_IN`,r.session)),this._returnResult({data:Object.assign({},r),error:i})}catch(e){if(Y(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async signInWithSolana(e){let t,n;if(`message`in e)t=e.message,n=e.signature;else{let{chain:r,wallet:i,statement:a,options:o}=e,s;if(cs())if(typeof i==`object`)s=i;else{let e=window;if(`solana`in e&&typeof e.solana==`object`&&(`signIn`in e.solana&&typeof e.solana.signIn==`function`||`signMessage`in e.solana&&typeof e.solana.signMessage==`function`))s=e.solana;else throw Error(`@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.`)}else{if(typeof i!=`object`||!o?.url)throw Error(`@supabase/auth-js: Both wallet and url must be specified in non-browser environments.`);s=i}let c=new URL(o?.url??window.location.href);if(`signIn`in s&&s.signIn){let e=await s.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},o?.signInWithSolana),{version:`1`,domain:c.host,uri:c.href}),a?{statement:a}:null)),r;if(Array.isArray(e)&&e[0]&&typeof e[0]==`object`)r=e[0];else if(e&&typeof e==`object`&&`signedMessage`in e&&`signature`in e)r=e;else throw Error(`@supabase/auth-js: Wallet method signIn() returned unrecognized value`);if(`signedMessage`in r&&`signature`in r&&(typeof r.signedMessage==`string`||r.signedMessage instanceof Uint8Array)&&r.signature instanceof Uint8Array)t=typeof r.signedMessage==`string`?r.signedMessage:new TextDecoder().decode(r.signedMessage),n=r.signature;else throw Error(`@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields`)}else{if(!(`signMessage`in s)||typeof s.signMessage!=`function`||!(`publicKey`in s)||typeof s!=`object`||!s.publicKey||!(`toBase58`in s.publicKey)||typeof s.publicKey.toBase58!=`function`)throw Error(`@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API`);t=[`${c.host} wants you to sign in with your Solana account:`,s.publicKey.toBase58(),...a?[``,a,``]:[``],`Version: 1`,`URI: ${c.href}`,`Issued At: ${o?.signInWithSolana?.issuedAt??new Date().toISOString()}`,...o?.signInWithSolana?.notBefore?[`Not Before: ${o.signInWithSolana.notBefore}`]:[],...o?.signInWithSolana?.expirationTime?[`Expiration Time: ${o.signInWithSolana.expirationTime}`]:[],...o?.signInWithSolana?.chainId?[`Chain ID: ${o.signInWithSolana.chainId}`]:[],...o?.signInWithSolana?.nonce?[`Nonce: ${o.signInWithSolana.nonce}`]:[],...o?.signInWithSolana?.requestId?[`Request ID: ${o.signInWithSolana.requestId}`]:[],...o?.signInWithSolana?.resources?.length?[`Resources`,...o.signInWithSolana.resources.map(e=>`- ${e}`)]:[]].join(`
`);let e=await s.signMessage(new TextEncoder().encode(t),`utf8`);if(!e||!(e instanceof Uint8Array))throw Error(`@supabase/auth-js: Wallet signMessage() API returned an recognized value`);n=e}}try{let{data:r,error:i}=await X(this.fetch,`POST`,`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:`solana`,message:t,signature:as(n)},e.options?.captchaToken?{gotrue_meta_security:{captcha_token:e.options?.captchaToken}}:null),xform:Bs});if(i)throw i;if(!r||!r.session||!r.user){let e=new zo;return this._returnResult({data:{user:null,session:null},error:e})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers(`SIGNED_IN`,r.session)),this._returnResult({data:Object.assign({},r),error:i})}catch(e){if(Y(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async _exchangeCodeForSession(e){let[t,n]=(await hs(this.storage,`${this.storageKey}-code-verifier`)??``).split(`/`);try{let{data:r,error:i}=await X(this.fetch,`POST`,`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:t},xform:Bs});if(await gs(this.storage,`${this.storageKey}-code-verifier`),i)throw i;if(!r||!r.session||!r.user){let e=new zo;return this._returnResult({data:{user:null,session:null,redirectType:null},error:e})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers(`SIGNED_IN`,r.session)),this._returnResult({data:Object.assign(Object.assign({},r),{redirectType:n??null}),error:i})}catch(e){if(Y(e))return this._returnResult({data:{user:null,session:null,redirectType:null},error:e});throw e}}async signInWithIdToken(e){try{let{options:t,provider:n,token:r,access_token:i,nonce:a}=e,{data:o,error:s}=await X(this.fetch,`POST`,`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:r,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:t?.captchaToken}},xform:Bs});if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!o||!o.session||!o.user){let e=new zo;return this._returnResult({data:{user:null,session:null},error:e})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers(`SIGNED_IN`,o.session)),this._returnResult({data:o,error:s})}catch(e){if(Y(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async signInWithOtp(e){try{if(`email`in e){let{email:t,options:n}=e,r=null,i=null;this.flowType===`pkce`&&([r,i]=await Ts(this.storage,this.storageKey));let{error:a}=await X(this.fetch,`POST`,`${this.url}/otp`,{headers:this.headers,body:{email:t,data:n?.data??{},create_user:n?.shouldCreateUser??!0,gotrue_meta_security:{captcha_token:n?.captchaToken},code_challenge:r,code_challenge_method:i},redirectTo:n?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}if(`phone`in e){let{phone:t,options:n}=e,{data:r,error:i}=await X(this.fetch,`POST`,`${this.url}/otp`,{headers:this.headers,body:{phone:t,data:n?.data??{},create_user:n?.shouldCreateUser??!0,gotrue_meta_security:{captcha_token:n?.captchaToken},channel:n?.channel??`sms`}});return this._returnResult({data:{user:null,session:null,messageId:r?.message_id},error:i})}throw new Bo(`You must provide either an email or phone number.`)}catch(e){if(Y(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async verifyOtp(e){try{let t,n;`options`in e&&(t=e.options?.redirectTo,n=e.options?.captchaToken);let{data:r,error:i}=await X(this.fetch,`POST`,`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:n}}),redirectTo:t,xform:Bs});if(i)throw i;if(!r)throw Error(`An error occurred on token verification.`);let a=r.session,o=r.user;return a?.access_token&&(await this._saveSession(a),await this._notifyAllSubscribers(e.type==`recovery`?`PASSWORD_RECOVERY`:`SIGNED_IN`,a)),this._returnResult({data:{user:o,session:a},error:null})}catch(e){if(Y(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async signInWithSSO(e){try{let t=null,n=null;this.flowType===`pkce`&&([t,n]=await Ts(this.storage,this.storageKey));let r=await X(this.fetch,`POST`,`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},`providerId`in e?{provider_id:e.providerId}:null),`domain`in e?{domain:e.domain}:null),{redirect_to:e.options?.redirectTo??void 0}),e?.options?.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:t,code_challenge_method:n}),headers:this.headers,xform:Us});return r.data?.url&&cs()&&!e.options?.skipBrowserRedirect&&window.location.assign(r.data.url),this._returnResult(r)}catch(e){if(Y(e))return this._returnResult({data:null,error:e});throw e}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{let{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new Lo;let{error:r}=await X(this.fetch,`GET`,`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return this._returnResult({data:{user:null,session:null},error:r})})}catch(e){if(Y(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{let t=`${this.url}/resend`;if(`email`in e){let{email:n,type:r,options:i}=e,{error:a}=await X(this.fetch,`POST`,t,{headers:this.headers,body:{email:n,type:r,gotrue_meta_security:{captcha_token:i?.captchaToken}},redirectTo:i?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if(`phone`in e){let{phone:n,type:r,options:i}=e,{data:a,error:o}=await X(this.fetch,`POST`,t,{headers:this.headers,body:{phone:n,type:r,gotrue_meta_security:{captcha_token:i?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a?.message_id},error:o})}throw new Bo(`You must provide either an email or phone number and a type`)}catch(e){if(Y(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(e,t){this._debug(`#_acquireLock`,`begin`,e);try{if(this.lockAcquired){let e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug(`#_acquireLock`,`lock acquired for storage key`,this.storageKey);try{this.lockAcquired=!0;let e=t();for(this.pendingInLock.push((async()=>{try{await e}catch{}})()),await e;this.pendingInLock.length;){let e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug(`#_acquireLock`,`lock released for storage key`,this.storageKey),this.lockAcquired=!1}})}finally{this._debug(`#_acquireLock`,`end`)}}async _useSession(e){this._debug(`#_useSession`,`begin`);try{return await e(await this.__loadSession())}finally{this._debug(`#_useSession`,`end`)}}async __loadSession(){this._debug(`#__loadSession()`,`begin`),this.lockAcquired||this._debug(`#__loadSession()`,`used outside of an acquired lock!`,Error().stack);try{let e=null,t=await hs(this.storage,this.storageKey);if(this._debug(`#getSession()`,`session from storage`,t),t!==null&&(this._isValidSession(t)?e=t:(this._debug(`#getSession()`,`session from storage is not valid`),await this._removeSession())),!e)return{data:{session:null},error:null};let n=e.expires_at?e.expires_at*1e3-Date.now()<Do:!1;if(this._debug(`#__loadSession()`,`session has${n?``:` not`} expired`,`expires_at`,e.expires_at),!n){if(this.userStorage){let t=await hs(this.userStorage,this.storageKey+`-user`);t?.user?e.user=t.user:e.user=Ms()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){let t={value:this.suppressGetSessionWarning};e.user=Ns(e.user,t),t.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}let{data:r,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:r},error:null})}finally{this._debug(`#__loadSession()`,`end`)}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await X(this.fetch,`GET`,`${this.url}/user`,{headers:this.headers,jwt:e,xform:Hs}):await this._useSession(async e=>{let{data:t,error:n}=e;if(n)throw n;return!t.session?.access_token&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Lo}:await X(this.fetch,`GET`,`${this.url}/user`,{headers:this.headers,jwt:t.session?.access_token??void 0,xform:Hs})})}catch(e){if(Y(e))return Ro(e)&&(await this._removeSession(),await gs(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:e});throw e}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async n=>{let{data:r,error:i}=n;if(i)throw i;if(!r.session)throw new Lo;let a=r.session,o=null,s=null;this.flowType===`pkce`&&e.email!=null&&([o,s]=await Ts(this.storage,this.storageKey));let{data:c,error:l}=await X(this.fetch,`PUT`,`${this.url}/user`,{headers:this.headers,redirectTo:t?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:s}),jwt:a.access_token,xform:Hs});if(l)throw l;return a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers(`USER_UPDATED`,a),this._returnResult({data:{user:a.user},error:null})})}catch(e){if(Y(e))return this._returnResult({data:{user:null},error:e});throw e}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Lo;let t=Date.now()/1e3,n=t,r=!0,i=null,{payload:a}=vs(e.access_token);if(a.exp&&(n=a.exp,r=n<=t),r){let{data:t,error:n}=await this._callRefreshToken(e.refresh_token);if(n)return this._returnResult({data:{user:null,session:null},error:n});if(!t)return{data:{user:null,session:null},error:null};i=t}else{let{data:r,error:a}=await this._getUser(e.access_token);if(a)throw a;i={access_token:e.access_token,refresh_token:e.refresh_token,user:r.user,token_type:`bearer`,expires_in:n-t,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers(`SIGNED_IN`,i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(e){if(Y(e))return this._returnResult({data:{session:null,user:null},error:e});throw e}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{if(!e){let{data:n,error:r}=t;if(r)throw r;e=n.session??void 0}if(!e?.refresh_token)throw new Lo;let{data:n,error:r}=await this._callRefreshToken(e.refresh_token);return r?this._returnResult({data:{user:null,session:null},error:r}):n?this._returnResult({data:{user:n.user,session:n},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(e){if(Y(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async _getSessionFromURL(e,t){try{if(!cs())throw new Vo(`No browser detected.`);if(e.error||e.error_description||e.error_code)throw new Vo(e.error_description||`Error in URL with unspecified error_description`,{error:e.error||`unspecified_error`,code:e.error_code||`unspecified_code`});switch(t){case`implicit`:if(this.flowType===`pkce`)throw new Uo(`Not a valid PKCE flow url.`);break;case`pkce`:if(this.flowType===`implicit`)throw new Vo(`Not a valid implicit grant flow url.`);break;default:}if(t===`pkce`){if(this._debug(`#_initialize()`,`begin`,`is PKCE flow`,!0),!e.code)throw new Uo(`No code detected.`);let{data:t,error:n}=await this._exchangeCodeForSession(e.code);if(n)throw n;let r=new URL(window.location.href);return r.searchParams.delete(`code`),window.history.replaceState(window.history.state,``,r.toString()),{data:{session:t.session,redirectType:null},error:null}}let{provider_token:n,provider_refresh_token:r,access_token:i,refresh_token:a,expires_in:o,expires_at:s,token_type:c}=e;if(!i||!o||!a||!c)throw new Vo(`No session defined in URL`);let l=Math.round(Date.now()/1e3),u=parseInt(o),d=l+u;s&&(d=parseInt(s));let f=d-l;f*1e3<=3e4&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${u}s`);let p=d-u;l-p>=120?console.warn(`@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale`,p,d,l):l-p<0&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew`,p,d,l);let{data:m,error:h}=await this._getUser(i);if(h)throw h;let g={provider_token:n,provider_refresh_token:r,access_token:i,expires_in:u,expires_at:d,refresh_token:a,token_type:c,user:m.user};return window.location.hash=``,this._debug(`#_getSessionFromURL()`,`clearing window.location.hash`),this._returnResult({data:{session:g,redirectType:e.type},error:null})}catch(e){if(Y(e))return this._returnResult({data:{session:null,redirectType:null},error:e});throw e}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){let t=await hs(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:`global`}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:`global`}){return await this._useSession(async t=>{let{data:n,error:r}=t;if(r)return this._returnResult({error:r});let i=n.session?.access_token;if(i){let{error:t}=await this.admin.signOut(i,e);if(t&&!(Po(t)&&(t.status===404||t.status===401||t.status===403)))return this._returnResult({error:t})}return e!==`others`&&(await this._removeSession(),await gs(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){let t=ss(),n={id:t,callback:e,unsubscribe:()=>{this._debug(`#unsubscribe()`,`state change callback with id removed`,t),this.stateChangeEmitters.delete(t)}};return this._debug(`#onAuthStateChange()`,`registered callback with id`,t),this.stateChangeEmitters.set(t,n),(async()=>{await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})})(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async t=>{try{let{data:{session:n},error:r}=t;if(r)throw r;await this.stateChangeEmitters.get(e)?.callback(`INITIAL_SESSION`,n),this._debug(`INITIAL_SESSION`,`callback id`,e,`session`,n)}catch(t){await this.stateChangeEmitters.get(e)?.callback(`INITIAL_SESSION`,null),this._debug(`INITIAL_SESSION`,`callback id`,e,`error`,t),console.error(t)}})}async resetPasswordForEmail(e,t={}){let n=null,r=null;this.flowType===`pkce`&&([n,r]=await Ts(this.storage,this.storageKey,!0));try{return await X(this.fetch,`POST`,`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:r,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(e){if(Y(e))return this._returnResult({data:null,error:e});throw e}}async getUserIdentities(){try{let{data:e,error:t}=await this.getUser();if(t)throw t;return this._returnResult({data:{identities:e.user.identities??[]},error:null})}catch(e){if(Y(e))return this._returnResult({data:null,error:e});throw e}}async linkIdentity(e){return`token`in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){try{let{data:t,error:n}=await this._useSession(async t=>{let{data:n,error:r}=t;if(r)throw r;let i=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:e.options?.redirectTo,scopes:e.options?.scopes,queryParams:e.options?.queryParams,skipBrowserRedirect:!0});return await X(this.fetch,`GET`,i,{headers:this.headers,jwt:n.session?.access_token??void 0})});if(n)throw n;return cs()&&!e.options?.skipBrowserRedirect&&window.location.assign(t?.url),this._returnResult({data:{provider:e.provider,url:t?.url},error:null})}catch(t){if(Y(t))return this._returnResult({data:{provider:e.provider,url:null},error:t});throw t}}async linkIdentityIdToken(e){return await this._useSession(async t=>{try{let{error:n,data:{session:r}}=t;if(n)throw n;let{options:i,provider:a,token:o,access_token:s,nonce:c}=e,{data:l,error:u}=await X(this.fetch,`POST`,`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:r?.access_token??void 0,body:{provider:a,id_token:o,access_token:s,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:i?.captchaToken}},xform:Bs});return u?this._returnResult({data:{user:null,session:null},error:u}):!l||!l.session||!l.user?this._returnResult({data:{user:null,session:null},error:new zo}):(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers(`USER_UPDATED`,l.session)),this._returnResult({data:l,error:u}))}catch(e){if(Y(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{let{data:n,error:r}=t;if(r)throw r;return await X(this.fetch,`DELETE`,`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:n.session?.access_token??void 0})})}catch(e){if(Y(e))return this._returnResult({data:null,error:e});throw e}}async _refreshAccessToken(e){let t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,`begin`);try{let n=Date.now();return await bs(async n=>(n>0&&await ys(200*2**(n-1)),this._debug(t,`refreshing attempt`,n),await X(this.fetch,`POST`,`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Bs})),(e,t)=>{let r=200*2**e;return t&&Go(t)&&Date.now()+r-n<3e4})}catch(e){if(this._debug(t,`error`,e),Y(e))return this._returnResult({data:{session:null,user:null},error:e});throw e}finally{this._debug(t,`end`)}}_isValidSession(e){return typeof e==`object`&&!!e&&`access_token`in e&&`refresh_token`in e&&`expires_at`in e}async _handleProviderSignIn(e,t){let n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug(`#_handleProviderSignIn()`,`provider`,e,`options`,t,`url`,n),cs()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){let e=`#_recoverAndRefresh()`;this._debug(e,`begin`);try{let t=await hs(this.storage,this.storageKey);if(t&&this.userStorage){let e=await hs(this.userStorage,this.storageKey+`-user`);!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!e&&(e={user:t.user},await ms(this.userStorage,this.storageKey+`-user`,e)),t.user=e?.user??Ms()}else if(t&&!t.user&&!t.user){let e=await hs(this.storage,this.storageKey+`-user`);e&&e?.user?(t.user=e.user,await gs(this.storage,this.storageKey+`-user`),await ms(this.storage,this.storageKey,t)):t.user=Ms()}if(this._debug(e,`session from storage`,t),!this._isValidSession(t)){this._debug(e,`session is not valid`),t!==null&&await this._removeSession();return}let n=(t.expires_at??1/0)*1e3-Date.now()<Do;if(this._debug(e,`session has${n?``:` not`} expired with margin of ${Do}s`),n){if(this.autoRefreshToken&&t.refresh_token){let{error:n}=await this._callRefreshToken(t.refresh_token);n&&(console.error(n),Go(n)||(this._debug(e,`refresh failed with a non-retryable error, removing the session`,n),await this._removeSession()))}}else if(t.user&&t.user.__isUserNotAvailableProxy===!0)try{let{data:n,error:r}=await this._getUser(t.access_token);!r&&n?.user?(t.user=n.user,await this._saveSession(t),await this._notifyAllSubscribers(`SIGNED_IN`,t)):this._debug(e,`could not get user data, skipping SIGNED_IN notification`)}catch(t){console.error(`Error getting user data:`,t),this._debug(e,`error getting user data, skipping SIGNED_IN notification`,t)}else await this._notifyAllSubscribers(`SIGNED_IN`,t)}catch(t){this._debug(e,`error`,t),console.error(t);return}finally{this._debug(e,`end`)}}async _callRefreshToken(e){var t,n;if(!e)throw new Lo;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,`begin`);try{this.refreshingDeferred=new _s;let{data:t,error:n}=await this._refreshAccessToken(e);if(n)throw n;if(!t.session)throw new Lo;await this._saveSession(t.session),await this._notifyAllSubscribers(`TOKEN_REFRESHED`,t.session);let r={data:t.session,error:null};return this.refreshingDeferred.resolve(r),r}catch(e){if(this._debug(r,`error`,e),Y(e)){let n={data:null,error:e};return Go(e)||await this._removeSession(),(t=this.refreshingDeferred)==null||t.resolve(n),n}throw(n=this.refreshingDeferred)==null||n.reject(e),e}finally{this.refreshingDeferred=null,this._debug(r,`end`)}}async _notifyAllSubscribers(e,t,n=!0){let r=`#_notifyAllSubscribers(${e})`;this._debug(r,`begin`,t,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});let r=[],i=Array.from(this.stateChangeEmitters.values()).map(async n=>{try{await n.callback(e,t)}catch(e){r.push(e)}});if(await Promise.all(i),r.length>0){for(let e=0;e<r.length;e+=1)console.error(r[e]);throw r[0]}}finally{this._debug(r,`end`)}}async _saveSession(e){this._debug(`#_saveSession()`,e),this.suppressGetSessionWarning=!0;let t=Object.assign({},e),n=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&t.user&&await ms(this.userStorage,this.storageKey+`-user`,{user:t.user});let e=Object.assign({},t);delete e.user;let r=Ps(e);await ms(this.storage,this.storageKey,r)}else{let e=Ps(t);await ms(this.storage,this.storageKey,e)}}async _removeSession(){this._debug(`#_removeSession()`),await gs(this.storage,this.storageKey),await gs(this.storage,this.storageKey+`-code-verifier`),await gs(this.storage,this.storageKey+`-user`),this.userStorage&&await gs(this.userStorage,this.storageKey+`-user`),await this._notifyAllSubscribers(`SIGNED_OUT`,null)}_removeVisibilityChangedCallback(){this._debug(`#_removeVisibilityChangedCallback()`);let e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&cs()&&window!=null&&window.removeEventListener&&window.removeEventListener(`visibilitychange`,e)}catch(e){console.error(`removing visibilitychange callback failed`,e)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug(`#_startAutoRefresh()`);let e=setInterval(()=>this._autoRefreshTokenTick(),Eo);this.autoRefreshTicker=e,e&&typeof e==`object`&&typeof e.unref==`function`?e.unref():typeof Deno<`u`&&typeof Deno.unrefTimer==`function`&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug(`#_stopAutoRefresh()`);let e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug(`#_autoRefreshTokenTick()`,`begin`);try{await this._acquireLock(0,async()=>{try{let e=Date.now();try{return await this._useSession(async t=>{let{data:{session:n}}=t;if(!n||!n.refresh_token||!n.expires_at){this._debug(`#_autoRefreshTokenTick()`,`no session`);return}let r=Math.floor((n.expires_at*1e3-e)/Eo);this._debug(`#_autoRefreshTokenTick()`,`access token expires in ${r} ticks, a tick lasts ${Eo}ms, refresh threshold is 3 ticks`),r<=3&&await this._callRefreshToken(n.refresh_token)})}catch(e){console.error(`Auto refresh tick failed with error. This is likely a transient error.`,e)}}finally{this._debug(`#_autoRefreshTokenTick()`,`end`)}})}catch(e){if(e.isAcquireTimeout||e instanceof Zs)this._debug(`auto refresh token tick lock not available`);else throw e}}async _handleVisibilityChange(){if(this._debug(`#_handleVisibilityChange()`),!cs()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener(`visibilitychange`,this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error(`_handleVisibilityChange`,e)}}async _onVisibilityChanged(e){let t=`#_onVisibilityChanged(${e})`;this._debug(t,`visibilityState`,document.visibilityState),document.visibilityState===`visible`?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!==`visible`){this._debug(t,`acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting`);return}await this._recoverAndRefresh()}))):document.visibilityState===`hidden`&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){let r=[`provider=${encodeURIComponent(t)}`];if(n?.redirectTo&&r.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&r.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType===`pkce`){let[e,t]=await Ts(this.storage,this.storageKey),n=new URLSearchParams({code_challenge:`${encodeURIComponent(e)}`,code_challenge_method:`${encodeURIComponent(t)}`});r.push(n.toString())}if(n?.queryParams){let e=new URLSearchParams(n.queryParams);r.push(e.toString())}return n?.skipBrowserRedirect&&r.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${r.join(`&`)}`}async _unenroll(e){try{return await this._useSession(async t=>{let{data:n,error:r}=t;return r?this._returnResult({data:null,error:r}):await X(this.fetch,`DELETE`,`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:n?.session?.access_token})})}catch(e){if(Y(e))return this._returnResult({data:null,error:e});throw e}}async _enroll(e){try{return await this._useSession(async t=>{let{data:n,error:r}=t;if(r)return this._returnResult({data:null,error:r});let i=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType===`phone`?{phone:e.phone}:e.factorType===`totp`?{issuer:e.issuer}:{}),{data:a,error:o}=await X(this.fetch,`POST`,`${this.url}/factors`,{body:i,headers:this.headers,jwt:n?.session?.access_token});return o?this._returnResult({data:null,error:o}):(e.factorType===`totp`&&a.type===`totp`&&a?.totp?.qr_code&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),this._returnResult({data:a,error:null}))})}catch(e){if(Y(e))return this._returnResult({data:null,error:e});throw e}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{let{data:n,error:r}=t;if(r)return this._returnResult({data:null,error:r});let i=Object.assign({challenge_id:e.challengeId},`webauthn`in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type===`create`?fc(e.webauthn.credential_response):pc(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:o}=await X(this.fetch,`POST`,`${this.url}/factors/${e.factorId}/verify`,{body:i,headers:this.headers,jwt:n?.session?.access_token});return o?this._returnResult({data:null,error:o}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers(`MFA_CHALLENGE_VERIFIED`,a),this._returnResult({data:a,error:o}))})}catch(e){if(Y(e))return this._returnResult({data:null,error:e});throw e}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{let{data:n,error:r}=t;if(r)return this._returnResult({data:null,error:r});let i=await X(this.fetch,`POST`,`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:n?.session?.access_token});if(i.error)return i;let{data:a}=i;if(a.type!==`webauthn`)return{data:a,error:null};switch(a.webauthn.type){case`create`:return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:uc(a.webauthn.credential_options.publicKey)})})}),error:null};case`request`:return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:dc(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(e){if(Y(e))return this._returnResult({data:null,error:e});throw e}})}async _challengeAndVerify(e){let{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){let{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};let n={all:[],phone:[],totp:[],webauthn:[]};for(let t of e?.factors??[])n.all.push(t),t.status===`verified`&&n[t.factor_type].push(t);return{data:n,error:null}}async _getAuthenticatorAssuranceLevel(){let{data:{session:e},error:t}=await this.getSession();if(t)return this._returnResult({data:null,error:t});if(!e)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:n}=vs(e.access_token),r=null;n.aal&&(r=n.aal);let i=r;(e.user.factors?.filter(e=>e.status===`verified`)??[]).length>0&&(i=`aal2`);let a=n.amr||[];return{data:{currentLevel:r,nextLevel:i,currentAuthenticationMethods:a},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async t=>{let{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await X(this.fetch,`GET`,`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:e=>({data:e,error:null})}):this._returnResult({data:null,error:new Lo})})}catch(e){if(Y(e))return this._returnResult({data:null,error:e});throw e}}async _approveAuthorization(e,t){try{return await this._useSession(async n=>{let{data:{session:r},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!r)return this._returnResult({data:null,error:new Lo});let a=await X(this.fetch,`POST`,`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:r.access_token,body:{action:`approve`},xform:e=>({data:e,error:null})});return a.data&&a.data.redirect_url&&cs()&&!t?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a})}catch(e){if(Y(e))return this._returnResult({data:null,error:e});throw e}}async _denyAuthorization(e,t){try{return await this._useSession(async n=>{let{data:{session:r},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!r)return this._returnResult({data:null,error:new Lo});let a=await X(this.fetch,`POST`,`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:r.access_token,body:{action:`deny`},xform:e=>({data:e,error:null})});return a.data&&a.data.redirect_url&&cs()&&!t?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a})}catch(e){if(Y(e))return this._returnResult({data:null,error:e});throw e}}async _listOAuthGrants(){try{return await this._useSession(async e=>{let{data:{session:t},error:n}=e;return n?this._returnResult({data:null,error:n}):t?await X(this.fetch,`GET`,`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:t.access_token,xform:e=>({data:e,error:null})}):this._returnResult({data:null,error:new Lo})})}catch(e){if(Y(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async t=>{let{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await X(this.fetch,`DELETE`,`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},xform:()=>({data:{},error:null})}):this._returnResult({data:null,error:new Lo})})}catch(e){if(Y(e))return this._returnResult({data:null,error:e});throw e}}async fetchJwk(e,t={keys:[]}){let n=t.keys.find(t=>t.kid===e);if(n)return n;let r=Date.now();if(n=this.jwks.keys.find(t=>t.kid===e),n&&this.jwks_cached_at+6e5>r)return n;let{data:i,error:a}=await X(this.fetch,`GET`,`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=r,n=i.keys.find(t=>t.kid===e),!n)?null:n}async getClaims(e,t={}){try{let n=e;if(!n){let{data:e,error:t}=await this.getSession();if(t||!e.session)return this._returnResult({data:null,error:t});n=e.session.access_token}let{header:r,payload:i,signature:a,raw:{header:o,payload:s}}=vs(n);t?.allowExpired||Os(i.exp);let c=!r.alg||r.alg.startsWith(`HS`)||!r.kid||!(`crypto`in globalThis&&`subtle`in globalThis.crypto)?null:await this.fetchJwk(r.kid,t?.keys?{keys:t.keys}:t?.jwks);if(!c){let{error:e}=await this.getUser(n);if(e)throw e;return{data:{claims:i,header:r,signature:a},error:null}}let l=ks(r.alg),u=await crypto.subtle.importKey(`jwk`,c,l,!0,[`verify`]);if(!await crypto.subtle.verify(l,u,a,is(`${o}.${s}`)))throw new qo(`Invalid JWT signature`);return{data:{claims:i,header:r,signature:a},error:null}}catch(e){if(Y(e))return this._returnResult({data:null,error:e});throw e}}};Dc.nextInstanceID={};var Oc=Dc,kc=class extends Oc{constructor(e){super(e)}},Ac=class{constructor(e,t,n){this.supabaseUrl=e,this.supabaseKey=t;let r=wo(e);if(!t)throw Error(`supabaseKey is required.`);this.realtimeUrl=new URL(`realtime/v1`,r),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace(`http`,`ws`),this.authUrl=new URL(`auth/v1`,r),this.storageUrl=new URL(`storage/v1`,r),this.functionsUrl=new URL(`functions/v1`,r);let i=`sb-${r.hostname.split(`.`)[0]}-auth-token`,a={db:go,realtime:vo,auth:Object.assign(Object.assign({},_o),{storageKey:i}),global:ho},o=Co(n??{},a);this.storageKey=o.auth.storageKey??``,this.headers=o.global.headers??{},o.accessToken?(this.accessToken=o.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(t)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(o.auth??{},this.headers,o.global.fetch),this.fetch=xo(t,this._getAccessToken.bind(this),o.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},o.realtime)),this.accessToken&&this.accessToken().then(e=>this.realtime.setAuth(e)).catch(e=>console.warn(`Failed to set initial Realtime auth token:`,e)),this.rest=new Pi(new URL(`rest/v1`,r).href,{headers:this.headers,schema:o.db.schema,fetch:this.fetch}),this.storage=new po(this.storageUrl.href,this.headers,this.fetch,n?.storage),o.accessToken||this._listenForAuthEvents()}get functions(){return new Ei(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){if(this.accessToken)return await this.accessToken();let{data:e}=await this.auth.getSession();return e.session?.access_token??this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:i,storageKey:a,flowType:o,lock:s,debug:c,throwOnError:l},u,d){let f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new kc({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:a,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:i,flowType:o,lock:s,debug:c,throwOnError:l,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(e=>e.toLowerCase()===`authorization`)})}_initRealtimeClient(e){return new ba(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,`CLIENT`,t?.access_token)})}_handleTokenChanged(e,t,n){(e===`TOKEN_REFRESHED`||e===`SIGNED_IN`)&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e===`SIGNED_OUT`&&(this.realtime.setAuth(),t==`STORAGE`&&this.auth.signOut(),this.changedAccessToken=void 0)}};const jc=(e,t,n)=>new Ac(e,t,n);function Mc(){if(typeof window<`u`||typeof process>`u`)return!1;let e=process.version;if(e==null)return!1;let t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}Mc()&&console.warn(`  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217`);const Z=jc(`https://lvibylijblsveqpxqxie.supabase.co`,`eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imx2aWJ5bGlqYmxzdmVxcHhxeGllIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI1NTk0MDAsImV4cCI6MjA3ODEzNTQwMH0.0Py72VsOlURtCInP5QUGtc37qzvXaPIFUV4uKvQaCqg`);var Nc=({title:e,value:t,subtitle:n,icon:r,trend:i,onClick:a,clickable:o})=>{let s={background:`white`,padding:`24px`,borderRadius:`12px`,border:`1px solid #e9d8b5`,transition:`all 0.3s ease`,cursor:o?`pointer`:`default`,minWidth:`280px`},c=o?{":hover":{transform:`translateY(-2px)`,boxShadow:`0 4px 12px rgba(122, 59, 6, 0.1)`,borderColor:`#7a3b06`}}:{};return(0,W.jsxs)(`div`,{style:{...s,...c},onClick:a,children:[(0,W.jsxs)(`div`,{style:{display:`flex`,justifyContent:`space-between`,alignItems:`flex-start`,marginBottom:`16px`},children:[(0,W.jsxs)(`div`,{children:[(0,W.jsx)(`h3`,{style:{color:`#6d4611`,fontSize:`14px`,margin:`0 0 8px 0`,fontWeight:`500`},children:e}),(0,W.jsx)(`div`,{style:{color:`#7a3b06`,fontSize:`24px`,fontWeight:`700`,margin:`0 0 4px 0`},children:t}),(0,W.jsx)(`div`,{style:{color:`#6d4611`,fontSize:`12px`,opacity:.8},children:n})]}),(0,W.jsx)(`div`,{style:{width:`48px`,height:`48px`,borderRadius:`8px`,background:`rgba(122, 59, 6, 0.08)`,display:`flex`,alignItems:`center`,justifyContent:`center`,color:`#7a3b06`},children:r})]}),i&&(0,W.jsxs)(`div`,{style:{display:`flex`,alignItems:`center`,gap:`4px`,fontSize:`12px`,color:i===`up`?`#28a745`:i===`down`?`#dc3545`:`#6c757d`},children:[i===`up`?``:i===`down`?``:``,i===`up`?`Aumentando`:i===`down`?`Disminuyendo`:`Estable`]})]})},Pc=({data:e,title:t,color:n=`#7a3b06`})=>{let r=Math.max(...e.map(e=>e.value));return(0,W.jsxs)(`div`,{style:Q.chartCard,children:[(0,W.jsx)(`h3`,{style:Q.chartTitle,children:t}),(0,W.jsx)(`div`,{style:Q.chartContainer,children:e.map((e,t)=>(0,W.jsxs)(`div`,{style:Q.barContainer,children:[(0,W.jsx)(`div`,{style:Q.barLabel,children:e.label}),(0,W.jsxs)(`div`,{style:Q.barWrapper,children:[(0,W.jsx)(`div`,{style:{...Q.bar,width:`${e.value/r*100}%`,backgroundColor:n}}),(0,W.jsx)(`span`,{style:Q.barValue,children:Ic(e.value)})]})]},t))})]})},Fc=({data:e,title:t})=>{let n=e.reduce((e,t)=>e+t.value,0),r=[`#7a3b06`,`#28a745`,`#007bff`,`#ffc107`,`#dc3545`],i=0;return(0,W.jsxs)(`div`,{style:Q.chartCard,children:[(0,W.jsx)(`h3`,{style:Q.chartTitle,children:t}),(0,W.jsxs)(`div`,{style:Q.donutContainer,children:[(0,W.jsx)(`div`,{style:Q.donutChart,children:(0,W.jsxs)(`svg`,{width:`120`,height:`120`,viewBox:`0 0 120 120`,children:[e.map((e,t)=>{let a=e.value/n*100/100*360,o=a>180?1:0,s=`M 60 60 L ${60+50*Math.cos(i*Math.PI/180)} ${60+50*Math.sin(i*Math.PI/180)} A 50 50 0 ${o} 1 ${60+50*Math.cos((i+a)*Math.PI/180)} ${60+50*Math.sin((i+a)*Math.PI/180)} Z`;return i+=a,(0,W.jsx)(`path`,{d:s,fill:r[t%r.length],stroke:`#fff`,strokeWidth:`2`},t)}),(0,W.jsx)(`circle`,{cx:`60`,cy:`60`,r:`30`,fill:`white`})]})}),(0,W.jsx)(`div`,{style:Q.donutLegend,children:e.map((e,t)=>(0,W.jsxs)(`div`,{style:Q.legendItem,children:[(0,W.jsx)(`div`,{style:{...Q.legendColor,backgroundColor:r[t%r.length]}}),(0,W.jsx)(`span`,{style:Q.legendLabel,children:e.label}),(0,W.jsxs)(`span`,{style:Q.legendValue,children:[(e.value/n*100).toFixed(1),`%`]})]},t))})]})]})},Ic=e=>e>=1e6?`Bs. ${(e/1e6).toFixed(1)}M`:e>=1e3?`Bs. ${(e/1e3).toFixed(1)}K`:`Bs. ${e}`,Lc=()=>{if(document.getElementById(`dashboard-styles`))return;let e=document.createElement(`style`);e.id=`dashboard-styles`,e.textContent=`
    @keyframes pulse {
      0% { opacity: 1; }
      50% { opacity: 0.5; }
      100% { opacity: 1; }
    }
    
    @keyframes spin {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }
    
    @keyframes loading {
      0% { background-position: 200% 0; }
      100% { background-position: -200% 0; }
    }
  `,document.head.appendChild(e)};function Rc({lastUpdate:e,onRefresh:t,loading:n}){return(0,W.jsx)(`header`,{style:Q.header,children:(0,W.jsxs)(`div`,{style:Q.headerContent,children:[(0,W.jsxs)(`div`,{style:Q.headerTitle,children:[(0,W.jsx)(`h1`,{style:Q.title,children:`Panel Principal`}),(0,W.jsxs)(`p`,{style:Q.subtitle,children:[(0,W.jsx)(`span`,{style:Q.statusDot}),`Actualizado: `,(e=>e?e.toLocaleString(`es-ES`,{day:`2-digit`,month:`2-digit`,year:`numeric`,hour:`2-digit`,minute:`2-digit`}):`Cargando...`)(e)]})]}),(0,W.jsxs)(`div`,{style:Q.headerActions,children:[(0,W.jsxs)(`div`,{style:Q.restaurantBadge,children:[(0,W.jsx)(Gn,{size:16}),`Beef & Beer`]}),(0,W.jsxs)(`button`,{onClick:t,disabled:n,style:{...Q.refreshButton,...n?Q.refreshButtonDisabled:{}},title:`Actualizar estadsticas`,children:[(0,W.jsx)(dr,{size:16,style:n?{animation:`spin 1s linear infinite`}:{}}),`Actualizar`]})]})]})})}function zc({onAction:e}){let t=[{key:`pedido`,label:`Nuevo Pedido`,icon:(0,W.jsx)(lr,{size:20}),description:`Crear nuevo pedido`},{key:`inventario`,label:`Ver Inventario`,icon:(0,W.jsx)(jn,{size:20}),description:`Gestionar stock`},{key:`personal`,label:`Gestionar Personal`,icon:(0,W.jsx)(Er,{size:20}),description:`Administrar empleados`},{key:`ventas`,label:`Ver Ventas`,icon:(0,W.jsx)(Yn,{size:20}),description:`Reportes de ventas`}];return(0,W.jsxs)(`section`,{style:Q.quickActions,children:[(0,W.jsx)(`h2`,{style:Q.quickActionsTitle,children:`Acciones Rpidas`}),(0,W.jsx)(`div`,{style:Q.actionsGrid,children:t.map(t=>(0,W.jsxs)(`button`,{onClick:()=>e(t.key),style:Q.actionButton,title:t.description,children:[(0,W.jsx)(`div`,{style:Q.actionIcon,children:t.icon}),(0,W.jsx)(`span`,{style:Q.actionLabel,children:t.label})]},t.key))})]})}function Bc(){return(0,W.jsxs)(`div`,{style:Q.dashboardContainer,children:[(0,W.jsx)(`div`,{style:Q.header,children:(0,W.jsx)(`div`,{style:Q.headerContent,children:(0,W.jsxs)(`div`,{style:Q.headerTitle,children:[(0,W.jsx)(`h1`,{style:Q.title,children:`Panel Principal`}),(0,W.jsxs)(`p`,{style:Q.subtitle,children:[(0,W.jsx)(`span`,{style:Q.statusDot}),`Actualizado: Cargando...`]})]})})}),(0,W.jsx)(`div`,{style:Q.statsGrid,children:[1,2,3,4].map(e=>(0,W.jsx)(`div`,{style:Q.cardSkeleton,children:(0,W.jsx)(`div`,{style:Q.skeletonLoader})},e))})]})}function Vc(){let e=Ve(),[t,n]=(0,w.useState)({ventasHoy:0,ventasMes:0,pedidosActivos:0,mesasOcupadas:0,empleadosActivos:0,productosCategoria:{comida:0,bebida:0}}),[r,i]=(0,w.useState)({ventasMensuales:[],categoriasVentas:[]}),[a,o]=(0,w.useState)(!0),[s,c]=(0,w.useState)(null),[l,u]=(0,w.useState)(null);(0,w.useEffect)(()=>{Lc()},[]);let d=e=>new Intl.NumberFormat(`es-BO`,{style:`currency`,currency:`BOB`,minimumFractionDigits:2}).format(e||0),f=async()=>{try{let e=new Date().toISOString().split(`T`)[0],{data:t,error:n}=await Z.from(`ventas`).select(`monto_total, fecha`).gte(`fecha`,`${e}T00:00:00`).lte(`fecha`,`${e}T23:59:59`);if(n)throw n;return{total:t.reduce((e,t)=>e+(parseFloat(t.monto_total)||0),0),count:t.length}}catch(e){return console.error(`Error fetching ventas hoy:`,e),{total:0,count:0}}},p=async()=>{try{let e=new Date;e.setDate(1),e.setHours(0,0,0,0);let t=new Date;t.setMonth(t.getMonth()+1,0),t.setHours(23,59,59,999);let{data:n,error:r}=await Z.from(`ventas`).select(`monto_total, fecha`).gte(`fecha`,e.toISOString()).lte(`fecha`,t.toISOString());if(r)throw r;return{total:n.reduce((e,t)=>e+(parseFloat(t.monto_total)||0),0),ventasMensuales:m(n)}}catch(e){return console.error(`Error fetching ventas mes:`,e),{total:0,ventasMensuales:[]}}},m=e=>{let t=[],n=new Date;for(let e=5;e>=0;e--){let r=new Date(n.getFullYear(),n.getMonth()-e,1).toLocaleDateString(`es-ES`,{month:`short`});t.push({label:r,value:0})}return e.forEach(e=>{let n=new Date(e.fecha).toLocaleDateString(`es-ES`,{month:`short`}),r=parseFloat(e.monto_total)||0,i=t.findIndex(e=>e.label===n);i!==-1&&(t[i].value+=r)}),t},h=async()=>{try{let{data:e,error:t}=await Z.from(`pedidos`).select(`id_pedido`).not(`nromesa`,`is`,null);if(t)throw t;return e?.length||0}catch(e){return console.error(`Error fetching pedidos activos:`,e),0}},g=async()=>{try{let{data:e,error:t}=await Z.from(`mesas`).select(`nromesa`).eq(`estado`,`ocupada`);if(t)throw t;return e?.length||0}catch(e){return console.error(`Error fetching mesas ocupadas:`,e),0}},_=async()=>{try{let{data:e,error:t}=await Z.from(`empleados`).select(`ci`);if(t)throw t;return e?.length||0}catch(e){return console.error(`Error fetching empleados activos:`,e),0}},v=async()=>{try{let{data:e,error:t}=await Z.from(`productos`).select(`id_producto, categoria_productos(tipo)`).not(`id_categoriaproducto`,`is`,null);if(t)throw t;let n={comida:0,bebida:0};return e?.forEach(e=>{let t=e.categoria_productos?.tipo;t===`comida`?n.comida++:t===`bebida`&&n.bebida++}),n}catch(e){return console.error(`Error en fetchProductosPorCategoria:`,e),{comida:0,bebida:0}}},y=async()=>{try{return{categoriasVentas:[{label:`Comidas`,value:15600},{label:`Bebidas`,value:8400},{label:`Postres`,value:3200}]}}catch(e){return console.error(`Error fetching datos grficas:`,e),{categoriasVentas:[]}}},b=async()=>{try{o(!0),u(null);let[e,t,r,a,s,l,d]=await Promise.allSettled([f(),p(),h(),g(),_(),v(),y()]),m=e.status===`fulfilled`?e.value:{total:0,count:0},b=t.status===`fulfilled`?t.value:{total:0,ventasMensuales:[]},x=r.status===`fulfilled`?r.value:0,S=a.status===`fulfilled`?a.value:0,C=s.status===`fulfilled`?s.value:0,w=l.status===`fulfilled`?l.value:{comida:0,bebida:0},T=d.status===`fulfilled`?d.value:{categoriasVentas:[]};n({ventasHoy:m.total,ventasMes:b.total,pedidosActivos:x,mesasOcupadas:S,empleadosActivos:C,productosCategoria:w}),i({ventasMensuales:b.ventasMensuales,categoriasVentas:T.categoriasVentas}),c(new Date)}catch(e){console.error(`Error al cargar estadsticas:`,e),u(`No se pudieron cargar las estadsticas. Verifica la conexin.`)}finally{o(!1)}};(0,w.useEffect)(()=>{b()},[]);let x=t=>{let n={pedido:`/pedidos`,inventario:`/inventario`,personal:`/personal`,ventas:`/ventas`};n[t]&&e(n[t])};return a?(0,W.jsx)(Bc,{}):(0,W.jsxs)(`div`,{style:Q.dashboardContainer,children:[(0,W.jsx)(Rc,{lastUpdate:s,onRefresh:b,loading:a}),l&&(0,W.jsxs)(`div`,{style:Q.errorBanner,children:[(0,W.jsx)(In,{size:18}),(0,W.jsx)(`span`,{children:l}),(0,W.jsx)(`button`,{onClick:b,style:Q.retryButton,children:`Reintentar`})]}),(0,W.jsxs)(`section`,{style:Q.statsGrid,children:[(0,W.jsx)(Nc,{title:`Ventas del da`,value:d(t.ventasHoy),subtitle:`Ingresos totales de hoy`,icon:(0,W.jsx)(Kn,{size:20}),trend:t.ventasHoy>0?`up`:`neutral`,onClick:()=>x(`ventas`),clickable:!0}),(0,W.jsx)(Nc,{title:`Pedidos activos`,value:t.pedidosActivos,subtitle:`${t.mesasOcupadas} mesas ocupadas`,icon:(0,W.jsx)(vr,{size:20}),trend:t.pedidosActivos>0?`up`:`neutral`,onClick:()=>x(`pedido`),clickable:!0}),(0,W.jsx)(Nc,{title:`Ventas del mes`,value:d(t.ventasMes),subtitle:`Ingresos mensuales`,icon:(0,W.jsx)(Sr,{size:20}),trend:t.ventasMes>0?`up`:`neutral`}),(0,W.jsx)(Nc,{title:`Personal activo`,value:t.empleadosActivos,subtitle:`Total empleados`,icon:(0,W.jsx)(Dr,{size:20}),trend:`neutral`,onClick:()=>x(`personal`),clickable:!0})]}),(0,W.jsxs)(`section`,{style:Q.chartsSection,children:[(0,W.jsxs)(`h2`,{style:Q.sectionTitle,children:[(0,W.jsx)(In,{size:20}),`Mtricas del Negocio`]}),(0,W.jsxs)(`div`,{style:Q.chartsGrid,children:[(0,W.jsx)(Pc,{title:`Ventas Mensuales (Bs)`,data:r.ventasMensuales.length>0?r.ventasMensuales:[{label:`Ene`,value:45e3},{label:`Feb`,value:52e3},{label:`Mar`,value:48e3},{label:`Abr`,value:61e3},{label:`May`,value:58e3},{label:`Jun`,value:72e3}],color:`#7a3b06`}),(0,W.jsx)(Fc,{title:`Distribucin de Ventas`,data:r.categoriasVentas.length>0?r.categoriasVentas:[{label:`Comidas`,value:15600},{label:`Bebidas`,value:8400},{label:`Postres`,value:3200}]})]})]}),(0,W.jsx)(`section`,{style:Q.infoSection,children:(0,W.jsxs)(`div`,{style:Q.infoGrid,children:[(0,W.jsxs)(`div`,{style:Q.infoCard,children:[(0,W.jsxs)(`div`,{style:Q.infoHeader,children:[(0,W.jsx)(Ln,{size:18}),(0,W.jsx)(`h3`,{style:Q.infoTitle,children:`Productos por Categora`})]}),(0,W.jsxs)(`div`,{style:Q.categoryInfo,children:[(0,W.jsxs)(`div`,{style:Q.categoryItem,children:[(0,W.jsx)(`span`,{style:Q.categoryName,children:`Comidas`}),(0,W.jsx)(`span`,{style:Q.categoryCount,children:t.productosCategoria.comida})]}),(0,W.jsxs)(`div`,{style:Q.categoryItem,children:[(0,W.jsx)(`span`,{style:Q.categoryName,children:`Bebidas`}),(0,W.jsx)(`span`,{style:Q.categoryCount,children:t.productosCategoria.bebida})]}),(0,W.jsxs)(`div`,{style:Q.categoryItem,children:[(0,W.jsx)(`span`,{style:Q.categoryName,children:`Total`}),(0,W.jsx)(`span`,{style:Q.categoryCount,children:t.productosCategoria.comida+t.productosCategoria.bebida})]})]})]}),(0,W.jsxs)(`div`,{style:Q.infoCard,children:[(0,W.jsxs)(`div`,{style:Q.infoHeader,children:[(0,W.jsx)(Fn,{size:18}),(0,W.jsx)(`h3`,{style:Q.infoTitle,children:`Resumen del Mes`})]}),(0,W.jsxs)(`div`,{style:Q.summaryInfo,children:[(0,W.jsxs)(`div`,{style:Q.summaryItem,children:[(0,W.jsx)(`span`,{children:`Ventas mensuales:`}),(0,W.jsx)(`strong`,{children:d(t.ventasMes)})]}),(0,W.jsxs)(`div`,{style:Q.summaryItem,children:[(0,W.jsx)(`span`,{children:`Ventas diarias promedio:`}),(0,W.jsx)(`strong`,{children:d(t.ventasMes/30)})]}),(0,W.jsxs)(`div`,{style:Q.summaryItem,children:[(0,W.jsx)(`span`,{children:`Das transcurridos:`}),(0,W.jsxs)(`strong`,{children:[new Date().getDate(),`/30`]})]})]})]})]})}),(0,W.jsx)(zc,{onAction:x})]})}var Q={dashboardContainer:{padding:`20px`,maxWidth:`1400px`,margin:`0 auto`},header:{marginBottom:`30px`},headerContent:{display:`flex`,justifyContent:`space-between`,alignItems:`flex-start`,gap:`20px`,flexWrap:`wrap`},headerTitle:{flex:1},title:{fontSize:`28px`,color:`#7a3b06`,marginBottom:`8px`,fontWeight:`700`,margin:0},subtitle:{color:`#6d4611`,fontSize:`14px`,opacity:.9,display:`flex`,alignItems:`center`,gap:`8px`,margin:0},statusDot:{width:`8px`,height:`8px`,backgroundColor:`#28a745`,borderRadius:`50%`,animation:`pulse 2s infinite`},headerActions:{display:`flex`,gap:`12px`,alignItems:`center`,flexShrink:0},restaurantBadge:{padding:`8px 16px`,background:`white`,borderRadius:`8px`,border:`1px solid #e9d8b5`,fontSize:`14px`,color:`#7a3b06`,fontWeight:`500`,display:`flex`,alignItems:`center`,gap:`8px`},refreshButton:{padding:`8px 16px`,background:`#7a3b06`,color:`white`,border:`none`,borderRadius:`8px`,cursor:`pointer`,display:`flex`,alignItems:`center`,gap:`8px`,fontSize:`14px`,transition:`all 0.3s ease`},refreshButtonDisabled:{opacity:.6,cursor:`not-allowed`},errorBanner:{background:`#f8d7da`,color:`#721c24`,padding:`12px 16px`,borderRadius:`8px`,border:`1px solid #f5c6cb`,display:`flex`,alignItems:`center`,gap:`10px`,marginBottom:`20px`,fontSize:`14px`},retryButton:{background:`#dc3545`,color:`white`,border:`none`,padding:`4px 12px`,borderRadius:`4px`,cursor:`pointer`,fontSize:`12px`,marginLeft:`auto`},statsGrid:{display:`grid`,gridTemplateColumns:`repeat(auto-fit, minmax(280px, 1fr))`,gap:`20px`,marginBottom:`30px`},chartsSection:{marginBottom:`30px`},sectionTitle:{fontSize:`20px`,color:`#7a3b06`,marginBottom:`20px`,fontWeight:`600`,display:`flex`,alignItems:`center`,gap:`10px`},chartsGrid:{display:`grid`,gridTemplateColumns:`repeat(auto-fit, minmax(400px, 1fr))`,gap:`20px`},chartCard:{background:`white`,padding:`20px`,borderRadius:`12px`,border:`1px solid #e9d8b5`},chartTitle:{color:`#7a3b06`,fontSize:`16px`,fontWeight:`600`,marginBottom:`15px`,margin:`0 0 15px 0`},chartContainer:{display:`flex`,flexDirection:`column`,gap:`10px`},barContainer:{display:`flex`,alignItems:`center`,gap:`10px`},barLabel:{width:`40px`,fontSize:`12px`,color:`#6d4611`,fontWeight:`500`},barWrapper:{flex:1,display:`flex`,alignItems:`center`,gap:`8px`},bar:{height:`20px`,borderRadius:`4px`,transition:`width 0.3s ease`,minWidth:`4px`},barValue:{fontSize:`12px`,color:`#6d4611`,fontWeight:`500`,minWidth:`50px`,textAlign:`right`},donutContainer:{display:`flex`,gap:`20px`,alignItems:`center`},donutChart:{flexShrink:0},donutLegend:{flex:1,display:`flex`,flexDirection:`column`,gap:`8px`},legendItem:{display:`flex`,alignItems:`center`,gap:`8px`},legendColor:{width:`12px`,height:`12px`,borderRadius:`2px`},legendLabel:{fontSize:`12px`,color:`#6d4611`,flex:1},legendValue:{fontSize:`11px`,fontWeight:`600`,color:`#7a3b06`},infoSection:{marginBottom:`30px`},infoGrid:{display:`grid`,gridTemplateColumns:`repeat(auto-fit, minmax(300px, 1fr))`,gap:`20px`},infoCard:{background:`white`,padding:`20px`,borderRadius:`12px`,border:`1px solid #e9d8b5`},infoHeader:{display:`flex`,alignItems:`center`,gap:`10px`,marginBottom:`15px`},infoTitle:{color:`#7a3b06`,fontSize:`16px`,fontWeight:`600`,margin:0},categoryInfo:{display:`flex`,flexDirection:`column`,gap:`10px`},categoryItem:{display:`flex`,justifyContent:`space-between`,alignItems:`center`,padding:`8px 0`,borderBottom:`1px solid #f0f0f0`},categoryName:{color:`#6d4611`,fontSize:`14px`},categoryCount:{color:`#7a3b06`,fontWeight:`600`,fontSize:`14px`},summaryInfo:{display:`flex`,flexDirection:`column`,gap:`8px`},summaryItem:{display:`flex`,justifyContent:`space-between`,alignItems:`center`,padding:`6px 0`},summaryItemSpan:{color:`#6d4611`,fontSize:`14px`},summaryItemStrong:{color:`#7a3b06`,fontWeight:`600`,fontSize:`14px`},quickActions:{marginTop:`30px`},quickActionsTitle:{fontSize:`20px`,color:`#7a3b06`,marginBottom:`20px`,fontWeight:`600`},actionsGrid:{display:`grid`,gridTemplateColumns:`repeat(auto-fit, minmax(200px, 1fr))`,gap:`15px`},actionButton:{padding:`20px 15px`,background:`white`,border:`1px solid #e9d8b5`,borderRadius:`12px`,cursor:`pointer`,transition:`all 0.3s ease`,display:`flex`,flexDirection:`column`,alignItems:`center`,gap:`12px`,fontSize:`16px`,color:`#7a3b06`},actionIcon:{width:`48px`,height:`48px`,borderRadius:`8px`,background:`rgba(122, 59, 6, 0.08)`,display:`flex`,alignItems:`center`,justifyContent:`center`,color:`#7a3b06`},actionLabel:{fontWeight:`500`},cardSkeleton:{background:`white`,borderRadius:`12px`,border:`1px solid #e9d8b5`,height:`140px`,display:`flex`,alignItems:`center`,justifyContent:`center`,minWidth:`280px`},skeletonLoader:{width:`80%`,height:`20px`,background:`linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%)`,backgroundSize:`200% 100%`,animation:`loading 1.5s infinite`,borderRadius:`4px`}};function Hc(){let[e,t]=(0,w.useState)([]),[n,r]=(0,w.useState)([]),[i,a]=(0,w.useState)([]),[o,s]=(0,w.useState)(!0),[c,l]=(0,w.useState)(``),[u,d]=(0,w.useState)(``),[f,p]=(0,w.useState)(!1),[m,h]=(0,w.useState)(!1),[g,_]=(0,w.useState)(null),[v,y]=(0,w.useState)({nombre:``,descripcion:``}),[b,x]=(0,w.useState)({nombre:``,descripcion:``}),[S,C]=(0,w.useState)(``);(0,w.useEffect)(()=>{E()},[]);let T=(e,t=`error`)=>{t===`success`?(d(e),setTimeout(()=>d(``),3e3)):(l(e),setTimeout(()=>l(``),5e3))},E=async()=>{try{s(!0);let[e,n,i]=await Promise.all([Z.from(`roles`).select(`*`).order(`id_rol`),Z.from(`cargos`).select(`*`).order(`id_cargo`),Z.from(`empleados`).select(`ci, nombre, id_cargo, id_rol`)]);if(e.error)throw e.error;if(n.error)throw n.error;if(i.error)throw i.error;t(e.data||[]),r(n.data||[]),a(i.data||[])}catch(e){T(`Error al cargar datos: ${e.message}`)}finally{s(!1)}},D=t=>{if(!t.nombre.trim())throw Error(`El nombre del rol es requerido`);if(t.nombre.length>50)throw Error(`El nombre no puede exceder 50 caracteres`);let n=t.nombre.trim().toLowerCase();if(e.some(e=>e.nombre.toLowerCase()===n&&e.id_rol!==g))throw Error(`Ya existe un rol con ese nombre`)},O=e=>{if(!e.nombre.trim())throw Error(`El nombre del cargo es requerido`);if(e.nombre.length>50)throw Error(`El nombre no puede exceder 50 caracteres`);let t=e.nombre.trim().toLowerCase();if(n.some(e=>e.nombre.toLowerCase()===t&&e.id_cargo!==g))throw Error(`Ya existe un cargo con ese nombre`)},k=async e=>{e.preventDefault();try{D(v);let{data:e,error:t}=await Z.from(`roles`).insert([{nombre:v.nombre.trim(),descripcion:v.descripcion.trim()||null}]).select();if(t)throw console.error(`Error de Supabase:`,t),t.code===`23505`?Error(`Ya existe un rol con ese nombre`):Error(`Error del servidor: ${t.message}`);T(`Rol creado exitosamente`,`success`),F(),await E()}catch(e){T(e.message)}},A=async(e,t)=>{try{D(t);let{error:n}=await Z.from(`roles`).update({nombre:t.nombre.trim(),descripcion:t.descripcion.trim()||null}).eq(`id_rol`,e);if(n)throw console.error(`Error de Supabase:`,n),n.code===`23505`?Error(`Ya existe un rol con ese nombre`):Error(`Error del servidor: ${n.message}`);T(`Rol actualizado exitosamente`,`success`),F(),await E()}catch(e){T(e.message)}},j=async e=>{let t=i.filter(t=>t.id_rol===e);if(t.length>0){T(`No se puede eliminar. ${t.length} empleado(s) tienen este rol`);return}if(window.confirm(`Ests seguro de eliminar este rol?`))try{let{error:t}=await Z.from(`roles`).delete().eq(`id_rol`,e);if(t)throw t;T(`Rol eliminado exitosamente`,`success`),await E()}catch(e){T(`Error eliminando rol: ${e.message}`)}},ee=async e=>{e.preventDefault();try{O(b);let{data:e,error:t}=await Z.from(`cargos`).insert([{nombre:b.nombre.trim(),descripcion:b.descripcion.trim()||null}]).select();if(t)throw console.error(`Error de Supabase:`,t),t.code===`23505`?Error(`Ya existe un cargo con ese nombre`):Error(`Error del servidor: ${t.message}`);T(`Cargo creado exitosamente`,`success`),F(),await E()}catch(e){T(e.message)}},M=async(e,t)=>{try{O(t);let{error:n}=await Z.from(`cargos`).update({nombre:t.nombre.trim(),descripcion:t.descripcion.trim()||null}).eq(`id_cargo`,e);if(n)throw console.error(`Error de Supabase:`,n),n.code===`23505`?Error(`Ya existe un cargo con ese nombre`):Error(`Error del servidor: ${n.message}`);T(`Cargo actualizado exitosamente`,`success`),F(),await E()}catch(e){T(e.message)}},te=async e=>{let t=i.filter(t=>t.id_cargo===e);if(t.length>0){T(`No se puede eliminar. ${t.length} empleado(s) tienen este cargo`);return}if(window.confirm(`Ests seguro de eliminar este cargo?`))try{let{error:t}=await Z.from(`cargos`).delete().eq(`id_cargo`,e);if(t)throw t;T(`Cargo eliminado exitosamente`,`success`),await E()}catch(e){T(`Error eliminando cargo: ${e.message}`)}},N=e.filter(e=>e.nombre.toLowerCase().includes(S.toLowerCase())||e.descripcion&&e.descripcion.toLowerCase().includes(S.toLowerCase())),P=n.filter(e=>e.nombre.toLowerCase().includes(S.toLowerCase())||e.descripcion&&e.descripcion.toLowerCase().includes(S.toLowerCase())),F=()=>{y({nombre:``,descripcion:``}),x({nombre:``,descripcion:``}),_(null),p(!1),h(!1)},I={container:{padding:`20px`,maxWidth:`1200px`,margin:`0 auto`},pageHeader:{marginBottom:`30px`},pageHeaderH1:{fontSize:`28px`,color:`#7a3b06`,marginBottom:`8px`,fontWeight:`700`},pageHeaderP:{color:`#6d4611`,fontSize:`14px`,opacity:.9},loadingContainer:{display:`flex`,flexDirection:`column`,alignItems:`center`,justifyContent:`center`,padding:`60px 20px`,color:`#7a3b06`},alert:{display:`flex`,alignItems:`center`,gap:`12px`,padding:`12px 16px`,borderRadius:`8px`,marginBottom:`20px`,fontSize:`14px`},alertError:{backgroundColor:`#fee`,border:`1px solid #f5c6cb`,color:`#721c24`},alertSuccess:{backgroundColor:`#f0fff4`,border:`1px solid #c3e6cb`,color:`#155724`},alertClose:{marginLeft:`auto`,background:`none`,border:`none`,cursor:`pointer`,opacity:.7},searchBar:{marginBottom:`20px`},searchBox:{position:`relative`,maxWidth:`400px`},searchInput:{width:`100%`,padding:`12px 12px 12px 40px`,border:`1px solid #e9d8b5`,borderRadius:`8px`,fontSize:`14px`},actionButtons:{display:`flex`,gap:`12px`,marginBottom:`30px`,flexWrap:`wrap`},btn:{display:`flex`,alignItems:`center`,gap:`8px`,padding:`12px 20px`,border:`none`,borderRadius:`8px`,cursor:`pointer`,fontSize:`14px`,fontWeight:`500`,transition:`all 0.2s`},btnPrimary:{backgroundColor:`#7a3b06`,color:`white`},btnSecondary:{backgroundColor:`#6d4611`,color:`white`},btnSuccess:{backgroundColor:`#28a745`,color:`white`},btnCancel:{backgroundColor:`#6c757d`,color:`white`},modalOverlay:{position:`fixed`,top:0,left:0,right:0,bottom:0,backgroundColor:`rgba(0, 0, 0, 0.5)`,display:`flex`,alignItems:`center`,justifyContent:`center`,zIndex:1e3,padding:`20px`},modal:{background:`white`,padding:`24px`,borderRadius:`12px`,border:`1px solid #e9d8b5`,maxWidth:`500px`,width:`100%`,maxHeight:`90vh`,overflowY:`auto`},formGroup:{marginBottom:`16px`,position:`relative`},formActions:{display:`flex`,gap:`12px`,marginTop:`24px`},tablesGrid:{display:`grid`,gap:`24px`},tableCard:{background:`white`,borderRadius:`12px`,border:`1px solid #e9d8b5`,overflow:`hidden`},tableHeader:{padding:`20px`,borderBottom:`1px solid #e9d8b5`,display:`flex`,alignItems:`center`,gap:`10px`,backgroundColor:`#f8f5ee`},tableContainer:{overflowX:`auto`},table:{width:`100%`,borderCollapse:`collapse`,minWidth:`600px`},th:{padding:`12px`,textAlign:`left`,border:`1px solid #e9d8b5`,color:`#6d4611`,fontWeight:`600`,backgroundColor:`#f8f5ee`},td:{padding:`12px`,border:`1px solid #e9d8b5`,color:`#6d4611`},idCell:{fontWeight:`600`,color:`#7a3b06`},descCell:{maxWidth:`200px`,overflow:`hidden`,textOverflow:`ellipsis`,whiteSpace:`nowrap`},countCell:{textAlign:`center`},actionsCell:{width:`100px`},actionButtonsSmall:{display:`flex`,gap:`6px`,justifyContent:`center`},btnEdit:{display:`flex`,alignItems:`center`,justifyContent:`center`,padding:`6px 8px`,border:`none`,borderRadius:`4px`,cursor:`pointer`,transition:`all 0.2s`,backgroundColor:`#ffc107`,color:`#7a3b06`},btnDelete:{display:`flex`,alignItems:`center`,justifyContent:`center`,padding:`6px 8px`,border:`none`,borderRadius:`4px`,cursor:`pointer`,transition:`all 0.2s`,backgroundColor:`#dc3545`,color:`white`},badge:{display:`inline-flex`,alignItems:`center`,gap:`4px`,padding:`4px 8px`,borderRadius:`12px`,fontSize:`12px`,fontWeight:`600`},badgeInfo:{backgroundColor:`#e3f2fd`,color:`#1976d2`},badgeWarning:{backgroundColor:`#fff3e0`,color:`#f57c00`},emptyState:{padding:`40px 20px`,textAlign:`center`,color:`#6d4611`,opacity:.7}};return o?(0,W.jsxs)(`div`,{style:I.loadingContainer,children:[(0,W.jsx)(tr,{size:32,style:{animation:`spin 1s linear infinite`}}),(0,W.jsx)(`p`,{children:`Cargando datos...`})]}):(0,W.jsxs)(`div`,{style:I.container,children:[(0,W.jsxs)(`header`,{style:I.pageHeader,children:[(0,W.jsx)(`h1`,{style:I.pageHeaderH1,children:`Gestin de Roles y Cargos`}),(0,W.jsx)(`p`,{style:I.pageHeaderP,children:`Administra los roles y cargos del sistema`})]}),c&&(0,W.jsxs)(`div`,{style:{...I.alert,...I.alertError},children:[(0,W.jsx)(Cr,{size:20}),(0,W.jsx)(`span`,{children:c}),(0,W.jsx)(`button`,{onClick:()=>l(``),style:I.alertClose,children:(0,W.jsx)(U,{size:16})})]}),u&&(0,W.jsxs)(`div`,{style:{...I.alert,...I.alertSuccess},children:[(0,W.jsx)(Vn,{size:20}),(0,W.jsx)(`span`,{children:u}),(0,W.jsx)(`button`,{onClick:()=>d(``),style:I.alertClose,children:(0,W.jsx)(U,{size:16})})]}),(0,W.jsx)(`div`,{style:I.searchBar,children:(0,W.jsxs)(`div`,{style:I.searchBox,children:[(0,W.jsx)(mr,{size:18,style:{position:`absolute`,left:`12px`,top:`50%`,transform:`translateY(-50%)`,color:`#6d4611`}}),(0,W.jsx)(`input`,{type:`text`,placeholder:`Buscar roles o cargos...`,value:S,onChange:e=>C(e.target.value),style:I.searchInput,onFocus:e=>e.target.style.outline=`none`,onBlur:e=>e.target.style.borderColor=`#e9d8b5`})]})}),(0,W.jsxs)(`div`,{style:I.actionButtons,children:[(0,W.jsxs)(`button`,{onClick:()=>{F(),p(!0)},style:{...I.btn,...I.btnPrimary},children:[(0,W.jsx)(lr,{size:16}),`Nuevo Rol`]}),(0,W.jsxs)(`button`,{onClick:()=>{F(),h(!0)},style:{...I.btn,...I.btnSecondary},children:[(0,W.jsx)(lr,{size:16}),`Nuevo Cargo`]})]}),(f||m)&&(0,W.jsx)(`div`,{style:I.modalOverlay,children:(0,W.jsxs)(`div`,{style:I.modal,children:[f&&(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(`h3`,{style:{color:`#7a3b06`,marginBottom:`20px`,fontSize:`20px`},children:g?`Editar Rol`:`Nuevo Rol`}),(0,W.jsxs)(`form`,{onSubmit:g?e=>{e.preventDefault(),A(g,v)}:k,children:[(0,W.jsxs)(`div`,{style:I.formGroup,children:[(0,W.jsx)(`label`,{style:{display:`block`,marginBottom:`6px`,color:`#6d4611`,fontWeight:`500`},children:`Nombre del Rol *`}),(0,W.jsx)(`input`,{type:`text`,value:v.nombre,onChange:e=>y({...v,nombre:e.target.value}),required:!0,maxLength:50,placeholder:`Ej: Administrador`,style:{width:`100%`,padding:`10px`,border:`1px solid #e9d8b5`,borderRadius:`6px`,fontSize:`14px`}}),(0,W.jsxs)(`span`,{style:{position:`absolute`,right:`10px`,bottom:`10px`,fontSize:`12px`,color:`#6d4611`,opacity:.7},children:[v.nombre.length,`/50`]})]}),(0,W.jsxs)(`div`,{style:I.formGroup,children:[(0,W.jsx)(`label`,{style:{display:`block`,marginBottom:`6px`,color:`#6d4611`,fontWeight:`500`},children:`Descripcin`}),(0,W.jsx)(`textarea`,{value:v.descripcion,onChange:e=>y({...v,descripcion:e.target.value}),placeholder:`Descripcin del rol...`,rows:`3`,maxLength:200,style:{width:`100%`,padding:`10px`,border:`1px solid #e9d8b5`,borderRadius:`6px`,fontSize:`14px`}}),(0,W.jsxs)(`span`,{style:{position:`absolute`,right:`10px`,bottom:`10px`,fontSize:`12px`,color:`#6d4611`,opacity:.7},children:[v.descripcion?.length||0,`/200`]})]}),(0,W.jsxs)(`div`,{style:I.formActions,children:[(0,W.jsxs)(`button`,{type:`submit`,style:{...I.btn,...I.btnSuccess},children:[(0,W.jsx)(pr,{size:16}),g?`Actualizar`:`Guardar`]}),(0,W.jsx)(`button`,{type:`button`,onClick:F,style:{...I.btn,...I.btnCancel},children:`Cancelar`})]})]})]}),m&&(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(`h3`,{style:{color:`#7a3b06`,marginBottom:`20px`,fontSize:`20px`},children:g?`Editar Cargo`:`Nuevo Cargo`}),(0,W.jsxs)(`form`,{onSubmit:g?e=>{e.preventDefault(),M(g,b)}:ee,children:[(0,W.jsxs)(`div`,{style:I.formGroup,children:[(0,W.jsx)(`label`,{style:{display:`block`,marginBottom:`6px`,color:`#6d4611`,fontWeight:`500`},children:`Nombre del Cargo *`}),(0,W.jsx)(`input`,{type:`text`,value:b.nombre,onChange:e=>x({...b,nombre:e.target.value}),required:!0,maxLength:50,placeholder:`Ej: Mesero, Chef`,style:{width:`100%`,padding:`10px`,border:`1px solid #e9d8b5`,borderRadius:`6px`,fontSize:`14px`}}),(0,W.jsxs)(`span`,{style:{position:`absolute`,right:`10px`,bottom:`10px`,fontSize:`12px`,color:`#6d4611`,opacity:.7},children:[b.nombre.length,`/50`]})]}),(0,W.jsxs)(`div`,{style:I.formGroup,children:[(0,W.jsx)(`label`,{style:{display:`block`,marginBottom:`6px`,color:`#6d4611`,fontWeight:`500`},children:`Descripcin`}),(0,W.jsx)(`textarea`,{value:b.descripcion,onChange:e=>x({...b,descripcion:e.target.value}),placeholder:`Descripcin del cargo...`,rows:`3`,maxLength:200,style:{width:`100%`,padding:`10px`,border:`1px solid #e9d8b5`,borderRadius:`6px`,fontSize:`14px`}}),(0,W.jsxs)(`span`,{style:{position:`absolute`,right:`10px`,bottom:`10px`,fontSize:`12px`,color:`#6d4611`,opacity:.7},children:[b.descripcion?.length||0,`/200`]})]}),(0,W.jsxs)(`div`,{style:I.formActions,children:[(0,W.jsxs)(`button`,{type:`submit`,style:{...I.btn,...I.btnSuccess},children:[(0,W.jsx)(pr,{size:16}),g?`Actualizar`:`Guardar`]}),(0,W.jsx)(`button`,{type:`button`,onClick:F,style:{...I.btn,...I.btnCancel},children:`Cancelar`})]})]})]})]})}),(0,W.jsxs)(`div`,{style:I.tablesGrid,children:[(0,W.jsxs)(`div`,{style:I.tableCard,children:[(0,W.jsxs)(`div`,{style:I.tableHeader,children:[(0,W.jsx)(Er,{size:20}),(0,W.jsxs)(`h2`,{style:{color:`#7a3b06`,margin:0,fontSize:`18px`},children:[`Roles (`,N.length,`)`]})]}),(0,W.jsxs)(`div`,{style:I.tableContainer,children:[(0,W.jsxs)(`table`,{style:I.table,children:[(0,W.jsx)(`thead`,{children:(0,W.jsxs)(`tr`,{children:[(0,W.jsx)(`th`,{style:I.th,children:`ID`}),(0,W.jsx)(`th`,{style:I.th,children:`Nombre`}),(0,W.jsx)(`th`,{style:I.th,children:`Descripcin`}),(0,W.jsx)(`th`,{style:I.th,children:`Empleados`}),(0,W.jsx)(`th`,{style:I.th,children:`Acciones`})]})}),(0,W.jsx)(`tbody`,{children:N.map(e=>{let t=i.filter(t=>t.id_rol===e.id_rol).length;return(0,W.jsxs)(`tr`,{children:[(0,W.jsx)(`td`,{style:{...I.td,...I.idCell},children:e.id_rol}),(0,W.jsx)(`td`,{style:{...I.td,fontWeight:`500`},children:e.nombre}),(0,W.jsx)(`td`,{style:{...I.td,...I.descCell},children:e.descripcion||`-`}),(0,W.jsx)(`td`,{style:{...I.td,...I.countCell},children:(0,W.jsxs)(`span`,{style:{...I.badge,...t>0?I.badgeWarning:I.badgeInfo},children:[(0,W.jsx)(Dr,{size:12}),t]})}),(0,W.jsx)(`td`,{style:{...I.td,...I.actionsCell},children:(0,W.jsxs)(`div`,{style:I.actionButtonsSmall,children:[(0,W.jsx)(`button`,{onClick:()=>{y({nombre:e.nombre,descripcion:e.descripcion||``}),_(e.id_rol),p(!0)},style:I.btnEdit,title:`Editar rol`,children:(0,W.jsx)(yr,{size:14})}),(0,W.jsx)(`button`,{onClick:()=>j(e.id_rol),style:I.btnDelete,title:`Eliminar rol`,disabled:t>0,children:(0,W.jsx)(xr,{size:14})})]})})]},e.id_rol)})})]}),N.length===0&&(0,W.jsx)(`div`,{style:I.emptyState,children:(0,W.jsx)(`p`,{children:`No se encontraron roles`})})]})]}),(0,W.jsxs)(`div`,{style:I.tableCard,children:[(0,W.jsxs)(`div`,{style:I.tableHeader,children:[(0,W.jsx)(Mn,{size:20}),(0,W.jsxs)(`h2`,{style:{color:`#7a3b06`,margin:0,fontSize:`18px`},children:[`Cargos (`,P.length,`)`]})]}),(0,W.jsxs)(`div`,{style:I.tableContainer,children:[(0,W.jsxs)(`table`,{style:I.table,children:[(0,W.jsx)(`thead`,{children:(0,W.jsxs)(`tr`,{children:[(0,W.jsx)(`th`,{style:I.th,children:`ID`}),(0,W.jsx)(`th`,{style:I.th,children:`Nombre`}),(0,W.jsx)(`th`,{style:I.th,children:`Descripcin`}),(0,W.jsx)(`th`,{style:I.th,children:`Empleados`}),(0,W.jsx)(`th`,{style:I.th,children:`Acciones`})]})}),(0,W.jsx)(`tbody`,{children:P.map(e=>{let t=i.filter(t=>t.id_cargo===e.id_cargo).length;return(0,W.jsxs)(`tr`,{children:[(0,W.jsx)(`td`,{style:{...I.td,...I.idCell},children:e.id_cargo}),(0,W.jsx)(`td`,{style:{...I.td,fontWeight:`500`},children:e.nombre}),(0,W.jsx)(`td`,{style:{...I.td,...I.descCell},children:e.descripcion||`-`}),(0,W.jsx)(`td`,{style:{...I.td,...I.countCell},children:(0,W.jsxs)(`span`,{style:{...I.badge,...t>0?I.badgeWarning:I.badgeInfo},children:[(0,W.jsx)(Dr,{size:12}),t]})}),(0,W.jsx)(`td`,{style:{...I.td,...I.actionsCell},children:(0,W.jsxs)(`div`,{style:I.actionButtonsSmall,children:[(0,W.jsx)(`button`,{onClick:()=>{x({nombre:e.nombre,descripcion:e.descripcion||``}),_(e.id_cargo),h(!0)},style:I.btnEdit,title:`Editar cargo`,children:(0,W.jsx)(yr,{size:14})}),(0,W.jsx)(`button`,{onClick:()=>te(e.id_cargo),style:I.btnDelete,title:`Eliminar cargo`,disabled:t>0,children:(0,W.jsx)(xr,{size:14})})]})})]},e.id_cargo)})})]}),P.length===0&&(0,W.jsx)(`div`,{style:I.emptyState,children:(0,W.jsx)(`p`,{children:`No se encontraron cargos`})})]})]})]}),(0,W.jsx)(`style`,{children:`
        @keyframes spin {
          from { transform: rotate(0deg); }
          to { transform: rotate(360deg); }
        }
        
        input:focus, textarea:focus {
          outline: none;
          border-color: #7a3b06 !important;
        }
        
        .btn:hover {
          opacity: 0.9;
          transform: translateY(-1px);
        }
        
        .btn:disabled {
          opacity: 0.5;
          cursor: not-allowed;
          transform: none;
        }
        
        .btn-edit:hover, .btn-delete:hover {
          opacity: 0.8;
        }
        
        @media (max-width: 768px) {
          .container {
            padding: 16px;
          }
          .action-buttons {
            flex-direction: column;
          }
          .btn {
            justify-content: center;
          }
          .form-actions {
            flex-direction: column;
          }
          .modal {
            margin: 20px;
          }
        }
      `})]})}function Uc(){let[e,t]=(0,w.useState)([]),[n,r]=(0,w.useState)([]),[i,a]=(0,w.useState)([]),[o,s]=(0,w.useState)(!0),[c,l]=(0,w.useState)(``),[u,d]=(0,w.useState)(``),[f,p]=(0,w.useState)(!1),[m,h]=(0,w.useState)(null),[g,_]=(0,w.useState)(null),[v,y]=(0,w.useState)({monto:``,descripcion:``,id_cargo:``}),[b,x]=(0,w.useState)({}),[S,C]=(0,w.useState)(``),[T,E]=(0,w.useState)(`todos`);(0,w.useEffect)(()=>{O()},[]);let D=(e,t=`error`)=>{t===`success`?(d(e),setTimeout(()=>d(``),4e3)):(l(e),setTimeout(()=>l(``),6e3))},O=async()=>{try{s(!0);let[e,n,i]=await Promise.all([Z.from(`sueldos`).select(`
          *,
          cargos (nombre, descripcion)
        `).order(`id_sueldo`),Z.from(`cargos`).select(`*`).order(`id_cargo`),Z.from(`empleados`).select(`ci, nombre, pat, id_cargo`)]);if(e.error)throw e.error;if(n.error)throw n.error;if(i.error)throw i.error;t(e.data||[]),r(n.data||[]),a(i.data||[])}catch(e){D(`Error al cargar datos: ${e.message}`)}finally{s(!1)}},k=()=>{let t={};if(!v.monto||v.monto.trim()===``)t.monto=`El monto es obligatorio`;else{let e=parseFloat(v.monto);isNaN(e)||e<=0?t.monto=`El monto debe ser un nmero mayor a 0`:e<1500?t.monto=`El monto mnimo es Bs 1,500`:e>8e3&&(t.monto=`El monto mximo es Bs 8,000`)}if(!v.id_cargo)t.id_cargo=`Debe seleccionar un cargo`;else{let n=e.find(e=>e.id_cargo===parseInt(v.id_cargo)&&(!m||e.id_sueldo!==m));n&&(t.id_cargo=`Ya existe un sueldo definido para el cargo: ${n.cargos?.nombre}`)}return v.descripcion&&v.descripcion.length>200&&(t.descripcion=`La descripcin no puede exceder 200 caracteres`),x(t),Object.keys(t).length===0},A=async e=>{e.preventDefault(),_(`guardar`);try{if(!k()){D(`Por favor, corrige los errores en el formulario`),_(null);return}let e={monto:parseFloat(v.monto),descripcion:v.descripcion.trim()||null,id_cargo:parseInt(v.id_cargo)};if(m){let{error:t}=await Z.from(`sueldos`).update(e).eq(`id_sueldo`,m);if(t)throw t;D(`Sueldo actualizado exitosamente`,`success`)}else{let{error:t}=await Z.from(`sueldos`).insert([e]);if(t)throw t;D(`Sueldo creado exitosamente`,`success`)}M(),O()}catch(e){D(e.message)}finally{_(null)}},j=e=>{y({monto:e.monto.toString(),descripcion:e.descripcion||``,id_cargo:e.id_cargo.toString()}),h(e.id_sueldo),p(!0),x({})},ee=async t=>{let n=e.find(e=>e.id_sueldo===t);if(!n)return;let r=i.filter(e=>e.id_cargo===n.id_cargo);if(r.length>0){let e=r.slice(0,3).map(e=>`${e.nombre} ${e.pat}`).join(`, `),t=r.length>3?` y ${r.length-3} ms...`:``;D(`No se puede eliminar. ${r.length} empleado(s) tienen este cargo asignado: ${e}${t}`);return}if(window.confirm(`Ests seguro de eliminar el sueldo de ${n.cargos?.nombre}?`)){_(`delete-${t}`);try{let{error:e}=await Z.from(`sueldos`).delete().eq(`id_sueldo`,t);if(e)throw e;D(`Sueldo eliminado exitosamente`,`success`),O()}catch(e){D(`Error eliminando sueldo: ${e.message}`)}finally{_(null)}}},M=()=>{y({monto:``,descripcion:``,id_cargo:``}),x({}),h(null),p(!1)},te=()=>{C(``),E(`todos`)},N=e.filter(e=>{let t=e.cargos?.nombre?.toLowerCase().includes(S.toLowerCase())||e.descripcion&&e.descripcion.toLowerCase().includes(S.toLowerCase())||e.monto.toString().includes(S),n=T===`todos`||e.id_cargo.toString()===T;return t&&n}),P={totalSueldos:N.length,sueldoPromedio:N.length>0?N.reduce((e,t)=>e+t.monto,0)/N.length:0,sueldoMaximo:N.length>0?Math.max(...N.map(e=>e.monto)):0,sueldoMinimo:N.length>0?Math.min(...N.map(e=>e.monto)):0,totalEmpleadosAfectados:N.reduce((e,t)=>e+i.filter(e=>e.id_cargo===t.id_cargo).length,0)},F=({error:e})=>e?(0,W.jsxs)(`div`,{className:`error-message`,children:[(0,W.jsx)(Bn,{size:12}),(0,W.jsx)(`span`,{children:e})]}):null,I=({message:e})=>e?(0,W.jsxs)(`div`,{className:`success-message`,children:[(0,W.jsx)(Hn,{size:12}),(0,W.jsx)(`span`,{children:e})]}):null;return o?(0,W.jsxs)(`div`,{className:`loading-container`,children:[(0,W.jsx)(tr,{size:32,className:`spinner`}),(0,W.jsx)(`p`,{children:`Cargando datos de sueldos...`})]}):(0,W.jsxs)(`div`,{className:`container`,children:[(0,W.jsx)(`header`,{className:`page-header`,children:(0,W.jsxs)(`div`,{className:`header-content`,children:[(0,W.jsxs)(`div`,{className:`header-title`,children:[(0,W.jsx)(Kn,{size:32}),(0,W.jsxs)(`div`,{children:[(0,W.jsx)(`h1`,{children:`Gestin de Sueldos`}),(0,W.jsx)(`p`,{children:`Administra los sueldos por cargo del personal`})]})]}),(0,W.jsxs)(`button`,{onClick:O,className:`btn btn-secondary`,disabled:o,children:[(0,W.jsx)(fr,{size:16,className:o?`spinner`:``}),`Actualizar`]})]})}),c&&(0,W.jsxs)(`div`,{className:`alert error`,children:[(0,W.jsx)(Cr,{size:20}),(0,W.jsx)(`span`,{children:c}),(0,W.jsx)(`button`,{onClick:()=>l(``),className:`alert-close`,children:(0,W.jsx)(U,{size:16})})]}),u&&(0,W.jsxs)(`div`,{className:`alert success`,children:[(0,W.jsx)(Vn,{size:20}),(0,W.jsx)(`span`,{children:u}),(0,W.jsx)(`button`,{onClick:()=>d(``),className:`alert-close`,children:(0,W.jsx)(U,{size:16})})]}),(0,W.jsx)(`div`,{className:`search-filter-bar`,children:(0,W.jsxs)(`div`,{className:`search-section`,children:[(0,W.jsxs)(`div`,{className:`search-box`,children:[(0,W.jsx)(mr,{size:18}),(0,W.jsx)(`input`,{type:`text`,placeholder:`Buscar por cargo, descripcin o monto...`,value:S,onChange:e=>C(e.target.value),className:`search-input`})]}),(0,W.jsxs)(`select`,{value:T,onChange:e=>E(e.target.value),className:`filter-select`,children:[(0,W.jsx)(`option`,{value:`todos`,children:`Todos los cargos`}),n.map(e=>(0,W.jsx)(`option`,{value:e.id_cargo,children:e.nombre},e.id_cargo))]}),(0,W.jsxs)(`button`,{onClick:te,className:`btn btn-outline`,children:[(0,W.jsx)(U,{size:16}),`Limpiar`]})]})}),(0,W.jsxs)(`div`,{className:`stats-grid`,children:[(0,W.jsxs)(`div`,{className:`stat-card`,children:[(0,W.jsx)(`div`,{className:`stat-icon primary`,children:(0,W.jsx)(Kn,{size:24})}),(0,W.jsxs)(`div`,{className:`stat-info`,children:[(0,W.jsx)(`div`,{className:`stat-value`,children:P.totalSueldos}),(0,W.jsx)(`div`,{className:`stat-label`,children:`Sueldos Definidos`})]})]}),(0,W.jsxs)(`div`,{className:`stat-card`,children:[(0,W.jsx)(`div`,{className:`stat-icon success`,children:(0,W.jsx)(In,{size:24})}),(0,W.jsxs)(`div`,{className:`stat-info`,children:[(0,W.jsx)(`div`,{className:`stat-value`,children:new Intl.NumberFormat(`es-BO`,{style:`currency`,currency:`BOB`}).format(P.sueldoPromedio)}),(0,W.jsx)(`div`,{className:`stat-label`,children:`Promedio`})]})]}),(0,W.jsxs)(`div`,{className:`stat-card`,children:[(0,W.jsx)(`div`,{className:`stat-icon warning`,children:(0,W.jsx)(Sr,{size:24})}),(0,W.jsxs)(`div`,{className:`stat-info`,children:[(0,W.jsx)(`div`,{className:`stat-value`,children:new Intl.NumberFormat(`es-BO`,{style:`currency`,currency:`BOB`}).format(P.sueldoMaximo)}),(0,W.jsx)(`div`,{className:`stat-label`,children:`Mximo`})]})]}),(0,W.jsxs)(`div`,{className:`stat-card`,children:[(0,W.jsx)(`div`,{className:`stat-icon info`,children:(0,W.jsx)(Dr,{size:24})}),(0,W.jsxs)(`div`,{className:`stat-info`,children:[(0,W.jsx)(`div`,{className:`stat-value`,children:P.totalEmpleadosAfectados}),(0,W.jsx)(`div`,{className:`stat-label`,children:`Empleados`})]})]})]}),e.some(e=>e.monto<1500)&&(0,W.jsxs)(`div`,{className:`alert warning`,children:[(0,W.jsx)(Cr,{size:16}),(0,W.jsxs)(`span`,{children:[(0,W.jsx)(`strong`,{children:`Advertencia:`}),` Hay sueldos por debajo del mnimo legal (Bs 1,500)`]})]}),e.some(e=>e.monto>8e3)&&(0,W.jsxs)(`div`,{className:`alert info`,children:[(0,W.jsx)(Sr,{size:16}),(0,W.jsxs)(`span`,{children:[(0,W.jsx)(`strong`,{children:`Informacin:`}),` Hay sueldos que exceden el lmite mximo recomendado (Bs 8,000)`]})]}),(0,W.jsx)(`div`,{className:`action-buttons`,children:(0,W.jsxs)(`button`,{onClick:()=>{M(),p(!0)},className:`btn btn-primary`,children:[(0,W.jsx)(lr,{size:16}),`Nuevo Sueldo`]})}),f&&(0,W.jsx)(`div`,{className:`modal-overlay`,children:(0,W.jsxs)(`div`,{className:`modal`,children:[(0,W.jsxs)(`div`,{className:`modal-header`,children:[(0,W.jsx)(`h3`,{children:m?(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(yr,{size:20}),`Editar Sueldo`]}):(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(lr,{size:20}),`Nuevo Sueldo`]})}),(0,W.jsx)(`button`,{onClick:M,className:`btn-close`,children:(0,W.jsx)(U,{size:20})})]}),(0,W.jsxs)(`form`,{onSubmit:A,className:`form-container`,children:[(0,W.jsxs)(`div`,{className:`form-section`,children:[(0,W.jsxs)(`h4`,{children:[(0,W.jsx)(Kn,{size:16}),`Informacin del Sueldo`]}),(0,W.jsxs)(`div`,{className:`form-row`,children:[(0,W.jsxs)(`div`,{className:`form-group`,children:[(0,W.jsxs)(`label`,{className:`form-label`,children:[`Monto (Bs) *`,b.monto&&(0,W.jsx)(`span`,{className:`error-indicator`,children:`!`})]}),(0,W.jsx)(`input`,{type:`number`,step:`0.01`,min:`1500`,max:`8000`,value:v.monto,onChange:e=>y({...v,monto:e.target.value}),className:`form-input ${b.monto?`error`:``}`,required:!0,placeholder:`1500.00 - 8000.00`}),(0,W.jsx)(F,{error:b.monto}),v.monto&&!b.monto&&(0,W.jsx)(I,{message:` Rango vlido: Bs 1,500 - Bs 8,000`}),(0,W.jsx)(`div`,{className:`input-hint`,children:`Rango permitido: Bs 1,500 - Bs 8,000`})]}),(0,W.jsxs)(`div`,{className:`form-group`,children:[(0,W.jsxs)(`label`,{className:`form-label`,children:[`Cargo *`,b.id_cargo&&(0,W.jsx)(`span`,{className:`error-indicator`,children:`!`})]}),(0,W.jsxs)(`select`,{value:v.id_cargo,onChange:e=>y({...v,id_cargo:e.target.value}),className:`form-input ${b.id_cargo?`error`:``}`,required:!0,children:[(0,W.jsx)(`option`,{value:``,children:`Seleccionar cargo`}),n.map(e=>(0,W.jsx)(`option`,{value:e.id_cargo,children:e.nombre},e.id_cargo))]}),(0,W.jsx)(F,{error:b.id_cargo}),v.id_cargo&&!b.id_cargo&&(0,W.jsx)(I,{message:` Cargo disponible`})]})]}),(0,W.jsxs)(`div`,{className:`form-group`,children:[(0,W.jsxs)(`label`,{className:`form-label`,children:[`Descripcin`,b.descripcion&&(0,W.jsx)(`span`,{className:`error-indicator`,children:`!`})]}),(0,W.jsx)(`textarea`,{value:v.descripcion,onChange:e=>y({...v,descripcion:e.target.value}),className:`form-input ${b.descripcion?`error`:``}`,placeholder:`Descripcin adicional del sueldo (opcional)...`,rows:`3`,maxLength:200}),(0,W.jsxs)(`div`,{className:`input-footer`,children:[(0,W.jsxs)(`span`,{className:`char-count`,children:[v.descripcion?.length||0,`/200`]}),b.descripcion&&(0,W.jsx)(F,{error:b.descripcion})]})]})]}),(0,W.jsxs)(`div`,{className:`form-actions`,children:[(0,W.jsx)(`button`,{type:`submit`,className:`btn btn-success`,disabled:g===`guardar`,children:g===`guardar`?(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(tr,{size:16,className:`spinner`}),m?`Actualizando...`:`Guardando...`]}):(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(pr,{size:16}),m?`Actualizar`:`Guardar`]})}),(0,W.jsx)(`button`,{type:`button`,onClick:M,className:`btn btn-cancel`,children:`Cancelar`})]})]})]})}),(0,W.jsxs)(`div`,{className:`table-card`,children:[(0,W.jsxs)(`div`,{className:`table-header`,children:[(0,W.jsxs)(`div`,{className:`table-title`,children:[(0,W.jsx)(Kn,{size:20}),(0,W.jsxs)(`h2`,{children:[`Sueldos (`,N.length,`)`]})]}),(0,W.jsx)(`div`,{className:`table-actions`,children:(T!==`todos`||S)&&(0,W.jsxs)(`span`,{className:`filter-indicator`,children:[T!==`todos`&&`Cargo: ${n.find(e=>e.id_cargo.toString()===T)?.nombre}`,S&&` | Bsqueda: "${S}"`]})})]}),(0,W.jsxs)(`div`,{className:`table-container`,children:[(0,W.jsxs)(`table`,{children:[(0,W.jsx)(`thead`,{children:(0,W.jsxs)(`tr`,{children:[(0,W.jsx)(`th`,{children:`ID`}),(0,W.jsx)(`th`,{children:`Monto`}),(0,W.jsx)(`th`,{children:`Cargo`}),(0,W.jsx)(`th`,{children:`Empleados`}),(0,W.jsx)(`th`,{children:`Descripcin`}),(0,W.jsx)(`th`,{children:`Estado`}),(0,W.jsx)(`th`,{children:`Acciones`})]})}),(0,W.jsx)(`tbody`,{children:N.map(e=>{let t=i.filter(t=>t.id_cargo===e.id_cargo).length,n=e.monto>=1500&&e.monto<=8e3;return(0,W.jsxs)(`tr`,{children:[(0,W.jsx)(`td`,{className:`id-cell`,children:e.id_sueldo}),(0,W.jsx)(`td`,{className:`amount-cell`,children:(0,W.jsxs)(`div`,{className:`amount-content`,children:[(0,W.jsx)(`strong`,{children:new Intl.NumberFormat(`es-BO`,{style:`currency`,currency:`BOB`}).format(e.monto)}),!n&&(0,W.jsxs)(`div`,{className:`amount-warning`,children:[(0,W.jsx)(Cr,{size:12}),e.monto<1500?`Muy bajo`:`Muy alto`]})]})}),(0,W.jsx)(`td`,{className:`name-cell`,children:(0,W.jsxs)(`div`,{className:`cargo-info`,children:[(0,W.jsx)(`span`,{className:`cargo-name`,children:e.cargos?.nombre||`N/A`}),(0,W.jsxs)(`span`,{className:`cargo-id`,children:[`ID: `,e.id_cargo]})]})}),(0,W.jsx)(`td`,{className:`count-cell`,children:(0,W.jsxs)(`div`,{className:`employee-count ${t>0?`has-employees`:`no-employees`}`,children:[(0,W.jsx)(Dr,{size:14}),(0,W.jsx)(`span`,{children:t}),t>0&&(0,W.jsxs)(`div`,{className:`employee-tooltip`,children:[t,` empleado(s) asignado(s)`]})]})}),(0,W.jsx)(`td`,{className:`desc-cell`,children:e.descripcion?(0,W.jsx)(`div`,{className:`description-text`,title:e.descripcion,children:e.descripcion}):(0,W.jsx)(`span`,{className:`no-description`,children:`-`})}),(0,W.jsx)(`td`,{className:`status-cell`,children:(0,W.jsx)(`div`,{className:`status-badge ${n?`valid`:`invalid`}`,children:n?(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(Hn,{size:12}),`Vlido`]}):(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(Cr,{size:12}),e.monto<1500?`Bajo`:`Alto`]})})}),(0,W.jsx)(`td`,{className:`actions-cell`,children:(0,W.jsxs)(`div`,{className:`action-buttons-small`,children:[(0,W.jsx)(`button`,{onClick:()=>j(e),className:`btn-edit`,title:`Editar sueldo`,children:(0,W.jsx)(yr,{size:14})}),(0,W.jsx)(`button`,{onClick:()=>ee(e.id_sueldo),className:`btn-delete`,disabled:g===`delete-${e.id_sueldo}`||t>0,title:t>0?`No se puede eliminar - ${t} empleado(s) asignado(s)`:`Eliminar sueldo`,children:g===`delete-${e.id_sueldo}`?(0,W.jsx)(tr,{size:14,className:`spinner`}):(0,W.jsx)(xr,{size:14})})]})})]},e.id_sueldo)})})]}),N.length===0&&(0,W.jsxs)(`div`,{className:`empty-state`,children:[(0,W.jsx)(Kn,{size:48}),(0,W.jsx)(`p`,{children:`No se encontraron sueldos`}),(T!==`todos`||S)&&(0,W.jsx)(`button`,{onClick:te,className:`btn btn-outline`,children:`Limpiar filtros`})]})]})]}),(0,W.jsx)(`style`,{jsx:!0,children:`
        .container {
          padding: 20px;
          max-width: 1400px;
          margin: 0 auto;
        }

        .page-header {
          margin-bottom: 30px;
        }

        .header-content {
          display: flex;
          justify-content: space-between;
          align-items: flex-start;
          gap: 20px;
        }

        .header-title {
          display: flex;
          align-items: flex-start;
          gap: 16px;
        }

        .header-title h1 {
          font-size: 28px;
          color: #7a3b06;
          margin-bottom: 4px;
          font-weight: 700;
        }

        .header-title p {
          color: #6d4611;
          font-size: 14px;
          opacity: 0.9;
          margin: 0;
        }

        .loading-container {
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          padding: 60px 20px;
          color: #7a3b06;
        }

        .spinner {
          animation: spin 1s linear infinite;
        }

        @keyframes spin {
          from { transform: rotate(0deg); }
          to { transform: rotate(360deg); }
        }

        .alert {
          display: flex;
          align-items: center;
          gap: 12px;
          padding: 12px 16px;
          border-radius: 8px;
          margin-bottom: 20px;
          font-size: 14px;
        }

        .alert.error {
          background-color: #fee;
          border: 1px solid #f5c6cb;
          color: #721c24;
        }

        .alert.success {
          background-color: #f0fff4;
          border: 1px solid #c3e6cb;
          color: #155724;
        }

        .alert.warning {
          background-color: #fff3cd;
          border: 1px solid #ffeaa7;
          color: #856404;
        }

        .alert.info {
          background-color: #e3f2fd;
          border: 1px solid #bbdefb;
          color: #1976d2;
        }

        .alert-close {
          margin-left: auto;
          background: none;
          border: none;
          cursor: pointer;
          opacity: 0.7;
        }

        .search-filter-bar {
          background: white;
          padding: 20px;
          border-radius: 12px;
          border: 1px solid #e9d8b5;
          margin-bottom: 24px;
        }

        .search-section {
          display: flex;
          gap: 12px;
          align-items: center;
          flex-wrap: wrap;
        }

        .search-box {
          position: relative;
          flex: 1;
          min-width: 300px;
        }

        .search-box svg {
          position: absolute;
          left: 12px;
          top: 50%;
          transform: translateY(-50%);
          color: #6d4611;
        }

        .search-input {
          width: 100%;
          padding: 12px 12px 12px 40px;
          border: 1px solid #e9d8b5;
          border-radius: 8px;
          font-size: 14px;
        }

        .filter-select {
          padding: 12px;
          border: 1px solid #e9d8b5;
          border-radius: 8px;
          font-size: 14px;
          min-width: 200px;
          background: white;
        }

        .btn {
          display: flex;
          align-items: center;
          gap: 8px;
          padding: 12px 20px;
          border: none;
          border-radius: 8px;
          cursor: pointer;
          font-size: 14px;
          font-weight: 500;
          transition: all 0.2s;
        }

        .btn-primary {
          background-color: #7a3b06;
          color: white;
        }

        .btn-secondary {
          background-color: #6d4611;
          color: white;
        }

        .btn-success {
          background-color: #28a745;
          color: white;
        }

        .btn-cancel {
          background-color: #6c757d;
          color: white;
        }

        .btn-outline {
          background: transparent;
          border: 1px solid #7a3b06;
          color: #7a3b06;
        }

        .btn-outline:hover {
          background: #7a3b06;
          color: white;
        }

        .btn:hover {
          opacity: 0.9;
          transform: translateY(-1px);
        }

        .btn:disabled {
          opacity: 0.6;
          cursor: not-allowed;
          transform: none;
        }

        .stats-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
          gap: 16px;
          margin-bottom: 24px;
        }

        .stat-card {
          background: white;
          padding: 20px;
          border-radius: 12px;
          border: 1px solid #e9d8b5;
          display: flex;
          align-items: center;
          gap: 16px;
          transition: transform 0.2s;
        }

        .stat-card:hover {
          transform: translateY(-2px);
        }

        .stat-icon {
          padding: 12px;
          border-radius: 8px;
        }

        .stat-icon.primary {
          background: #f8f5ee;
          color: #7a3b06;
        }

        .stat-icon.success {
          background: #e8f5e8;
          color: #28a745;
        }

        .stat-icon.warning {
          background: #fff3cd;
          color: #856404;
        }

        .stat-icon.info {
          background: #e3f2fd;
          color: #1976d2;
        }

        .stat-value {
          font-size: 20px;
          font-weight: 700;
          color: #7a3b06;
        }

        .stat-label {
          font-size: 12px;
          color: #6d4611;
          opacity: 0.8;
        }

        .action-buttons {
          margin-bottom: 24px;
        }

        .modal-overlay {
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background-color: rgba(0, 0, 0, 0.5);
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 1000;
          padding: 20px;
        }

        .modal {
          background: white;
          border-radius: 12px;
          border: 1px solid #e9d8b5;
          max-width: 600px;
          width: 100%;
          max-height: 90vh;
          overflow-y: auto;
        }

        .modal-header {
          padding: 24px;
          border-bottom: 1px solid #e9d8b5;
          display: flex;
          justify-content: space-between;
          align-items: center;
        }

        .modal-header h3 {
          color: #7a3b06;
          margin: 0;
          font-size: 20px;
          display: flex;
          align-items: center;
          gap: 8px;
        }

        .btn-close {
          background: none;
          border: none;
          cursor: pointer;
          color: #6d4611;
          padding: 5px;
        }

        .form-container {
          padding: 24px;
        }

        .form-section {
          margin-bottom: 24px;
        }

        .form-section h4 {
          color: #7a3b06;
          margin-bottom: 16px;
          font-size: 16px;
          border-bottom: 1px solid #e9d8b5;
          padding-bottom: 8px;
          display: flex;
          align-items: center;
          gap: 8px;
        }

        .form-row {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 16px;
          margin-bottom: 16px;
        }

        .form-group {
          margin-bottom: 16px;
        }

        .form-label {
          display: block;
          margin-bottom: 6px;
          color: #6d4611;
          font-weight: 500;
          display: flex;
          align-items: center;
          gap: 5px;
        }

        .form-input {
          width: 100%;
          padding: 10px;
          border: 1px solid #e9d8b5;
          border-radius: 6px;
          font-size: 14px;
          transition: border-color 0.2s;
        }

        .form-input:focus {
          outline: none;
          border-color: #7a3b06;
        }

        .form-input.error {
          border-color: #dc3545;
          background-color: #fff5f5;
        }

        .error-indicator {
          color: #dc3545;
          font-weight: bold;
        }

        .error-message {
          display: flex;
          align-items: center;
          gap: 6px;
          font-size: 12px;
          margin-top: 4px;
          font-weight: 500;
          color: #dc3545;
        }

        .success-message {
          display: flex;
          align-items: center;
          gap: 6px;
          font-size: 12px;
          margin-top: 4px;
          font-weight: 500;
          color: #28a745;
        }

        .input-hint {
          font-size: 12px;
          color: #6d4611;
          opacity: 0.7;
          margin-top: 4px;
        }

        .input-footer {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-top: 4px;
        }

        .char-count {
          font-size: 12px;
          color: #6d4611;
          opacity: 0.7;
        }

        .form-actions {
          display: flex;
          gap: 12px;
          margin-top: 24px;
          padding-top: 16px;
          border-top: 1px solid #e9d8b5;
        }

        .table-card {
          background: white;
          border-radius: 12px;
          border: 1px solid #e9d8b5;
          overflow: hidden;
        }

        .table-header {
          padding: 20px;
          border-bottom: 1px solid #e9d8b5;
          display: flex;
          align-items: center;
          justify-content: space-between;
          background-color: #f8f5ee;
        }

        .table-title {
          display: flex;
          align-items: center;
          gap: 10px;
        }

        .table-title h2 {
          color: #7a3b06;
          margin: 0;
          font-size: 18px;
        }

        .filter-indicator {
          font-size: 12px;
          color: #6d4611;
          opacity: 0.7;
        }

        .table-container {
          overflow-x: auto;
        }

        table {
          width: 100%;
          border-collapse: collapse;
          min-width: 1000px;
        }

        th {
          padding: 12px;
          text-align: left;
          border: 1px solid #e9d8b5;
          color: #6d4611;
          font-weight: 600;
          background-color: #f8f5ee;
        }

        td {
          padding: 12px;
          border: 1px solid #e9d8b5;
          color: #6d4611;
        }

        .id-cell {
          font-weight: 600;
          color: #7a3b06;
        }

        .amount-cell {
          font-weight: 600;
        }

        .amount-content {
          display: flex;
          flex-direction: column;
          gap: 4px;
        }

        .amount-warning {
          display: flex;
          align-items: center;
          gap: 4px;
          font-size: 11px;
          color: #dc3545;
          font-weight: 500;
        }

        .name-cell {
          font-weight: 500;
        }

        .cargo-info {
          display: flex;
          flex-direction: column;
          gap: 2px;
        }

        .cargo-name {
          font-weight: 600;
          color: #7a3b06;
        }

        .cargo-id {
          font-size: 11px;
          color: #6d4611;
          opacity: 0.7;
        }

        .count-cell {
          text-align: center;
        }

        .employee-count {
          display: inline-flex;
          align-items: center;
          gap: 6px;
          padding: 6px 10px;
          border-radius: 20px;
          font-size: 12px;
          font-weight: 600;
          position: relative;
        }

        .employee-count.has-employees {
          background: #e8f5e8;
          color: #28a745;
        }

        .employee-count.no-employees {
          background: #f8f9fa;
          color: #6c757d;
        }

        .employee-tooltip {
          position: absolute;
          bottom: 100%;
          left: 50%;
          transform: translateX(-50%);
          background: #333;
          color: white;
          padding: 6px 10px;
          border-radius: 4px;
          font-size: 11px;
          white-space: nowrap;
          opacity: 0;
          pointer-events: none;
          transition: opacity 0.2s;
        }

        .employee-count:hover .employee-tooltip {
          opacity: 1;
        }

        .desc-cell {
          max-width: 200px;
        }

        .description-text {
          overflow: hidden;
          text-overflow: ellipsis;
          white-space: nowrap;
        }

        .no-description {
          color: #6c757d;
          font-style: italic;
        }

        .status-cell {
          text-align: center;
        }

        .status-badge {
          display: inline-flex;
          align-items: center;
          gap: 4px;
          padding: 6px 10px;
          border-radius: 12px;
          font-size: 12px;
          font-weight: 600;
        }

        .status-badge.valid {
          background: #e8f5e8;
          color: #28a745;
        }

        .status-badge.invalid {
          background: #fff3cd;
          color: #856404;
        }

        .actions-cell {
          width: 120px;
        }

        .action-buttons-small {
          display: flex;
          gap: 6px;
          justify-content: center;
        }

        .btn-edit,
        .btn-delete {
          display: flex;
          align-items: center;
          justify-content: center;
          padding: 6px 8px;
          border: none;
          border-radius: 4px;
          cursor: pointer;
          transition: all 0.2s;
        }

        .btn-edit {
          background-color: #ffc107;
          color: #7a3b06;
        }

        .btn-delete {
          background-color: #dc3545;
          color: white;
        }

        .btn-edit:hover,
        .btn-delete:hover {
          opacity: 0.8;
        }

        .empty-state {
          padding: 60px 20px;
          text-align: center;
          color: #6d4611;
          opacity: 0.7;
        }

        .empty-state .btn {
          margin-top: 12px;
        }

        @media (max-width: 768px) {
          .container {
            padding: 16px;
          }
          .header-content {
            flex-direction: column;
            align-items: flex-start;
            gap: 16px;
          }
          .search-section {
            flex-direction: column;
          }
          .search-box {
            min-width: auto;
          }
          .form-row {
            grid-template-columns: 1fr;
          }
          .form-actions {
            flex-direction: column;
          }
          .stats-grid {
            grid-template-columns: 1fr 1fr;
          }
          .modal {
            margin: 20px;
          }
          .table-header {
            flex-direction: column;
            align-items: flex-start;
            gap: 10px;
          }
        }

        @media (max-width: 480px) {
          .stats-grid {
            grid-template-columns: 1fr;
          }
          .action-buttons {
            flex-direction: column;
          }
          .action-buttons .btn {
            justify-content: center;
          }
        }
      `})]})}async function Wc(e){let t=new TextEncoder().encode(e),n=await crypto.subtle.digest(`SHA-256`,t);return Array.from(new Uint8Array(n)).map(e=>e.toString(16).padStart(2,`0`)).join(``)}function Gc(){let[e,t]=(0,w.useState)([]),[n,r]=(0,w.useState)([]),[i,a]=(0,w.useState)([]),[o,s]=(0,w.useState)([]),[c,l]=(0,w.useState)([]),[u,d]=(0,w.useState)(!0),[f,p]=(0,w.useState)(``),[m,h]=(0,w.useState)(``),[g,_]=(0,w.useState)(!1),[v,y]=(0,w.useState)(null),[b,x]=(0,w.useState)(`lista`),[S,C]=(0,w.useState)(null),[T,E]=(0,w.useState)(!1),[D,O]=(0,w.useState)(null),[k,A]=(0,w.useState)(!1),[j,ee]=(0,w.useState)({isValid:!1,checks:{length:!1,uppercase:!1,lowercase:!1,number:!1,special:!1}}),[M,te]=(0,w.useState)({ci:``,nombre:``,pat:``,mat:``,fecha_nac:``,id_rol:``,id_cargo:``,email:``,password:``}),[N,P]=(0,w.useState)({}),[F,I]=(0,w.useState)({}),[L,ne]=(0,w.useState)(!1),[R,z]=(0,w.useState)(!1),[B,re]=(0,w.useState)(``),[V,ie]=(0,w.useState)(`todos`),[ae,oe]=(0,w.useState)(`todos`),[se,ce]=(0,w.useState)(!1),le=[{id_cargo:1,nombre:`Gerente`,descripcion:`Responsable de la gestin del establecimiento`},{id_cargo:2,nombre:`Mesero`,descripcion:`Atencin al cliente y servicio de mesa`},{id_cargo:3,nombre:`Parrillero`,descripcion:`Preparacin de alimentos a la parrilla`},{id_cargo:4,nombre:`Limpiador`,descripcion:`Limpieza y mantenimiento del local`},{id_cargo:5,nombre:`Cajero`,descripcion:`Manejo de caja y pagos`},{id_cargo:6,nombre:`Cocinero`,descripcion:`Preparacin de alimentos`},{id_cargo:7,nombre:`Bartender`,descripcion:`Preparacin de bebidas y ccteles`}],ue=[{id_rol:1,nombre:`Administrador`,descripcion:`Acceso completo al sistema`},{id_rol:2,nombre:`Mesero`,descripcion:`Acceso a mdulos de servicio`},{id_rol:3,nombre:`Cajero`,descripcion:`Acceso a mdulos de venta y caja`},{id_rol:4,nombre:`Cocina`,descripcion:`Acceso a mdulos de cocina`},{id_rol:5,nombre:`Usuario`,descripcion:`Acceso bsico al sistema`}];(0,w.useEffect)(()=>{ye()},[]);let de=(e,t)=>{let n=[];return Object.keys(t).forEach(r=>{if(r===`password`&&t[r]===``)return;let i=e[r],a=t[r];if(i!==a){let e=``;switch(r){case`nombre`:e=`Nombre: ${i}  ${a}`;break;case`pat`:e=`Apellido paterno: ${i}  ${a}`;break;case`mat`:e=`Apellido materno: ${i||`N/A`}  ${a||`N/A`}`;break;case`fecha_nac`:e=`Fecha nacimiento: ${new Date(i).toLocaleDateString()}  ${new Date(a).toLocaleDateString()}`;break;case`id_rol`:e=`Rol: ${ue.find(e=>e.id_rol==i)?.nombre||`N/A`}  ${ue.find(e=>e.id_rol==a)?.nombre||`N/A`}`;break;case`id_cargo`:e=`Cargo: ${le.find(e=>e.id_cargo==i)?.nombre||`N/A`}  ${le.find(e=>e.id_cargo==a)?.nombre||`N/A`}`;break;case`email`:e=`Email: ${i||`N/A`}  ${a||`N/A`}`;break;case`password`:e=`Contrasea: Actualizada`;break;default:e=`${r}: ${i}  ${a}`}n.push(e)}}),n},fe=async(e,t,n=null,r=[])=>{try{let i={accion:e,detalles:t,cambios:r.length>0?r:null,ci_empleado:n,fecha:new Date().toISOString(),usuario:`Sistema`},{error:a}=await Z.from(`historial_empleados`).insert([i]);if(a)throw a}catch(e){console.error(`Error registrando en historial:`,e)}},pe=async e=>{try{let{data:t,error:n}=await Z.from(`historial_empleados`).select(`*`).eq(`ci_empleado`,e).order(`fecha`,{ascending:!1});if(n)throw n;return t||[]}catch(e){return console.error(`Error cargando historial del empleado:`,e),[]}},me=async()=>{try{let{data:e,error:t}=await Z.from(`historial_empleados`).select(`*`).order(`fecha`,{ascending:!1}).limit(50);if(t)throw t;l(e||[])}catch(e){console.error(`Error cargando historial:`,e)}},he=e=>{let t={length:e.length>=8,uppercase:/[A-Z]/.test(e),lowercase:/[a-z]/.test(e),number:/[0-9]/.test(e),special:/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(e)},n=Object.values(t).every(e=>e===!0);return ee({isValid:n,checks:t}),n},ge=async e=>{if(!e||e.length<5)return!1;try{ne(!0);let{data:t,error:n}=await Z.from(`empleados`).select(`ci`).eq(`ci`,e).single();return n&&n.code!==`PGRST116`?(console.error(`Error verificando CI:`,n),!1):!!t}catch(e){return console.error(`Error verificando CI:`,e),!1}finally{ne(!1)}},_e=async()=>{let e={};if(M.ci.trim()?M.ci.length<5?e.ci=`El CI debe tener al menos 5 caracteres`:/^\d+$/.test(M.ci)?M.ci.length>15?e.ci=`El CI no puede tener ms de 15 caracteres`:v||await ge(M.ci)&&(e.ci=`Ya existe un empleado con este CI`):e.ci=`El CI debe contener solo nmeros`:e.ci=`El CI es requerido`,M.nombre.trim()?M.nombre.length<2?e.nombre=`El nombre debe tener al menos 2 caracteres`:M.nombre.length>50?e.nombre=`El nombre no puede tener ms de 50 caracteres`:/^[a-zA-Z\s]+$/.test(M.nombre)||(e.nombre=`El nombre solo puede contener letras y espacios`):e.nombre=`El nombre es requerido`,M.pat.trim()?M.pat.length<2?e.pat=`El apellido paterno debe tener al menos 2 caracteres`:M.pat.length>30?e.pat=`El apellido paterno no puede tener ms de 30 caracteres`:/^[a-zA-Z]+$/.test(M.pat)||(e.pat=`El apellido paterno solo puede contener letras`):e.pat=`El apellido paterno es requerido`,M.mat&&M.mat.trim()&&(M.mat.length<2?e.mat=`El apellido materno debe tener al menos 2 caracteres`:M.mat.length>30?e.mat=`El apellido materno no puede tener ms de 30 caracteres`:/^[a-zA-Z]+$/.test(M.mat)||(e.mat=`El apellido materno solo puede contener letras`)),!M.fecha_nac)e.fecha_nac=`La fecha de nacimiento es requerida`;else{let t=new Date(M.fecha_nac),n=new Date,r=n.getFullYear()-t.getFullYear(),i=n.getMonth()-t.getMonth();(i<0||i===0&&n.getDate()<t.getDate())&&r--,t>=n?e.fecha_nac=`La fecha de nacimiento debe ser anterior a hoy`:r<18?e.fecha_nac=`El empleado debe tener al menos 18 aos`:r>100&&(e.fecha_nac=`La edad no puede ser mayor a 100 aos`)}return M.id_cargo||(e.id_cargo=`Debe seleccionar un cargo`),M.id_rol||(e.id_rol=`Debe seleccionar un rol`),M.email&&M.email.trim()&&(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(M.email)?M.email.length>100&&(e.email=`El email no puede tener ms de 100 caracteres`):e.email=`El email no es vlido`),v?M.password&&M.password!==``&&(he(M.password)||(e.password=`La nueva contrasea no cumple con los requisitos de seguridad`)):M.password?he(M.password)||(e.password=`La contrasea no cumple con los requisitos de seguridad`):e.password=`La contrasea es requerida`,I(e),Object.keys(e).length===0},ve=(e,t=`error`)=>{t===`success`?(h(e),setTimeout(()=>h(``),3e3)):(p(e),setTimeout(()=>p(``),5e3))},ye=async()=>{try{d(!0);let[e,n]=await Promise.all([Z.from(`empleados`).select(`
          *,
          roles (nombre, descripcion),
          cargos (nombre, descripcion)
        `).order(`ci`),Z.from(`sueldos`).select(`*`).order(`id_sueldo`)]);if(e.error)throw e.error;if(n.error)throw n.error;a(le),r(ue),t(e.data||[]),s(n.data||[]),await me()}catch(e){ve(`Error al cargar datos: ${e.message}`)}finally{d(!1)}},be=async e=>{if(e.preventDefault(),z(!0),!await _e()){ve(`Por favor, corrige los errores en el formulario`),z(!1);return}try{let e={...M},t=[];if(e.password&&e.password!==``?(e.password=await Wc(e.password),t.push(`Contrasea actualizada`)):v&&delete e.password,v){t=de(N,e);let{error:n}=await Z.from(`empleados`).update(e).eq(`ci`,v);if(n)throw n;await fe(`ACTUALIZACIN`,`Empleado ${M.nombre} ${M.pat} actualizado`,M.ci,t),ve(`Empleado actualizado exitosamente`,`success`)}else{if(await ge(M.ci))throw Error(`Ya existe un empleado con este CI`);let{error:t}=await Z.from(`empleados`).insert([e]);if(t)throw t;await fe(`CREACIN`,`Nuevo empleado creado: ${M.nombre} ${M.pat}`,M.ci,[`Empleado creado con CI: ${M.ci}`]),ve(`Empleado creado exitosamente`,`success`)}De(),ye()}catch(e){ve(e.message)}finally{z(!1)}},xe=e=>{let t={ci:e.ci,nombre:e.nombre,pat:e.pat,mat:e.mat||``,fecha_nac:e.fecha_nac,id_rol:e.id_rol,id_cargo:e.id_cargo,email:e.email||``,password:``};te(t),P(t),y(e.ci),_(!0),ee({isValid:!1,checks:{length:!1,uppercase:!1,lowercase:!1,number:!1,special:!1}}),I({})},Se=e=>{let t=e.target.value;te({...M,password:t}),he(t),F.password&&I(e=>({...e,password:``}))},Ce=async(e,t)=>{te(n=>({...n,[e]:t})),F[e]&&I(t=>({...t,[e]:``})),e===`ci`&&!v&&t.length>=5&&await ge(t)&&I(e=>({...e,ci:`Ya existe un empleado con este CI`}))},we=e=>{C(e),x(`detalle`)},Te=async e=>{let t=await pe(e.ci);O({...e,historial:t}),E(!0)},Ee=async t=>{let n=e.find(e=>e.ci===t);if(n&&window.confirm(`Ests seguro de eliminar al empleado ${n.nombre} ${n.pat} (CI: ${t})?\n\nEsta accin no se puede deshacer.`))try{let{error:e}=await Z.from(`empleados`).delete().eq(`ci`,t);if(e)throw e;await fe(`ELIMINACIN`,`Empleado eliminado: ${n.nombre} ${n.pat}`,t,[`Empleado eliminado del sistema`]),ve(`Empleado eliminado exitosamente`,`success`),ye()}catch(e){ve(`Error eliminando empleado: ${e.message}`)}},De=()=>{te({ci:``,nombre:``,pat:``,mat:``,fecha_nac:``,id_rol:``,id_cargo:``,email:``,password:``}),P({}),y(null),_(!1),A(!1),I({}),ee({isValid:!1,checks:{length:!1,uppercase:!1,lowercase:!1,number:!1,special:!1}})},Oe=e.filter(e=>{let t=e.ci.toLowerCase().includes(B.toLowerCase())||e.nombre.toLowerCase().includes(B.toLowerCase())||e.pat.toLowerCase().includes(B.toLowerCase())||e.mat&&e.mat.toLowerCase().includes(B.toLowerCase())||e.roles?.nombre?.toLowerCase().includes(B.toLowerCase())||e.cargos?.nombre?.toLowerCase().includes(B.toLowerCase()),n=V===`todos`||e.id_cargo?.toString()===V,r=ae===`todos`||e.id_rol?.toString()===ae;return t&&n&&r}),ke=e=>{let t=o.find(t=>t.id_cargo===e);return t?t.monto:0},Ae=e=>{let t=new Date,n=new Date(e),r=t.getFullYear()-n.getFullYear(),i=t.getMonth()-n.getMonth();return(i<0||i===0&&t.getDate()<n.getDate())&&r--,r},je=e.filter(e=>!e.email),Me=({error:e})=>e?(0,W.jsxs)(`div`,{className:`error-message`,children:[(0,W.jsx)(Cr,{size:12}),(0,W.jsx)(`span`,{children:e})]}):null,Ne=({message:e})=>e?(0,W.jsxs)(`div`,{className:`success-message`,children:[(0,W.jsx)(Hn,{size:12}),(0,W.jsx)(`span`,{children:e})]}):null;return u?(0,W.jsxs)(`div`,{className:`loading-container`,children:[(0,W.jsx)(tr,{size:32,className:`spinner`}),(0,W.jsx)(`p`,{children:`Cargando datos del personal...`})]}):(0,W.jsxs)(`div`,{className:`container`,children:[(0,W.jsx)(`header`,{className:`page-header`,children:(0,W.jsxs)(`div`,{className:`header-content`,children:[(0,W.jsxs)(`div`,{className:`header-title`,children:[(0,W.jsx)(Dr,{size:32}),(0,W.jsxs)(`div`,{children:[(0,W.jsx)(`h1`,{children:`Gestin de Personal`}),(0,W.jsx)(`p`,{children:`Administra la informacin de los empleados`})]})]}),(0,W.jsx)(`div`,{className:`header-actions`,children:(0,W.jsxs)(`button`,{onClick:ye,className:`btn btn-secondary`,children:[(0,W.jsx)(fr,{size:16}),`Actualizar`]})})]})}),f&&(0,W.jsxs)(`div`,{className:`alert error`,children:[(0,W.jsx)(Cr,{size:20}),(0,W.jsx)(`span`,{children:f}),(0,W.jsx)(`button`,{onClick:()=>p(``),className:`alert-close`,children:(0,W.jsx)(U,{size:16})})]}),m&&(0,W.jsxs)(`div`,{className:`alert success`,children:[(0,W.jsx)(Vn,{size:20}),(0,W.jsx)(`span`,{children:m}),(0,W.jsx)(`button`,{onClick:()=>h(``),className:`alert-close`,children:(0,W.jsx)(U,{size:16})})]}),b===`detalle`&&S&&(0,W.jsxs)(`div`,{className:`detalle-empleado`,children:[(0,W.jsxs)(`div`,{className:`detalle-header`,children:[(0,W.jsx)(`button`,{onClick:()=>x(`lista`),className:`btn btn-secondary`,children:` Volver a la lista`}),(0,W.jsx)(`h2`,{children:`Detalle del Empleado`})]}),(0,W.jsx)(`div`,{className:`detalle-content`,children:(0,W.jsxs)(`div`,{className:`detalle-card`,children:[(0,W.jsxs)(`div`,{className:`detalle-info`,children:[(0,W.jsxs)(`div`,{className:`info-group`,children:[(0,W.jsx)(er,{size:20}),(0,W.jsxs)(`div`,{children:[(0,W.jsx)(`label`,{children:`CI`}),(0,W.jsx)(`span`,{children:S.ci})]})]}),(0,W.jsxs)(`div`,{className:`info-group`,children:[(0,W.jsx)(Er,{size:20}),(0,W.jsxs)(`div`,{children:[(0,W.jsx)(`label`,{children:`Nombre Completo`}),(0,W.jsxs)(`span`,{children:[S.nombre,` `,S.pat,` `,S.mat]})]})]}),(0,W.jsxs)(`div`,{className:`info-group`,children:[(0,W.jsx)(Fn,{size:20}),(0,W.jsxs)(`div`,{children:[(0,W.jsx)(`label`,{children:`Fecha de Nacimiento`}),(0,W.jsxs)(`span`,{children:[new Date(S.fecha_nac).toLocaleDateString(),`(`,Ae(S.fecha_nac),` aos)`]})]})]}),(0,W.jsxs)(`div`,{className:`info-group`,children:[(0,W.jsx)(Mn,{size:20}),(0,W.jsxs)(`div`,{children:[(0,W.jsx)(`label`,{children:`Cargo`}),(0,W.jsx)(`span`,{children:S.cargos?.nombre||le.find(e=>e.id_cargo===S.id_cargo)?.nombre||`N/A`})]})]}),(0,W.jsxs)(`div`,{className:`info-group`,children:[(0,W.jsx)(_r,{size:20}),(0,W.jsxs)(`div`,{children:[(0,W.jsx)(`label`,{children:`Rol`}),(0,W.jsx)(`span`,{children:S.roles?.nombre||ue.find(e=>e.id_rol===S.id_rol)?.nombre||`N/A`})]})]}),S.email&&(0,W.jsxs)(`div`,{className:`info-group`,children:[(0,W.jsx)(rr,{size:20}),(0,W.jsxs)(`div`,{children:[(0,W.jsx)(`label`,{children:`Email`}),(0,W.jsx)(`span`,{children:S.email})]})]})]}),(0,W.jsxs)(`div`,{className:`detalle-sueldo`,children:[(0,W.jsx)(`h3`,{children:`Informacin Salarial`}),(0,W.jsxs)(`div`,{className:`sueldo-info`,children:[(0,W.jsx)(Kn,{size:24}),(0,W.jsxs)(`div`,{children:[(0,W.jsx)(`span`,{className:`sueldo-monto`,children:new Intl.NumberFormat(`es-BO`,{style:`currency`,currency:`BOB`}).format(ke(S.id_cargo))}),(0,W.jsx)(`span`,{className:`sueldo-label`,children:`Sueldo asignado al cargo`})]})]})]})]})})]}),b===`lista`&&(0,W.jsxs)(W.Fragment,{children:[(0,W.jsxs)(`div`,{className:`search-filter-bar`,children:[(0,W.jsxs)(`div`,{className:`search-section`,children:[(0,W.jsxs)(`div`,{className:`search-box`,children:[(0,W.jsx)(mr,{size:18}),(0,W.jsx)(`input`,{type:`text`,placeholder:`Buscar por CI, nombre, apellido, cargo o rol...`,value:B,onChange:e=>re(e.target.value),className:`search-input`})]}),(0,W.jsxs)(`button`,{onClick:()=>ce(!se),className:`btn btn-outline`,children:[(0,W.jsx)(Zn,{size:16}),`Filtros`]})]}),se&&(0,W.jsx)(`div`,{className:`filter-section`,children:(0,W.jsxs)(`div`,{className:`filter-group`,children:[(0,W.jsxs)(`div`,{className:`filter-item`,children:[(0,W.jsx)(`label`,{className:`filter-label`,children:`Cargo:`}),(0,W.jsxs)(`select`,{value:V,onChange:e=>ie(e.target.value),className:`filter-select`,children:[(0,W.jsx)(`option`,{value:`todos`,children:`Todos los cargos`}),le.map(e=>(0,W.jsx)(`option`,{value:e.id_cargo,children:e.nombre},e.id_cargo))]})]}),(0,W.jsxs)(`div`,{className:`filter-item`,children:[(0,W.jsx)(`label`,{className:`filter-label`,children:`Rol:`}),(0,W.jsxs)(`select`,{value:ae,onChange:e=>oe(e.target.value),className:`filter-select`,children:[(0,W.jsx)(`option`,{value:`todos`,children:`Todos los roles`}),ue.map(e=>(0,W.jsx)(`option`,{value:e.id_rol,children:e.nombre},e.id_rol))]})]}),(0,W.jsx)(`button`,{onClick:()=>{ie(`todos`),oe(`todos`),re(``)},className:`btn btn-outline btn-small`,children:`Limpiar Filtros`})]})})]}),(0,W.jsxs)(`div`,{className:`stats-grid`,children:[(0,W.jsxs)(`div`,{className:`stat-card`,children:[(0,W.jsx)(`div`,{className:`stat-icon primary`,children:(0,W.jsx)(Dr,{size:24})}),(0,W.jsxs)(`div`,{className:`stat-info`,children:[(0,W.jsx)(`div`,{className:`stat-value`,children:Oe.length}),(0,W.jsx)(`div`,{className:`stat-label`,children:`Total Empleados`})]})]}),(0,W.jsxs)(`div`,{className:`stat-card`,children:[(0,W.jsx)(`div`,{className:`stat-icon secondary`,children:(0,W.jsx)(Mn,{size:24})}),(0,W.jsxs)(`div`,{className:`stat-info`,children:[(0,W.jsx)(`div`,{className:`stat-value`,children:[...new Set(Oe.map(e=>e.id_cargo))].length}),(0,W.jsx)(`div`,{className:`stat-label`,children:`Cargos Diferentes`})]})]}),(0,W.jsxs)(`div`,{className:`stat-card`,children:[(0,W.jsx)(`div`,{className:`stat-icon tertiary`,children:(0,W.jsx)(_r,{size:24})}),(0,W.jsxs)(`div`,{className:`stat-info`,children:[(0,W.jsx)(`div`,{className:`stat-value`,children:[...new Set(Oe.map(e=>e.id_rol))].length}),(0,W.jsx)(`div`,{className:`stat-label`,children:`Roles Diferentes`})]})]}),(0,W.jsxs)(`div`,{className:`stat-card`,children:[(0,W.jsx)(`div`,{className:`stat-icon success`,children:(0,W.jsx)(Kn,{size:24})}),(0,W.jsxs)(`div`,{className:`stat-info`,children:[(0,W.jsx)(`div`,{className:`stat-value`,children:new Intl.NumberFormat(`es-BO`,{style:`currency`,currency:`BOB`}).format(Oe.reduce((e,t)=>e+ke(t.id_cargo),0))}),(0,W.jsx)(`div`,{className:`stat-label`,children:`Total en Sueldos`})]})]})]}),e.some(e=>Ae(e.fecha_nac)<18)&&(0,W.jsxs)(`div`,{className:`alert warning`,children:[(0,W.jsx)(gr,{size:16}),(0,W.jsxs)(`span`,{children:[(0,W.jsx)(`strong`,{children:`Advertencia:`}),` Hay empleados menores de 18 aos en el sistema.`]})]}),je.length>0&&(0,W.jsxs)(`div`,{className:`alert info`,children:[(0,W.jsx)(Bn,{size:16}),(0,W.jsxs)(`div`,{children:[(0,W.jsx)(`strong`,{children:`Informacin:`}),` `,je.length,` empleado(s) no tienen email registrado.`]})]}),(0,W.jsxs)(`div`,{className:`action-buttons`,children:[(0,W.jsxs)(`button`,{onClick:()=>{De(),_(!0)},className:`btn btn-primary`,children:[(0,W.jsx)(lr,{size:16}),`Nuevo Empleado`]}),(0,W.jsxs)(`button`,{onClick:()=>E(!0),className:`btn btn-secondary`,children:[(0,W.jsx)(Qn,{size:16}),`Ver Historial`]})]}),g&&(0,W.jsx)(`div`,{className:`modal-overlay`,children:(0,W.jsxs)(`div`,{className:`modal large`,children:[(0,W.jsxs)(`div`,{className:`modal-header`,children:[(0,W.jsx)(`h3`,{children:v?(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(yr,{size:20}),`Editar Empleado`]}):(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(lr,{size:20}),`Nuevo Empleado`]})}),(0,W.jsx)(`button`,{onClick:De,className:`btn-close`,children:(0,W.jsx)(U,{size:20})})]}),(0,W.jsxs)(`form`,{onSubmit:be,className:`form-container`,children:[(0,W.jsxs)(`div`,{className:`form-section`,children:[(0,W.jsxs)(`h4`,{children:[(0,W.jsx)(Er,{size:16}),`Informacin Personal`]}),(0,W.jsxs)(`div`,{className:`form-row`,children:[(0,W.jsxs)(`div`,{className:`form-group`,children:[(0,W.jsxs)(`label`,{className:`form-label`,children:[`CI *`,F.ci&&(0,W.jsx)(`span`,{className:`error-indicator`,children:`!`}),L&&(0,W.jsx)(`span`,{className:`checking-indicator`,children:``})]}),(0,W.jsx)(`input`,{type:`text`,value:M.ci,onChange:e=>Ce(`ci`,e.target.value),className:`form-input ${F.ci?`error`:``} ${L?`checking`:``}`,required:!0,disabled:!!v,placeholder:`Nmero de carnet`,maxLength:15}),(0,W.jsx)(Me,{error:F.ci}),!F.ci&&M.ci.length>=5&&!L&&!v&&(0,W.jsx)(Ne,{message:` CI disponible`})]}),(0,W.jsxs)(`div`,{className:`form-group`,children:[(0,W.jsxs)(`label`,{className:`form-label`,children:[`Fecha Nacimiento *`,F.fecha_nac&&(0,W.jsx)(`span`,{className:`error-indicator`,children:`!`})]}),(0,W.jsx)(`input`,{type:`date`,value:M.fecha_nac,onChange:e=>Ce(`fecha_nac`,e.target.value),className:`form-input ${F.fecha_nac?`error`:``}`,required:!0,max:new Date().toISOString().split(`T`)[0]}),(0,W.jsx)(Me,{error:F.fecha_nac}),M.fecha_nac&&!F.fecha_nac&&(0,W.jsx)(Ne,{message:` Edad: ${Ae(M.fecha_nac)} aos`})]})]}),(0,W.jsxs)(`div`,{className:`form-row`,children:[(0,W.jsxs)(`div`,{className:`form-group`,children:[(0,W.jsxs)(`label`,{className:`form-label`,children:[`Nombre *`,F.nombre&&(0,W.jsx)(`span`,{className:`error-indicator`,children:`!`})]}),(0,W.jsx)(`input`,{type:`text`,value:M.nombre,onChange:e=>Ce(`nombre`,e.target.value),className:`form-input ${F.nombre?`error`:``}`,required:!0,placeholder:`Nombres`,maxLength:50}),(0,W.jsx)(Me,{error:F.nombre})]}),(0,W.jsxs)(`div`,{className:`form-group`,children:[(0,W.jsxs)(`label`,{className:`form-label`,children:[`Apellido Paterno *`,F.pat&&(0,W.jsx)(`span`,{className:`error-indicator`,children:`!`})]}),(0,W.jsx)(`input`,{type:`text`,value:M.pat,onChange:e=>Ce(`pat`,e.target.value),className:`form-input ${F.pat?`error`:``}`,required:!0,placeholder:`Apellido paterno`,maxLength:30}),(0,W.jsx)(Me,{error:F.pat})]}),(0,W.jsxs)(`div`,{className:`form-group`,children:[(0,W.jsxs)(`label`,{className:`form-label`,children:[`Apellido Materno`,F.mat&&(0,W.jsx)(`span`,{className:`error-indicator`,children:`!`})]}),(0,W.jsx)(`input`,{type:`text`,value:M.mat,onChange:e=>Ce(`mat`,e.target.value),className:`form-input ${F.mat?`error`:``}`,placeholder:`Apellido materno`,maxLength:30}),(0,W.jsx)(Me,{error:F.mat})]})]})]}),(0,W.jsxs)(`div`,{className:`form-section`,children:[(0,W.jsxs)(`h4`,{children:[(0,W.jsx)(Mn,{size:16}),`Informacin Laboral`]}),(0,W.jsxs)(`div`,{className:`form-row`,children:[(0,W.jsxs)(`div`,{className:`form-group`,children:[(0,W.jsxs)(`label`,{className:`form-label`,children:[`Cargo *`,F.id_cargo&&(0,W.jsx)(`span`,{className:`error-indicator`,children:`!`})]}),(0,W.jsxs)(`select`,{value:M.id_cargo,onChange:e=>Ce(`id_cargo`,e.target.value),className:`form-input ${F.id_cargo?`error`:``}`,required:!0,children:[(0,W.jsx)(`option`,{value:``,children:`Seleccionar cargo`}),le.map(e=>(0,W.jsxs)(`option`,{value:e.id_cargo,children:[e.nombre,` - `,e.descripcion]},e.id_cargo))]}),(0,W.jsx)(Me,{error:F.id_cargo})]}),(0,W.jsxs)(`div`,{className:`form-group`,children:[(0,W.jsxs)(`label`,{className:`form-label`,children:[`Rol *`,F.id_rol&&(0,W.jsx)(`span`,{className:`error-indicator`,children:`!`})]}),(0,W.jsxs)(`select`,{value:M.id_rol,onChange:e=>Ce(`id_rol`,e.target.value),className:`form-input ${F.id_rol?`error`:``}`,required:!0,children:[(0,W.jsx)(`option`,{value:``,children:`Seleccionar rol`}),ue.map(e=>(0,W.jsxs)(`option`,{value:e.id_rol,children:[e.nombre,` - `,e.descripcion]},e.id_rol))]}),(0,W.jsx)(Me,{error:F.id_rol})]})]})]}),(0,W.jsxs)(`div`,{className:`form-section`,children:[(0,W.jsxs)(`h4`,{children:[(0,W.jsx)(_r,{size:16}),`Informacin de Acceso`]}),(0,W.jsxs)(`div`,{className:`form-row`,children:[(0,W.jsxs)(`div`,{className:`form-group`,children:[(0,W.jsxs)(`label`,{className:`form-label`,children:[`Email`,F.email&&(0,W.jsx)(`span`,{className:`error-indicator`,children:`!`})]}),(0,W.jsx)(`input`,{type:`email`,value:M.email,onChange:e=>Ce(`email`,e.target.value),className:`form-input ${F.email?`error`:``}`,placeholder:`correo@ejemplo.com`,maxLength:100}),(0,W.jsx)(Me,{error:F.email})]}),(0,W.jsxs)(`div`,{className:`form-group`,children:[(0,W.jsxs)(`label`,{className:`form-label`,children:[`Contrasea `,!v&&`*`,F.password&&(0,W.jsx)(`span`,{className:`error-indicator`,children:`!`})]}),(0,W.jsxs)(`div`,{className:`password-input-container`,children:[(0,W.jsx)(`input`,{type:k?`text`:`password`,value:M.password,onChange:Se,className:`form-input ${F.password?`error`:``}`,placeholder:v?`Dejar en blanco para no cambiar`:`Contrasea segura`,maxLength:50,required:!v}),(0,W.jsx)(`button`,{type:`button`,className:`password-toggle`,onClick:()=>A(!k),children:k?(0,W.jsx)(Jn,{size:16}):(0,W.jsx)(Yn,{size:16})})]}),F.password&&(0,W.jsx)(`span`,{className:`error-message`,children:F.password}),M.password&&(0,W.jsxs)(`div`,{className:`password-strength`,children:[(0,W.jsxs)(`div`,{className:`strength-header`,children:[(0,W.jsx)(`span`,{children:`Requisitos de contrasea:`}),(0,W.jsx)(`span`,{className:`strength-status ${j.isValid?`valid`:`invalid`}`,children:j.isValid?` Segura`:` Dbil`})]}),(0,W.jsxs)(`div`,{className:`strength-checks`,children:[(0,W.jsxs)(`div`,{className:`check-item ${j.checks.length?`valid`:`invalid`}`,children:[j.checks.length?``:``,` Mnimo 8 caracteres`]}),(0,W.jsxs)(`div`,{className:`check-item ${j.checks.uppercase?`valid`:`invalid`}`,children:[j.checks.uppercase?``:``,` Una letra mayscula`]}),(0,W.jsxs)(`div`,{className:`check-item ${j.checks.lowercase?`valid`:`invalid`}`,children:[j.checks.lowercase?``:``,` Una letra minscula`]}),(0,W.jsxs)(`div`,{className:`check-item ${j.checks.number?`valid`:`invalid`}`,children:[j.checks.number?``:``,` Un nmero`]}),(0,W.jsxs)(`div`,{className:`check-item ${j.checks.special?`valid`:`invalid`}`,children:[j.checks.special?``:``,` Un carcter especial`]})]})]})]})]})]}),(0,W.jsxs)(`div`,{className:`form-actions`,children:[(0,W.jsx)(`button`,{type:`submit`,className:`btn btn-success`,disabled:R||!v&&M.password&&!j.isValid,children:R?(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(tr,{size:16,className:`spinner`}),v?`Actualizando...`:`Guardando...`]}):(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(pr,{size:16}),v?`Actualizar`:`Guardar`]})}),(0,W.jsx)(`button`,{type:`button`,onClick:De,className:`btn btn-cancel`,disabled:R,children:`Cancelar`})]})]})]})}),T&&!D&&(0,W.jsx)(`div`,{className:`modal-overlay`,children:(0,W.jsxs)(`div`,{className:`modal large`,children:[(0,W.jsxs)(`div`,{className:`modal-header`,children:[(0,W.jsxs)(`h3`,{children:[(0,W.jsx)(Qn,{size:20}),`Historial de Cambios`]}),(0,W.jsx)(`button`,{onClick:()=>E(!1),className:`btn-close`,children:(0,W.jsx)(U,{size:20})})]}),(0,W.jsxs)(`div`,{className:`historial-content`,children:[(0,W.jsxs)(`div`,{className:`historial-stats`,children:[(0,W.jsxs)(`div`,{className:`stat-item`,children:[(0,W.jsx)(`span`,{className:`stat-number`,children:c.length}),(0,W.jsx)(`span`,{className:`stat-label`,children:`Registros totales`})]}),(0,W.jsxs)(`div`,{className:`stat-item`,children:[(0,W.jsx)(`span`,{className:`stat-number`,children:c.filter(e=>e.accion===`CREACIN`).length}),(0,W.jsx)(`span`,{className:`stat-label`,children:`Altas`})]}),(0,W.jsxs)(`div`,{className:`stat-item`,children:[(0,W.jsx)(`span`,{className:`stat-number`,children:c.filter(e=>e.accion===`ACTUALIZACIN`).length}),(0,W.jsx)(`span`,{className:`stat-label`,children:`Modificaciones`})]}),(0,W.jsxs)(`div`,{className:`stat-item`,children:[(0,W.jsx)(`span`,{className:`stat-number`,children:c.filter(e=>e.accion===`ELIMINACIN`).length}),(0,W.jsx)(`span`,{className:`stat-label`,children:`Bajas`})]})]}),(0,W.jsxs)(`div`,{className:`historial-list`,children:[c.map((e,t)=>(0,W.jsxs)(`div`,{className:`historial-item`,children:[(0,W.jsxs)(`div`,{className:`historial-header`,children:[(0,W.jsx)(`span`,{className:`historial-action ${e.accion.toLowerCase()}`,children:e.accion}),(0,W.jsxs)(`span`,{className:`historial-date`,children:[(0,W.jsx)(Wn,{size:12}),new Date(e.fecha).toLocaleString()]})]}),(0,W.jsx)(`div`,{className:`historial-details`,children:e.detalles}),e.cambios&&e.cambios.length>0&&(0,W.jsxs)(`div`,{className:`historial-cambios`,children:[(0,W.jsx)(`strong`,{children:`Cambios realizados:`}),(0,W.jsx)(`ul`,{children:e.cambios.map((e,t)=>(0,W.jsx)(`li`,{children:e},t))})]}),e.ci_empleado&&(0,W.jsxs)(`div`,{className:`historial-ci`,children:[`CI Empleado: `,e.ci_empleado]})]},t)),c.length===0&&(0,W.jsxs)(`div`,{className:`empty-state`,children:[(0,W.jsx)(Qn,{size:48}),(0,W.jsx)(`p`,{children:`No hay registros en el historial`})]})]})]})]})}),T&&D&&(0,W.jsx)(`div`,{className:`modal-overlay`,children:(0,W.jsxs)(`div`,{className:`modal large`,children:[(0,W.jsxs)(`div`,{className:`modal-header`,children:[(0,W.jsxs)(`h3`,{children:[(0,W.jsx)(Xn,{size:20}),`Historial de: `,D.nombre,` `,D.pat]}),(0,W.jsx)(`button`,{onClick:()=>{E(!1),O(null)},className:`btn-close`,children:(0,W.jsx)(U,{size:20})})]}),(0,W.jsxs)(`div`,{className:`historial-content`,children:[(0,W.jsx)(`div`,{className:`empleado-info`,children:(0,W.jsxs)(`div`,{className:`info-row`,children:[(0,W.jsxs)(`span`,{children:[(0,W.jsx)(`strong`,{children:`CI:`}),` `,D.ci]}),(0,W.jsxs)(`span`,{children:[(0,W.jsx)(`strong`,{children:`Cargo:`}),` `,D.cargos?.nombre||`N/A`]}),(0,W.jsxs)(`span`,{children:[(0,W.jsx)(`strong`,{children:`Rol:`}),` `,D.roles?.nombre||`N/A`]})]})}),(0,W.jsxs)(`div`,{className:`historial-stats`,children:[(0,W.jsxs)(`div`,{className:`stat-item`,children:[(0,W.jsx)(`span`,{className:`stat-number`,children:D.historial.length}),(0,W.jsx)(`span`,{className:`stat-label`,children:`Registros`})]}),(0,W.jsxs)(`div`,{className:`stat-item`,children:[(0,W.jsx)(`span`,{className:`stat-number`,children:D.historial.filter(e=>e.accion===`ACTUALIZACIN`).length}),(0,W.jsx)(`span`,{className:`stat-label`,children:`Modificaciones`})]})]}),(0,W.jsxs)(`div`,{className:`historial-list`,children:[D.historial.map((e,t)=>(0,W.jsxs)(`div`,{className:`historial-item`,children:[(0,W.jsxs)(`div`,{className:`historial-header`,children:[(0,W.jsx)(`span`,{className:`historial-action ${e.accion.toLowerCase()}`,children:e.accion}),(0,W.jsxs)(`span`,{className:`historial-date`,children:[(0,W.jsx)(Wn,{size:12}),new Date(e.fecha).toLocaleString()]})]}),(0,W.jsx)(`div`,{className:`historial-details`,children:e.detalles}),e.cambios&&e.cambios.length>0&&(0,W.jsxs)(`div`,{className:`historial-cambios`,children:[(0,W.jsx)(`strong`,{children:`Cambios especficos:`}),(0,W.jsx)(`ul`,{children:e.cambios.map((e,t)=>(0,W.jsx)(`li`,{children:e},t))})]})]},t)),D.historial.length===0&&(0,W.jsxs)(`div`,{className:`empty-state`,children:[(0,W.jsx)(Qn,{size:48}),(0,W.jsx)(`p`,{children:`No hay registros en el historial de este empleado`})]})]})]})]})}),(0,W.jsxs)(`div`,{className:`table-card`,children:[(0,W.jsxs)(`div`,{className:`table-header`,children:[(0,W.jsxs)(`div`,{className:`table-title`,children:[(0,W.jsx)(Dr,{size:20}),(0,W.jsxs)(`h2`,{children:[`Personal (`,Oe.length,`)`]})]}),(0,W.jsx)(`div`,{className:`table-actions`,children:(V!==`todos`||ae!==`todos`)&&(0,W.jsxs)(`span`,{className:`filter-indicator`,children:[V!==`todos`&&`Cargo: ${le.find(e=>e.id_cargo.toString()===V)?.nombre}`,ae!==`todos`&&` | Rol: ${ue.find(e=>e.id_rol.toString()===ae)?.nombre}`]})})]}),(0,W.jsxs)(`div`,{className:`table-container`,children:[(0,W.jsxs)(`table`,{children:[(0,W.jsx)(`thead`,{children:(0,W.jsxs)(`tr`,{children:[(0,W.jsx)(`th`,{children:`CI`}),(0,W.jsx)(`th`,{children:`Nombre Completo`}),(0,W.jsx)(`th`,{children:`Edad`}),(0,W.jsx)(`th`,{children:`Cargo`}),(0,W.jsx)(`th`,{children:`Rol`}),(0,W.jsx)(`th`,{children:`Sueldo`}),(0,W.jsx)(`th`,{children:`Acciones`})]})}),(0,W.jsx)(`tbody`,{children:Oe.map(e=>(0,W.jsxs)(`tr`,{children:[(0,W.jsx)(`td`,{className:`id-cell`,children:e.ci}),(0,W.jsxs)(`td`,{className:`name-cell`,children:[(0,W.jsx)(`strong`,{children:e.nombre}),(0,W.jsx)(`br`,{}),(0,W.jsxs)(`small`,{children:[e.pat,` `,e.mat]}),!e.email&&(0,W.jsxs)(`div`,{className:`sin-email-indicator`,children:[(0,W.jsx)(rr,{size:12}),`Sin email`]})]}),(0,W.jsxs)(`td`,{className:`age-cell`,children:[Ae(e.fecha_nac),` aos`]}),(0,W.jsx)(`td`,{className:`cargo-cell`,children:e.cargos?.nombre||le.find(t=>t.id_cargo===e.id_cargo)?.nombre||`N/A`}),(0,W.jsx)(`td`,{className:`rol-cell`,children:e.roles?.nombre||ue.find(t=>t.id_rol===e.id_rol)?.nombre||`N/A`}),(0,W.jsx)(`td`,{className:`sueldo-cell`,children:new Intl.NumberFormat(`es-BO`,{style:`currency`,currency:`BOB`}).format(ke(e.id_cargo))}),(0,W.jsx)(`td`,{className:`actions-cell`,children:(0,W.jsxs)(`div`,{className:`action-buttons-small`,children:[(0,W.jsx)(`button`,{onClick:()=>we(e),className:`btn-view`,title:`Ver detalles`,children:(0,W.jsx)(Yn,{size:14})}),(0,W.jsx)(`button`,{onClick:()=>Te(e),className:`btn-info`,title:`Ver historial`,children:(0,W.jsx)(Qn,{size:14})}),(0,W.jsx)(`button`,{onClick:()=>xe(e),className:`btn-edit`,title:`Editar empleado`,children:(0,W.jsx)(yr,{size:14})}),(0,W.jsx)(`button`,{onClick:()=>Ee(e.ci),className:`btn-delete`,title:`Eliminar empleado`,children:(0,W.jsx)(xr,{size:14})})]})})]},e.ci))})]}),Oe.length===0&&(0,W.jsxs)(`div`,{className:`empty-state`,children:[(0,W.jsx)(Dr,{size:48}),(0,W.jsx)(`p`,{children:`No se encontraron empleados`}),(V!==`todos`||ae!==`todos`||B)&&(0,W.jsx)(`button`,{className:`btn btn-outline`,onClick:()=>{ie(`todos`),oe(`todos`),re(``)},children:`Limpiar filtros`})]})]})]})]}),(0,W.jsx)(`style`,{jsx:!0,children:`
        .container {
          padding: 20px;
          max-width: 1400px;
          margin: 0 auto;
        }

        .page-header {
          margin-bottom: 30px;
        }

        .header-content {
          display: flex;
          justify-content: space-between;
          align-items: center;
        }

        .header-title {
          display: flex;
          align-items: center;
          gap: 16px;
        }

        .header-title h1 {
          font-size: 28px;
          color: #7a3b06;
          margin-bottom: 4px;
          font-weight: 700;
        }

        .header-title p {
          color: #6d4611;
          font-size: 14px;
          opacity: 0.9;
        }

        .loading-container {
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          padding: 60px 20px;
          color: #7a3b06;
        }

        .spinner {
          animation: spin 1s linear infinite;
        }

        @keyframes spin {
          from { transform: rotate(0deg); }
          to { transform: rotate(360deg); }
        }

        .alert {
          display: flex;
          align-items: center;
          gap: 12px;
          padding: 12px 16px;
          border-radius: 8px;
          margin-bottom: 20px;
          font-size: 14px;
        }

        .alert.error {
          background-color: #fee;
          border: 1px solid #f5c6cb;
          color: #721c24;
        }

        .alert.success {
          background-color: #f0fff4;
          border: 1px solid #c3e6cb;
          color: #155724;
        }

        .alert.warning {
          background-color: #fff3cd;
          border: 1px solid #ffeaa7;
          color: #856404;
        }

        .alert.info {
          background-color: #e3f2fd;
          border: 1px solid #bbdefb;
          color: #1976d2;
        }

        .alert-close {
          margin-left: auto;
          background: none;
          border: none;
          cursor: pointer;
          opacity: 0.7;
        }

        .detalle-empleado {
          background: white;
          border-radius: 12px;
          border: 1px solid #e9d8b5;
          overflow: hidden;
        }

        .detalle-header {
          padding: 20px;
          border-bottom: 1px solid #e9d8b5;
          background-color: #f8f5ee;
          display: flex;
          align-items: center;
          gap: 20px;
        }

        .detalle-header h2 {
          color: #7a3b06;
          margin: 0;
        }

        .detalle-content {
          padding: 30px;
        }

        .detalle-card {
          display: grid;
          grid-template-columns: 2fr 1fr;
          gap: 30px;
        }

        .detalle-info {
          display: flex;
          flex-direction: column;
          gap: 20px;
        }

        .info-group {
          display: flex;
          align-items: flex-start;
          gap: 15px;
          padding: 15px;
          background: #f8f5ee;
          border-radius: 8px;
        }

        .info-group svg {
          color: #7a3b06;
          margin-top: 2px;
        }

        .info-group label {
          display: block;
          font-size: 12px;
          color: #6d4611;
          opacity: 0.8;
          margin-bottom: 4px;
        }

        .info-group span {
          display: block;
          font-weight: 500;
          color: #7a3b06;
        }

        .detalle-sueldo {
          background: #e8f5e8;
          padding: 20px;
          border-radius: 8px;
          border: 1px solid #c3e6cb;
        }

        .detalle-sueldo h3 {
          color: #155724;
          margin-bottom: 15px;
          font-size: 16px;
        }

        .sueldo-info {
          display: flex;
          align-items: center;
          gap: 15px;
        }

        .sueldo-info svg {
          color: #28a745;
        }

        .sueldo-monto {
          display: block;
          font-size: 24px;
          font-weight: 700;
          color: #155724;
        }

        .sueldo-label {
          font-size: 12px;
          color: #6d4611;
          opacity: 0.8;
        }

        .search-filter-bar {
          background: white;
          padding: 20px;
          border-radius: 12px;
          border: 1px solid #e9d8b5;
          margin-bottom: 24px;
        }

        .search-section {
          display: flex;
          gap: 12px;
          align-items: center;
        }

        .search-box {
          position: relative;
          flex: 1;
        }

        .search-box svg {
          position: absolute;
          left: 12px;
          top: 50%;
          transform: translateY(-50%);
          color: #6d4611;
        }

        .search-input {
          width: 100%;
          padding: 12px 12px 12px 40px;
          border: 1px solid #e9d8b5;
          border-radius: 8px;
          font-size: 14px;
        }

        .filter-section {
          margin-top: 16px;
          padding-top: 16px;
          border-top: 1px solid #e9d8b5;
        }

        .filter-group {
          display: flex;
          gap: 16px;
          align-items: end;
          flex-wrap: wrap;
        }

        .filter-item {
          display: flex;
          flex-direction: column;
          gap: 4px;
        }

        .filter-label {
          font-size: 12px;
          color: #6d4611;
          font-weight: 500;
        }

        .filter-select {
          padding: 10px 12px;
          border: 1px solid #e9d8b5;
          border-radius: 6px;
          font-size: 14px;
          min-width: 180px;
          background: white;
        }

        .btn-small {
          padding: 8px 12px;
          font-size: 12px;
        }

        .btn-outline {
          background: transparent;
          border: 1px solid #7a3b06;
          color: #7a3b06;
        }

        .btn-outline:hover {
          background: #7a3b06;
          color: white;
        }

        .stats-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
          gap: 16px;
          margin-bottom: 24px;
        }

        .stat-card {
          background: white;
          padding: 20px;
          border-radius: 12px;
          border: 1px solid #e9d8b5;
          display: flex;
          align-items: center;
          gap: 16px;
          transition: transform 0.2s;
        }

        .stat-card:hover {
          transform: translateY(-2px);
        }

        .stat-icon {
          padding: 12px;
          border-radius: 8px;
        }

        .stat-icon.primary {
          background: #f8f5ee;
          color: #7a3b06;
        }

        .stat-icon.secondary {
          background: #e3f2fd;
          color: #1976d2;
        }

        .stat-icon.tertiary {
          background: #f3e5f5;
          color: #7b1fa2;
        }

        .stat-icon.success {
          background: #e8f5e8;
          color: #28a745;
        }

        .stat-value {
          font-size: 20px;
          font-weight: 700;
          color: #7a3b06;
        }

        .stat-label {
          font-size: 12px;
          color: #6d4611;
          opacity: 0.8;
        }

        .action-buttons {
          display: flex;
          gap: 12px;
          margin-bottom: 24px;
        }

        .btn {
          display: flex;
          align-items: center;
          gap: 8px;
          padding: 12px 20px;
          border: none;
          border-radius: 8px;
          cursor: pointer;
          font-size: 14px;
          font-weight: 500;
          transition: all 0.2s;
        }

        .btn-primary {
          background-color: #7a3b06;
          color: white;
        }

        .btn-secondary {
          background-color: #6d4611;
          color: white;
        }

        .btn-success {
          background-color: #28a745;
          color: white;
        }

        .btn-cancel {
          background-color: #6c757d;
          color: white;
        }

        .btn-info {
          background-color: #17a2b8;
          color: white;
        }

        .btn:hover {
          opacity: 0.9;
          transform: translateY(-1px);
        }

        .btn:disabled {
          opacity: 0.6;
          cursor: not-allowed;
          transform: none;
        }

        .modal-overlay {
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background-color: rgba(0, 0, 0, 0.5);
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 1000;
          padding: 20px;
        }

        .modal {
          background: white;
          border-radius: 12px;
          border: 1px solid #e9d8b5;
          max-width: 800px;
          width: 100%;
          max-height: 90vh;
          overflow-y: auto;
        }

        .modal.large {
          max-width: 800px;
        }

        .modal-header {
          padding: 24px;
          border-bottom: 1px solid #e9d8b5;
          display: flex;
          justify-content: space-between;
          align-items: center;
        }

        .modal-header h3 {
          color: #7a3b06;
          margin: 0;
          font-size: 20px;
          display: flex;
          align-items: center;
          gap: 8px;
        }

        .btn-close {
          background: none;
          border: none;
          cursor: pointer;
          color: #6d4611;
          padding: 5px;
        }

        .form-container {
          padding: 24px;
        }

        .form-section {
          margin-bottom: 24px;
        }

        .form-section h4 {
          color: #7a3b06;
          margin-bottom: 16px;
          font-size: 16px;
          border-bottom: 1px solid #e9d8b5;
          padding-bottom: 8px;
          display: flex;
          align-items: center;
          gap: 8px;
        }

        .form-row {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
          gap: 16px;
          margin-bottom: 16px;
        }

        .form-group {
          margin-bottom: 16px;
        }

        .form-label {
          display: block;
          margin-bottom: 6px;
          color: #6d4611;
          font-weight: 500;
          display: flex;
          align-items: center;
          gap: 5px;
        }

        .form-input {
          width: 100%;
          padding: 10px;
          border: 1px solid #e9d8b5;
          border-radius: 6px;
          font-size: 14px;
          transition: border-color 0.2s;
        }

        .form-input:focus {
          outline: none;
          border-color: #7a3b06;
        }

        .form-input.error {
          border-color: #dc3545;
          background-color: #fff5f5;
        }

        .form-input.checking {
          border-color: #ffc107;
          background-color: #fffbf0;
        }

        .error-indicator {
          color: #dc3545;
          font-weight: bold;
        }

        .checking-indicator {
          color: #ffc107;
          font-weight: bold;
          animation: pulse 1.5s infinite;
        }

        @keyframes pulse {
          0% { opacity: 1; }
          50% { opacity: 0.5; }
          100% { opacity: 1; }
        }

        .error-message {
          color: #dc3545;
          font-size: 12px;
          margin-top: 4px;
          display: block;
        }

        .success-message {
          color: #28a745;
          font-size: 12px;
          margin-top: 4px;
          display: block;
          font-weight: 500;
        }

        .form-actions {
          display: flex;
          gap: 12px;
          margin-top: 24px;
          padding-top: 16px;
          border-top: 1px solid #e9d8b5;
        }

        .password-input-container {
          position: relative;
        }

        .password-input-container input {
          padding-right: 40px;
          width: 100%;
        }

        .password-toggle {
          position: absolute;
          right: 10px;
          top: 50%;
          transform: translateY(-50%);
          background: none;
          border: none;
          cursor: pointer;
          color: #6d4611;
          opacity: 0.7;
          padding: 4px;
        }

        .password-toggle:hover {
          opacity: 1;
        }

        .password-strength {
          margin-top: 10px;
          padding: 12px;
          background: #f8f9fa;
          border-radius: 6px;
          border: 1px solid #e9d8b5;
        }

        .strength-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 8px;
          font-size: 12px;
          font-weight: 500;
        }

        .strength-status.valid {
          color: #28a745;
          font-weight: 600;
        }

        .strength-status.invalid {
          color: #dc3545;
          font-weight: 600;
        }

        .strength-checks {
          display: flex;
          flex-direction: column;
          gap: 4px;
        }

        .check-item {
          font-size: 11px;
          display: flex;
          align-items: center;
          gap: 4px;
        }

        .check-item.valid {
          color: #28a745;
        }

        .check-item.invalid {
          color: #6c757d;
        }

        .table-card {
          background: white;
          border-radius: 12px;
          border: 1px solid #e9d8b5;
          overflow: hidden;
        }

        .table-header {
          padding: 20px;
          border-bottom: 1px solid #e9d8b5;
          display: flex;
          align-items: center;
          justify-content: space-between;
          background-color: #f8f5ee;
        }

        .table-title {
          display: flex;
          align-items: center;
          gap: 10px;
        }

        .table-header h2 {
          color: #7a3b06;
          margin: 0;
          font-size: 18px;
        }

        .filter-indicator {
          font-size: 12px;
          color: #6d4611;
          opacity: 0.7;
        }

        .table-container {
          overflow-x: auto;
        }

        table {
          width: 100%;
          border-collapse: collapse;
          min-width: 1000px;
        }

        th {
          padding: 12px;
          text-align: left;
          border: 1px solid #e9d8b5;
          color: #6d4611;
          font-weight: 600;
          background-color: #f8f5ee;
        }

        td {
          padding: 12px;
          border: 1px solid #e9d8b5;
          color: #6d4611;
        }

        .id-cell {
          font-weight: 600;
          color: #7a3b06;
        }

        .name-cell strong {
          display: block;
          color: #7a3b06;
        }

        .name-cell small {
          color: #6d4611;
          opacity: 0.8;
        }

        .age-cell, .cargo-cell, .rol-cell {
          font-weight: 500;
        }

        .sueldo-cell {
          font-weight: 600;
          color: #28a745;
        }

        .actions-cell {
          width: 120px;
        }

        .action-buttons-small {
          display: flex;
          gap: 6px;
          justify-content: center;
        }

        .btn-view,
        .btn-edit,
        .btn-delete,
        .btn-info {
          display: flex;
          align-items: center;
          justify-content: center;
          padding: 6px 8px;
          border: none;
          border-radius: 4px;
          cursor: pointer;
          transition: all 0.2s;
        }

        .btn-view {
          background-color: #17a2b8;
          color: white;
        }

        .btn-info {
          background-color: #6f42c1;
          color: white;
        }

        .btn-edit {
          background-color: #ffc107;
          color: #7a3b06;
        }

        .btn-delete {
          background-color: #dc3545;
          color: white;
        }

        .btn-view:hover,
        .btn-info:hover,
        .btn-edit:hover,
        .btn-delete:hover {
          opacity: 0.8;
        }

        .empty-state {
          padding: 40px 20px;
          text-align: center;
          color: #6d4611;
          opacity: 0.7;
        }

        .sin-email-indicator {
          display: flex;
          align-items: center;
          gap: 4px;
          font-size: 10px;
          color: #dc3545;
          margin-top: 4px;
          padding: 2px 6px;
          background: #fff5f5;
          border-radius: 4px;
          width: fit-content;
        }

        .historial-content {
          padding: 20px;
        }

        .historial-stats {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
          gap: 16px;
          margin-bottom: 24px;
          padding: 16px;
          background: #f8f5ee;
          border-radius: 8px;
        }

        .stat-item {
          text-align: center;
          padding: 12px;
          background: white;
          border-radius: 6px;
          border: 1px solid #e9d8b5;
        }

        .stat-number {
          display: block;
          font-size: 24px;
          font-weight: 700;
          color: #7a3b06;
        }

        .stat-label {
          font-size: 12px;
          color: #6d4611;
          opacity: 0.8;
        }

        .historial-list {
          max-height: 400px;
          overflow-y: auto;
        }

        .historial-item {
          padding: 16px;
          margin-bottom: 12px;
          background: white;
          border: 1px solid #e9d8b5;
          border-radius: 8px;
        }

        .historial-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 8px;
        }

        .historial-action {
          padding: 4px 8px;
          border-radius: 4px;
          font-size: 12px;
          font-weight: 600;
          text-transform: uppercase;
        }

        .historial-action.creacin {
          background: #e8f5e8;
          color: #28a745;
        }

        .historial-action.actualizacin {
          background: #fff3cd;
          color: #ffc107;
        }

        .historial-action.eliminacin {
          background: #f8d7da;
          color: #dc3545;
        }

        .historial-date {
          display: flex;
          align-items: center;
          gap: 4px;
          font-size: 12px;
          color: #6d4611;
          opacity: 0.7;
        }

        .historial-details {
          font-size: 14px;
          color: #7a3b06;
          margin-bottom: 4px;
        }

        .historial-ci {
          font-size: 12px;
          color: #6d4611;
          opacity: 0.7;
        }

        .error-message, .success-message {
          display: flex;
          align-items: center;
          gap: 6px;
          font-size: 12px;
          margin-top: 4px;
          font-weight: 500;
        }

        .error-message {
          color: #dc3545;
        }

        .success-message {
          color: #28a745;
        }

        .historial-cambios {
          margin-top: 8px;
          padding: 8px;
          background: #f8f9fa;
          border-radius: 4px;
          border-left: 3px solid #6c757d;
        }

        .historial-cambios ul {
          margin: 4px 0 0 0;
          padding-left: 16px;
        }

        .historial-cambios li {
          font-size: 12px;
          color: #495057;
          margin-bottom: 2px;
        }

        .empleado-info {
          padding: 16px;
          background: #f8f5ee;
          border-radius: 8px;
          margin-bottom: 16px;
        }

        .info-row {
          display: flex;
          gap: 20px;
          flex-wrap: wrap;
        }

        .info-row span {
          font-size: 14px;
          color: #7a3b06;
        }

        @media (max-width: 768px) {
          .container {
            padding: 16px;
          }
          .header-content {
            flex-direction: column;
            align-items: flex-start;
            gap: 16px;
          }
          .search-section {
            flex-direction: column;
          }
          .filter-group {
            flex-direction: column;
            align-items: stretch;
          }
          .filter-item {
            width: 100%;
          }
          .filter-select {
            min-width: auto;
            width: 100%;
          }
          .detalle-card {
            grid-template-columns: 1fr;
          }
          .form-actions {
            flex-direction: column;
          }
          .stats-grid {
            grid-template-columns: 1fr;
          }
          .modal {
            margin: 20px;
          }
          .modal.large {
            max-width: calc(100vw - 40px);
          }
          .table-header {
            flex-direction: column;
            align-items: flex-start;
            gap: 10px;
          }
          .historial-stats {
            grid-template-columns: 1fr 1fr;
          }
          .historial-header {
            flex-direction: column;
            align-items: flex-start;
            gap: 8px;
          }
          .action-buttons {
            flex-direction: column;
          }
          .action-buttons .btn {
            justify-content: center;
          }
          .info-row {
            flex-direction: column;
            gap: 8px;
          }
        }
      `})]})}function Kc(){let[e,t]=(0,w.useState)([]),[n,r]=(0,w.useState)([]),[i,a]=(0,w.useState)([]),[o,s]=(0,w.useState)([]),[c,l]=(0,w.useState)([]),[u,d]=(0,w.useState)(!0),[f,p]=(0,w.useState)(``),[m,h]=(0,w.useState)(``),[g,_]=(0,w.useState)(!1),[v,y]=(0,w.useState)(!1),[b,x]=(0,w.useState)(null),[S,C]=(0,w.useState)(`lista`),[T,E]=(0,w.useState)(null),[D,O]=(0,w.useState)(`entrada`),[k,A]=(0,w.useState)({id_producto:``,fecha:new Date().toISOString().split(`T`)[0],observaciones:``,entradas:0,salidas:0,stock_minimo:0,stock_maximo:0}),[j,ee]=(0,w.useState)({nombre:``,descripcion:``,precio:``,fecha_vencimiento:``,id_categoriaproducto:``}),[M,te]=(0,w.useState)(``),[N,P]=(0,w.useState)(`todos`),[F,I]=(0,w.useState)(`todos`),[L,ne]=(0,w.useState)({}),[R,z]=(0,w.useState)({}),[B,re]=(0,w.useState)(!1);(0,w.useEffect)(()=>{ie()},[]);let V=(e,t=`error`)=>{t===`success`?(h(e),setTimeout(()=>h(``),3e3)):(p(e),setTimeout(()=>p(``),5e3))},ie=async()=>{try{d(!0);let[e,n,i,o,c]=await Promise.all([Z.from(`inventario`).select(`
          *,
          productos (
            id_producto,
            nombre,
            descripcion,
            precio,
            fecha_vencimiento,
            categoria_productos (
              id_categoriaproducto,
              nombre,
              tipo
            )
          )
        `).order(`fecha`,{ascending:!1}),Z.from(`productos`).select(`
          *,
          categoria_productos (
            nombre,
            tipo
          )
        `),Z.from(`categoria_productos`).select(`*`),Z.from(`pedidos`).select(`
          *,
          pedido_producto (
            id_producto,
            cantidad
          )
        `),Z.from(`ventas`).select(`
          *,
          pedidos (
            pedido_producto (
              id_producto,
              cantidad
            )
          )
        `)]);if(e.error)throw e.error;if(n.error)throw n.error;if(i.error)throw i.error;o.error&&console.warn(`Error cargando pedidos:`,o.error),c.error&&console.warn(`Error cargando ventas:`,c.error),t(e.data||[]),r(n.data||[]),a(i.data||[]),s(o.data||[]),l(c.data||[])}catch(e){V(`Error al cargar datos: ${e.message}`)}finally{d(!1)}},ae=e=>{if(!e)return!0;let t=new Date;return t.setHours(0,0,0,0),new Date(e)>=t},oe=e=>{if(!e.fecha_vencimiento)return!1;let t=new Date;return t.setHours(0,0,0,0),new Date(e.fecha_vencimiento)<t},se=e=>{let t={};return e.nombre.trim()?e.nombre.trim().length<2?t.nombre=`El nombre debe tener al menos 2 caracteres`:e.nombre.trim().length>100&&(t.nombre=`El nombre no puede exceder 100 caracteres`):t.nombre=`El nombre del producto es requerido`,!e.precio||parseFloat(e.precio)<=0?t.precio=`El precio debe ser mayor a 0`:parseFloat(e.precio)>1e6&&(t.precio=`El precio no puede ser mayor a 1,000,000 BOB`),e.id_categoriaproducto||(t.id_categoriaproducto=`Debe seleccionar una categora`),e.fecha_vencimiento&&!ae(e.fecha_vencimiento)&&(t.fecha_vencimiento=`La fecha de vencimiento no puede ser anterior a hoy`),e.descripcion&&e.descripcion.length>500&&(t.descripcion=`La descripcin no puede exceder 500 caracteres`),t},ce=e=>{let t={};if(e.id_producto||(t.id_producto=`Debe seleccionar un producto`),!e.fecha)t.fecha=`La fecha es requerida`;else{let n=new Date(e.fecha),r=new Date;r.setHours(0,0,0,0),n>r&&(t.fecha=`La fecha no puede ser futura`)}let r=parseInt(e.entradas)||0,i=parseInt(e.salidas)||0;if(r<0&&(t.entradas=`Las entradas no pueden ser negativas`),i<0&&(t.salidas=`Las salidas no pueden ser negativas`),r===0&&i===0&&(t.entradas=`Debe registrar al menos una entrada o salida`,t.salidas=`Debe registrar al menos una entrada o salida`),i>0&&e.id_producto){let r=le(parseInt(e.id_producto));i>r&&(t.salidas=`No hay suficiente stock. Disponible: ${r}`);let a=n.find(t=>t.id_producto===parseInt(e.id_producto));a&&oe(a)&&(t.salidas=`No se pueden vender productos vencidos`)}let a=parseInt(e.stock_minimo)||0,o=parseInt(e.stock_maximo)||0;return a<0&&(t.stock_minimo=`El stock mnimo no puede ser negativo`),o<0&&(t.stock_maximo=`El stock mximo no puede ser negativo`),o>0&&a>o&&(t.stock_minimo=`El stock mnimo no puede ser mayor al stock mximo`,t.stock_maximo=`El stock mximo no puede ser menor al stock mnimo`),r>1e4&&(t.entradas=`Las entradas no pueden ser mayores a 10,000 unidades`),i>1e4&&(t.salidas=`Las salidas no pueden ser mayores a 10,000 unidades`),t},le=t=>{let n=e.filter(e=>e.id_producto===t);return n.reduce((e,t)=>e+(t.entradas||0),0)-n.reduce((e,t)=>e+(t.salidas||0),0)},ue=t=>{let n=e.filter(e=>e.id_producto===t).sort((e,t)=>new Date(t.fecha)-new Date(e.fecha));return n.length>0?{stock_minimo:n[0].stock_minimo||0,stock_maximo:n[0].stock_maximo||0}:{stock_minimo:0,stock_maximo:0}},de=e=>{let t=new Date().toISOString().split(`T`)[0];return c.reduce((n,r)=>{if(new Date(r.fecha).toISOString().split(`T`)[0]===t&&r.pedidos&&r.pedidos.pedido_producto){let t=r.pedidos.pedido_producto.find(t=>t.id_producto===e);if(t)return n+t.cantidad}return n},0)},fe=e=>c.reduce((t,n)=>{if(n.pedidos&&n.pedidos.pedido_producto){let r=n.pedidos.pedido_producto.find(t=>t.id_producto===e);if(r)return t+r.cantidad}return t},0),pe=async e=>{e.preventDefault();try{re(!0),ne({});let e=ce(k);if(Object.keys(e).length>0)throw ne(e),Error(`Por favor corrige los errores en el formulario`);let t=parseInt(k.entradas)||0,n=parseInt(k.salidas)||0,r=le(parseInt(k.id_producto))+t-n,i={id_producto:parseInt(k.id_producto),fecha:k.fecha||new Date().toISOString().split(`T`)[0],observaciones:k.observaciones||null,entradas:t,salidas:n,cantidad_actual:r,stock_minimo:parseInt(k.stock_minimo)||0,stock_maximo:parseInt(k.stock_maximo)||0};if(b){let{error:e}=await Z.from(`inventario`).update(i).eq(`id_inventario`,b);if(e)throw e;V(`Registro de inventario actualizado exitosamente`,`success`)}else{let{error:e}=await Z.from(`inventario`).insert([i]);if(e)throw e;V(`Registro de inventario creado exitosamente`,`success`)}be(),ie()}catch(e){e.message.includes(`Por favor corrige`)||V(e.message)}finally{re(!1)}},me=async e=>{e.preventDefault();try{re(!0),z({});let e=se(j);if(Object.keys(e).length>0)throw z(e),Error(`Por favor corrige los errores en el formulario`);let t={nombre:j.nombre.trim(),descripcion:j.descripcion.trim()||null,precio:parseFloat(j.precio),fecha_vencimiento:j.fecha_vencimiento||null,id_categoriaproducto:parseInt(j.id_categoriaproducto)},{data:n,error:r}=await Z.from(`productos`).insert([t]).select();if(r)throw r;if(n&&n[0]){let e={id_producto:n[0].id_producto,fecha:new Date().toISOString().split(`T`)[0],observaciones:`Registro inicial de producto`,entradas:0,salidas:0,cantidad_actual:0,stock_minimo:10,stock_maximo:100};await Z.from(`inventario`).insert([e])}V(`Producto creado y agregado al inventario exitosamente`,`success`),xe(),ie()}catch(e){e.message.includes(`Por favor corrige`)||V(e.message)}finally{re(!1)}},he=e=>{A({id_producto:e.id_producto.toString(),fecha:new Date().toISOString().split(`T`)[0],observaciones:`Primer registro en inventario`,entradas:0,salidas:0,stock_minimo:10,stock_maximo:100}),x(null),_(!0),O(`entrada`)},ge=async(e,t,n=1)=>{try{if(t===`salida`&&oe(e))throw Error(`No se puede vender un producto vencido`);let r=le(e.id_producto),i=ue(e.id_producto);if(t===`salida`&&n>r)throw Error(`No hay suficiente stock. Disponible: ${r}`);if(n<=0)throw Error(`La cantidad debe ser mayor a 0`);if(n>1e3)throw Error(`La cantidad no puede ser mayor a 1,000 unidades en movimiento rpido`);let a={id_producto:e.id_producto,fecha:new Date().toISOString().split(`T`)[0],observaciones:`${t===`entrada`?`Entrada`:`Salida`} rpida de stock`,entradas:t===`entrada`?n:0,salidas:t===`salida`?n:0,cantidad_actual:t===`entrada`?r+n:r-n,stock_minimo:i.stock_minimo,stock_maximo:i.stock_maximo},{error:o}=await Z.from(`inventario`).insert([a]);if(o)throw o;V(`${t===`entrada`?`Entrada`:`Salida`} de stock registrada exitosamente`,`success`),ie()}catch(e){V(e.message)}},_e=e=>{A({id_producto:e.id_producto.toString(),fecha:e.fecha,observaciones:e.observaciones||``,entradas:e.entradas,salidas:e.salidas,stock_minimo:e.stock_minimo,stock_maximo:e.stock_maximo}),x(e.id_inventario),_(!0),ne({})},ve=e=>{E(e),C(`detalle`)},ye=async e=>{if(window.confirm(`Ests seguro de eliminar este registro de inventario?
Esta accin no se puede deshacer.`))try{let{error:t}=await Z.from(`inventario`).delete().eq(`id_inventario`,e);if(t)throw t;V(`Registro eliminado exitosamente`,`success`),ie()}catch(e){V(`Error eliminando registro: ${e.message}`)}},be=()=>{A({id_producto:``,fecha:new Date().toISOString().split(`T`)[0],observaciones:``,entradas:0,salidas:0,stock_minimo:0,stock_maximo:0}),x(null),_(!1),O(`entrada`),ne({})},xe=()=>{ee({nombre:``,descripcion:``,precio:``,fecha_vencimiento:``,id_categoriaproducto:``}),y(!1),z({})},Se=()=>{if(n.length===0){V(`No hay datos para exportar`,`error`);return}let t=n.map(t=>{let n=le(t.id_producto),r=ue(t.id_producto),i=de(t.id_producto),a=fe(t.id_producto),o=oe(t);return{Producto:t.nombre||`N/A`,Categora:t.categoria_productos?.nombre||`N/A`,"Stock Actual":n,"Stock Mnimo":r.stock_minimo,"Stock Mximo":r.stock_maximo,"Ventas Hoy":i,"Total Ventas":a,Precio:t.precio,Estado:o?`VENCIDO`:n<=r.stock_minimo?`STOCK BAJO`:r.stock_maximo>0&&n>r.stock_maximo?`STOCK ALTO`:`NORMAL`,"En Inventario":e.some(e=>e.id_producto===t.id_producto)?`S`:`NO`,Vencimiento:t.fecha_vencimiento||`N/A`}}),r=`${Object.keys(t[0]||{}).join(`,`)}\n${t.map(e=>Object.values(e).map(e=>`"${e}"`).join(`,`)).join(`
`)}`,i=new Blob([r],{type:`text/csv`}),a=window.URL.createObjectURL(i),o=document.createElement(`a`);o.href=a,o.download=`inventario_completo_${new Date().toISOString().split(`T`)[0]}.csv`,o.click(),window.URL.revokeObjectURL(a),V(`Datos exportados exitosamente`,`success`)},Ce=n.filter(t=>{let n=t.nombre.toLowerCase().includes(M.toLowerCase())||t.descripcion&&t.descripcion.toLowerCase().includes(M.toLowerCase()),r=N===`todos`||t.categoria_productos?.id_categoriaproducto.toString()===N,i=le(t.id_producto),a=ue(t.id_producto),o=oe(t),s=F===`todos`||F===`bajo`&&i<=a.stock_minimo||F===`normal`&&i>a.stock_minimo&&(a.stock_maximo===0||i<=a.stock_maximo)||F===`alto`&&a.stock_maximo>0&&i>a.stock_maximo||F===`sin-inventario`&&!e.some(e=>e.id_producto===t.id_producto)||F===`vencido`&&o;return n&&r&&s}),we={totalProductos:n.length,productosEnInventario:n.filter(t=>e.some(e=>e.id_producto===t.id_producto)).length,productosConStockBajo:n.filter(e=>le(e.id_producto)<=ue(e.id_producto).stock_minimo).length,productosSinInventario:n.filter(t=>!e.some(e=>e.id_producto===t.id_producto)).length,productosVencidos:n.filter(e=>oe(e)).length,valorTotalInventario:n.reduce((e,t)=>e+le(t.id_producto)*(t.precio||0),0),ventasHoy:n.reduce((e,t)=>e+de(t.id_producto),0)},Te=t=>e.filter(e=>e.id_producto===t).sort((e,t)=>new Date(t.fecha)-new Date(e.fecha)),Ee=({error:e})=>e?(0,W.jsxs)(`div`,{style:$.errorMessage,children:[(0,W.jsx)(or,{size:12}),(0,W.jsx)(`span`,{children:e})]}):null;return u?(0,W.jsxs)(`div`,{style:$.loadingContainer,children:[(0,W.jsx)(tr,{size:32,style:{animation:`spin 1s linear infinite`}}),(0,W.jsx)(`p`,{children:`Cargando inventario...`})]}):(0,W.jsxs)(`div`,{style:$.container,children:[(0,W.jsxs)(`header`,{style:$.pageHeader,children:[(0,W.jsx)(`h1`,{style:$.pageHeaderH1,children:`Gestin de Inventario`}),(0,W.jsx)(`p`,{style:$.pageHeaderP,children:`Control y seguimiento completo del stock de productos`})]}),f&&(0,W.jsxs)(`div`,{style:{...$.alert,...$.alertError},children:[(0,W.jsx)(Cr,{size:20}),(0,W.jsx)(`span`,{children:f}),(0,W.jsx)(`button`,{onClick:()=>p(``),style:$.alertClose,children:(0,W.jsx)(U,{size:16})})]}),m&&(0,W.jsxs)(`div`,{style:{...$.alert,...$.alertSuccess},children:[(0,W.jsx)(Vn,{size:20}),(0,W.jsx)(`span`,{children:m}),(0,W.jsx)(`button`,{onClick:()=>h(``),style:$.alertClose,children:(0,W.jsx)(U,{size:16})})]}),S===`detalle`&&T&&(0,W.jsxs)(`div`,{style:$.detalleProducto,children:[(0,W.jsxs)(`div`,{style:$.detalleHeader,children:[(0,W.jsx)(`button`,{onClick:()=>C(`lista`),style:{...$.btn,...$.btnSecondary},children:` Volver al inventario`}),(0,W.jsx)(`h2`,{style:$.detalleTitle,children:`Detalle del Producto`})]}),(0,W.jsxs)(`div`,{style:$.detalleContent,children:[(0,W.jsx)(`div`,{style:$.detalleCard,children:(0,W.jsxs)(`div`,{style:$.productoInfo,children:[(0,W.jsxs)(`div`,{style:$.productoHeader,children:[(0,W.jsx)(`h3`,{style:$.productoNombre,children:T.nombre}),oe(T)&&(0,W.jsxs)(`span`,{style:$.vencidoBadge,children:[(0,W.jsx)(Pn,{size:16}),`VENCIDO`]})]}),(0,W.jsx)(`p`,{style:$.descripcion,children:T.descripcion}),(0,W.jsxs)(`div`,{style:$.infoGrid,children:[(0,W.jsxs)(`div`,{style:$.infoItem,children:[(0,W.jsx)(`label`,{style:$.infoLabel,children:`Categora`}),(0,W.jsx)(`span`,{style:$.infoValue,children:T.categoria_productos?.nombre||`N/A`})]}),(0,W.jsxs)(`div`,{style:$.infoItem,children:[(0,W.jsx)(`label`,{style:$.infoLabel,children:`Tipo`}),(0,W.jsx)(`span`,{style:$.infoValue,children:T.categoria_productos?.tipo||`N/A`})]}),(0,W.jsxs)(`div`,{style:$.infoItem,children:[(0,W.jsx)(`label`,{style:$.infoLabel,children:`Precio`}),(0,W.jsx)(`span`,{style:{...$.infoValue,...$.precio},children:new Intl.NumberFormat(`es-BO`,{style:`currency`,currency:`BOB`}).format(T.precio||0)})]}),(0,W.jsxs)(`div`,{style:$.infoItem,children:[(0,W.jsx)(`label`,{style:$.infoLabel,children:`Stock Disponible`}),(0,W.jsxs)(`span`,{style:{...$.infoValue,...le(T.id_producto)<=0?$.stockCero:{}},children:[le(T.id_producto),` unidades`]})]}),(0,W.jsxs)(`div`,{style:$.infoItem,children:[(0,W.jsx)(`label`,{style:$.infoLabel,children:`Ventas Hoy`}),(0,W.jsxs)(`span`,{style:$.infoValue,children:[de(T.id_producto),` unidades`]})]}),(0,W.jsxs)(`div`,{style:$.infoItem,children:[(0,W.jsx)(`label`,{style:$.infoLabel,children:`Total Ventas`}),(0,W.jsxs)(`span`,{style:$.infoValue,children:[fe(T.id_producto),` unidades`]})]}),T.fecha_vencimiento&&(0,W.jsxs)(`div`,{style:$.infoItem,children:[(0,W.jsx)(`label`,{style:$.infoLabel,children:`Fecha Vencimiento`}),(0,W.jsxs)(`span`,{style:{...$.infoValue,...oe(T)?$.vencidoText:{}},children:[new Date(T.fecha_vencimiento).toLocaleDateString(),oe(T)&&(0,W.jsx)(`span`,{style:$.vencidoIndicator,children:`  Vencido`})]})]})]})]})}),(0,W.jsxs)(`div`,{style:$.historialMovimientos,children:[(0,W.jsx)(`h4`,{style:$.historialTitle,children:`Historial de Movimientos`}),(0,W.jsx)(`div`,{style:$.tableContainer,children:(0,W.jsxs)(`table`,{style:$.table,children:[(0,W.jsx)(`thead`,{children:(0,W.jsxs)(`tr`,{children:[(0,W.jsx)(`th`,{style:$.th,children:`Fecha`}),(0,W.jsx)(`th`,{style:$.th,children:`Entradas`}),(0,W.jsx)(`th`,{style:$.th,children:`Salidas`}),(0,W.jsx)(`th`,{style:$.th,children:`Stock Despus`}),(0,W.jsx)(`th`,{style:$.th,children:`Observaciones`}),(0,W.jsx)(`th`,{style:$.th,children:`Acciones`})]})}),(0,W.jsxs)(`tbody`,{children:[Te(T.id_producto).map(e=>(0,W.jsxs)(`tr`,{children:[(0,W.jsx)(`td`,{style:$.td,children:e.fecha}),(0,W.jsx)(`td`,{style:{...$.td,...$.entrada},children:e.entradas}),(0,W.jsx)(`td`,{style:{...$.td,...$.salida},children:e.salidas}),(0,W.jsx)(`td`,{style:$.td,children:e.cantidad_actual}),(0,W.jsx)(`td`,{style:$.td,children:e.observaciones||`-`}),(0,W.jsx)(`td`,{style:$.td,children:(0,W.jsxs)(`div`,{style:$.actionButtonsSmall,children:[(0,W.jsx)(`button`,{onClick:()=>_e(e),style:{...$.btnSmall,...$.btnEdit},title:`Editar movimiento`,children:(0,W.jsx)(yr,{size:14})}),(0,W.jsx)(`button`,{onClick:()=>ye(e.id_inventario),style:{...$.btnSmall,...$.btnDanger},title:`Eliminar movimiento`,children:(0,W.jsx)(xr,{size:14})})]})})]},e.id_inventario)),Te(T.id_producto).length===0&&(0,W.jsx)(`tr`,{children:(0,W.jsx)(`td`,{colSpan:`6`,style:{...$.td,textAlign:`center`},children:`No hay movimientos registrados para este producto`})})]})]})})]})]})]}),S===`lista`&&(0,W.jsxs)(W.Fragment,{children:[(0,W.jsxs)(`div`,{style:$.searchFilterBar,children:[(0,W.jsxs)(`div`,{style:$.searchBox,children:[(0,W.jsx)(mr,{size:18,style:$.searchIcon}),(0,W.jsx)(`input`,{type:`text`,placeholder:`Buscar productos...`,value:M,onChange:e=>te(e.target.value),style:$.searchInput})]}),(0,W.jsxs)(`div`,{style:$.filterGroup,children:[(0,W.jsxs)(`select`,{value:N,onChange:e=>P(e.target.value),style:$.filterSelect,children:[(0,W.jsx)(`option`,{value:`todos`,children:`Todas las categoras`}),i.map(e=>(0,W.jsx)(`option`,{value:e.id_categoriaproducto,children:e.nombre},e.id_categoriaproducto))]}),(0,W.jsxs)(`select`,{value:F,onChange:e=>I(e.target.value),style:$.filterSelect,children:[(0,W.jsx)(`option`,{value:`todos`,children:`Todo el stock`}),(0,W.jsx)(`option`,{value:`bajo`,children:`Stock Bajo`}),(0,W.jsx)(`option`,{value:`normal`,children:`Stock Normal`}),(0,W.jsx)(`option`,{value:`alto`,children:`Stock Alto`}),(0,W.jsx)(`option`,{value:`vencido`,children:`Productos Vencidos`}),(0,W.jsx)(`option`,{value:`sin-inventario`,children:`Sin Inventario`})]})]})]}),(0,W.jsxs)(`div`,{style:$.statsGrid,children:[(0,W.jsxs)(`div`,{style:$.statCard,children:[(0,W.jsx)(`div`,{style:{...$.statIcon,...$.statIconTotal},children:(0,W.jsx)(sr,{size:24})}),(0,W.jsxs)(`div`,{style:$.statInfo,children:[(0,W.jsx)(`div`,{style:$.statValue,children:we.totalProductos}),(0,W.jsx)(`div`,{style:$.statLabel,children:`Total Productos`})]})]}),(0,W.jsxs)(`div`,{style:$.statCard,children:[(0,W.jsx)(`div`,{style:{...$.statIcon,...$.statIconSuccess},children:(0,W.jsx)(Hn,{size:24})}),(0,W.jsxs)(`div`,{style:$.statInfo,children:[(0,W.jsx)(`div`,{style:$.statValue,children:we.productosEnInventario}),(0,W.jsx)(`div`,{style:$.statLabel,children:`En Inventario`})]})]}),(0,W.jsxs)(`div`,{style:$.statCard,children:[(0,W.jsx)(`div`,{style:{...$.statIcon,...$.statIconAlert},children:(0,W.jsx)(Bn,{size:24})}),(0,W.jsxs)(`div`,{style:$.statInfo,children:[(0,W.jsx)(`div`,{style:$.statValue,children:we.productosConStockBajo}),(0,W.jsx)(`div`,{style:$.statLabel,children:`Stock Bajo`})]})]}),(0,W.jsxs)(`div`,{style:$.statCard,children:[(0,W.jsx)(`div`,{style:{...$.statIcon,...$.statIconWarning},children:(0,W.jsx)(Cr,{size:24})}),(0,W.jsxs)(`div`,{style:$.statInfo,children:[(0,W.jsx)(`div`,{style:$.statValue,children:we.productosSinInventario}),(0,W.jsx)(`div`,{style:$.statLabel,children:`Sin Inventario`})]})]}),(0,W.jsxs)(`div`,{style:$.statCard,children:[(0,W.jsx)(`div`,{style:{...$.statIcon,...$.statIconDanger},children:(0,W.jsx)(Pn,{size:24})}),(0,W.jsxs)(`div`,{style:$.statInfo,children:[(0,W.jsx)(`div`,{style:$.statValue,children:we.productosVencidos}),(0,W.jsx)(`div`,{style:$.statLabel,children:`Productos Vencidos`})]})]}),(0,W.jsxs)(`div`,{style:$.statCard,children:[(0,W.jsx)(`div`,{style:{...$.statIcon,...$.statIconValor},children:(0,W.jsx)(Sr,{size:24})}),(0,W.jsxs)(`div`,{style:$.statInfo,children:[(0,W.jsx)(`div`,{style:$.statValue,children:new Intl.NumberFormat(`es-BO`,{style:`currency`,currency:`BOB`}).format(we.valorTotalInventario)}),(0,W.jsx)(`div`,{style:$.statLabel,children:`Valor Total`})]})]})]}),we.productosVencidos>0&&(0,W.jsxs)(`div`,{style:{...$.alert,...$.alertDanger},children:[(0,W.jsx)(gr,{size:20}),(0,W.jsxs)(`span`,{children:[(0,W.jsx)(`strong`,{children:`ALERTA CRTICA:`}),` `,we.productosVencidos,` producto(s) vencido(s). No se pueden vender y deben ser retirados del inventario.`]})]}),we.productosConStockBajo>0&&(0,W.jsxs)(`div`,{style:{...$.alert,...$.alertWarning},children:[(0,W.jsx)(Cr,{size:20}),(0,W.jsxs)(`span`,{children:[(0,W.jsx)(`strong`,{children:`Alerta:`}),` `,we.productosConStockBajo,` producto(s) tienen stock bajo. Es necesario realizar un reabastecimiento.`]})]}),we.productosSinInventario>0&&(0,W.jsxs)(`div`,{style:{...$.alert,...$.alertInfo},children:[(0,W.jsx)(Bn,{size:20}),(0,W.jsxs)(`span`,{children:[(0,W.jsx)(`strong`,{children:`Informacin:`}),` `,we.productosSinInventario,` producto(s) no tienen registro en inventario. Agregalos para comenzar a gestionar su stock.`]})]}),(0,W.jsxs)(`div`,{style:$.actionButtons,children:[(0,W.jsxs)(`button`,{onClick:()=>{be(),_(!0)},style:{...$.btn,...$.btnPrimary},children:[(0,W.jsx)(lr,{size:16}),`Nuevo Movimiento`]}),(0,W.jsxs)(`button`,{onClick:()=>y(!0),style:{...$.btn,...$.btnSuccess},children:[(0,W.jsx)(sr,{size:16}),`Agregar Producto`]}),(0,W.jsxs)(`button`,{onClick:Se,style:{...$.btn,...$.btnSecondary},children:[(0,W.jsx)(qn,{size:16}),`Exportar a Excel`]}),(0,W.jsxs)(`button`,{onClick:ie,style:{...$.btn,...$.btnInfo},children:[(0,W.jsx)(fr,{size:16}),`Actualizar`]})]}),v&&(0,W.jsx)(`div`,{style:$.modalOverlay,children:(0,W.jsxs)(`div`,{style:$.modal,children:[(0,W.jsx)(`h3`,{style:$.modalTitle,children:`Agregar Nuevo Producto`}),(0,W.jsxs)(`form`,{onSubmit:me,children:[(0,W.jsxs)(`div`,{style:$.formRow,children:[(0,W.jsxs)(`div`,{style:$.formGroup,children:[(0,W.jsx)(`label`,{style:$.formLabel,children:`Nombre del Producto *`}),(0,W.jsx)(`input`,{type:`text`,value:j.nombre,onChange:e=>{ee({...j,nombre:e.target.value}),R.nombre&&z({...R,nombre:``})},required:!0,style:{...$.formInput,...R.nombre&&$.inputError},placeholder:`Ej: Hamburguesa Clsica`,maxLength:100}),(0,W.jsx)(Ee,{error:R.nombre})]}),(0,W.jsxs)(`div`,{style:$.formGroup,children:[(0,W.jsx)(`label`,{style:$.formLabel,children:`Precio (BOB) *`}),(0,W.jsx)(`input`,{type:`number`,step:`0.01`,min:`0`,max:`1000000`,value:j.precio,onChange:e=>{ee({...j,precio:e.target.value}),R.precio&&z({...R,precio:``})},required:!0,style:{...$.formInput,...R.precio&&$.inputError},placeholder:`0.00`}),(0,W.jsx)(Ee,{error:R.precio})]})]}),(0,W.jsxs)(`div`,{style:$.formRow,children:[(0,W.jsxs)(`div`,{style:$.formGroup,children:[(0,W.jsx)(`label`,{style:$.formLabel,children:`Categora *`}),(0,W.jsxs)(`select`,{value:j.id_categoriaproducto,onChange:e=>{ee({...j,id_categoriaproducto:e.target.value}),R.id_categoriaproducto&&z({...R,id_categoriaproducto:``})},required:!0,style:{...$.formSelect,...R.id_categoriaproducto&&$.inputError},children:[(0,W.jsx)(`option`,{value:``,children:`Seleccionar categora`}),i.map(e=>(0,W.jsxs)(`option`,{value:e.id_categoriaproducto,children:[e.nombre,` (`,e.tipo,`)`]},e.id_categoriaproducto))]}),(0,W.jsx)(Ee,{error:R.id_categoriaproducto})]}),(0,W.jsxs)(`div`,{style:$.formGroup,children:[(0,W.jsxs)(`label`,{style:$.formLabel,children:[`Fecha de Vencimiento`,j.fecha_vencimiento&&!ae(j.fecha_vencimiento)&&(0,W.jsx)(`span`,{style:$.warningText,children:` (No puede ser fecha pasada)`})]}),(0,W.jsx)(`input`,{type:`date`,value:j.fecha_vencimiento,onChange:e=>{ee({...j,fecha_vencimiento:e.target.value}),R.fecha_vencimiento&&z({...R,fecha_vencimiento:``})},style:{...$.formInput,...R.fecha_vencimiento&&$.inputError},min:new Date().toISOString().split(`T`)[0]}),(0,W.jsx)(Ee,{error:R.fecha_vencimiento})]})]}),(0,W.jsxs)(`div`,{style:$.formGroup,children:[(0,W.jsxs)(`label`,{style:$.formLabel,children:[`Descripcin`,(0,W.jsxs)(`span`,{style:$.charCount,children:[`(`,j.descripcion?.length||0,`/500)`]})]}),(0,W.jsx)(`textarea`,{value:j.descripcion,onChange:e=>{e.target.value.length<=500&&(ee({...j,descripcion:e.target.value}),R.descripcion&&z({...R,descripcion:``}))},placeholder:`Descripcin del producto...`,rows:`3`,style:{...$.formTextarea,...R.descripcion&&$.inputError}}),(0,W.jsx)(Ee,{error:R.descripcion})]}),(0,W.jsxs)(`div`,{style:$.formActions,children:[(0,W.jsx)(`button`,{type:`submit`,style:{...$.btn,...$.btnSuccess},disabled:B,children:B?(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(tr,{size:16,style:{animation:`spin 1s linear infinite`}}),`Creando...`]}):(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(pr,{size:16}),`Crear Producto`]})}),(0,W.jsx)(`button`,{type:`button`,onClick:xe,style:{...$.btn,...$.btnCancel},disabled:B,children:`Cancelar`})]})]})]})}),g&&(0,W.jsx)(`div`,{style:$.modalOverlay,children:(0,W.jsxs)(`div`,{style:$.modal,children:[(0,W.jsx)(`h3`,{style:$.modalTitle,children:b?`Editar Movimiento`:`Nuevo Movimiento de Inventario`}),(0,W.jsxs)(`form`,{onSubmit:pe,children:[(0,W.jsxs)(`div`,{style:$.formRow,children:[(0,W.jsxs)(`div`,{style:$.formGroup,children:[(0,W.jsx)(`label`,{style:$.formLabel,children:`Producto *`}),(0,W.jsxs)(`select`,{value:k.id_producto,onChange:e=>{A({...k,id_producto:e.target.value}),L.id_producto&&ne({...L,id_producto:``})},required:!0,style:{...$.formSelect,...L.id_producto&&$.inputError},children:[(0,W.jsx)(`option`,{value:``,children:`Seleccionar producto`}),n.map(t=>{let n=oe(t);return(0,W.jsxs)(`option`,{value:t.id_producto,disabled:n&&k.salidas>0,style:n?{color:`#dc3545`}:{},children:[t.nombre,` - Stock: `,le(t.id_producto),n&&` (VENCIDO)`,!e.some(e=>e.id_producto===t.id_producto)&&` (Sin inventario)`]},t.id_producto)})]}),(0,W.jsx)(Ee,{error:L.id_producto})]}),(0,W.jsxs)(`div`,{style:$.formGroup,children:[(0,W.jsx)(`label`,{style:$.formLabel,children:`Fecha *`}),(0,W.jsx)(`input`,{type:`date`,value:k.fecha,onChange:e=>{A({...k,fecha:e.target.value}),L.fecha&&ne({...L,fecha:``})},required:!0,style:{...$.formInput,...L.fecha&&$.inputError},max:new Date().toISOString().split(`T`)[0]}),(0,W.jsx)(Ee,{error:L.fecha})]})]}),(0,W.jsxs)(`div`,{style:$.formRow,children:[(0,W.jsxs)(`div`,{style:$.formGroup,children:[(0,W.jsx)(`label`,{style:$.formLabel,children:`Entradas`}),(0,W.jsx)(`input`,{type:`number`,value:k.entradas,onChange:e=>{let t=Math.max(0,parseInt(e.target.value)||0);A({...k,entradas:t}),L.entradas&&ne({...L,entradas:``})},min:`0`,max:`10000`,placeholder:`0`,style:{...$.formInput,...L.entradas&&$.inputError}}),(0,W.jsx)(Ee,{error:L.entradas})]}),(0,W.jsxs)(`div`,{style:$.formGroup,children:[(0,W.jsx)(`label`,{style:$.formLabel,children:`Salidas`}),(0,W.jsx)(`input`,{type:`number`,value:k.salidas,onChange:e=>{let t=Math.max(0,parseInt(e.target.value)||0);A({...k,salidas:t}),L.salidas&&ne({...L,salidas:``})},min:`0`,max:`10000`,placeholder:`0`,style:{...$.formInput,...L.salidas&&$.inputError}}),(0,W.jsx)(Ee,{error:L.salidas})]})]}),(0,W.jsxs)(`div`,{style:$.formRow,children:[(0,W.jsxs)(`div`,{style:$.formGroup,children:[(0,W.jsx)(`label`,{style:$.formLabel,children:`Stock Mnimo`}),(0,W.jsx)(`input`,{type:`number`,value:k.stock_minimo,onChange:e=>{let t=Math.max(0,parseInt(e.target.value)||0);A({...k,stock_minimo:t}),L.stock_minimo&&ne({...L,stock_minimo:``})},min:`0`,placeholder:`0`,style:{...$.formInput,...L.stock_minimo&&$.inputError}}),(0,W.jsx)(Ee,{error:L.stock_minimo})]}),(0,W.jsxs)(`div`,{style:$.formGroup,children:[(0,W.jsx)(`label`,{style:$.formLabel,children:`Stock Mximo`}),(0,W.jsx)(`input`,{type:`number`,value:k.stock_maximo,onChange:e=>{let t=Math.max(0,parseInt(e.target.value)||0);A({...k,stock_maximo:t}),L.stock_maximo&&ne({...L,stock_maximo:``})},min:`0`,placeholder:`0`,style:{...$.formInput,...L.stock_maximo&&$.inputError}}),(0,W.jsx)(Ee,{error:L.stock_maximo})]})]}),k.id_producto&&(0,W.jsxs)(`div`,{style:$.stockInfo,children:[(0,W.jsxs)(`div`,{style:$.stockItem,children:[(0,W.jsx)(`strong`,{children:`Stock Actual:`}),` `,le(parseInt(k.id_producto)),` unidades`]}),(0,W.jsxs)(`div`,{style:$.stockItem,children:[(0,W.jsx)(`strong`,{children:`Stock despus del movimiento:`}),le(parseInt(k.id_producto))+parseInt(k.entradas||0)-parseInt(k.salidas||0),` unidades`]}),n.find(e=>e.id_producto===parseInt(k.id_producto))&&oe(n.find(e=>e.id_producto===parseInt(k.id_producto)))&&(0,W.jsxs)(`div`,{style:{...$.stockItem,color:`#dc3545`,fontWeight:`bold`},children:[(0,W.jsx)(gr,{size:14}),`ADVERTENCIA: Este producto est vencido - No se permiten salidas`]})]}),(0,W.jsxs)(`div`,{style:$.formGroup,children:[(0,W.jsx)(`label`,{style:$.formLabel,children:`Observaciones`}),(0,W.jsx)(`textarea`,{value:k.observaciones,onChange:e=>A({...k,observaciones:e.target.value}),placeholder:`Detalles del movimiento...`,rows:`3`,style:$.formTextarea,maxLength:500})]}),(0,W.jsxs)(`div`,{style:$.formActions,children:[(0,W.jsx)(`button`,{type:`submit`,style:{...$.btn,...$.btnSuccess},disabled:B,children:B?(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(tr,{size:16,style:{animation:`spin 1s linear infinite`}}),b?`Actualizando...`:`Guardando...`]}):(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(pr,{size:16}),b?`Actualizar`:`Guardar Movimiento`]})}),(0,W.jsx)(`button`,{type:`button`,onClick:be,style:{...$.btn,...$.btnCancel},disabled:B,children:`Cancelar`})]})]})]})}),(0,W.jsxs)(`div`,{style:$.tableCard,children:[(0,W.jsxs)(`div`,{style:$.tableHeader,children:[(0,W.jsx)(sr,{size:20}),(0,W.jsxs)(`h2`,{style:$.tableTitle,children:[`Inventario (`,Ce.length,`)`]})]}),(0,W.jsxs)(`div`,{style:$.tableContainer,children:[(0,W.jsxs)(`table`,{style:$.table,children:[(0,W.jsx)(`thead`,{children:(0,W.jsxs)(`tr`,{children:[(0,W.jsx)(`th`,{style:$.th,children:`Producto`}),(0,W.jsx)(`th`,{style:$.th,children:`Categora`}),(0,W.jsx)(`th`,{style:$.th,children:`Stock Actual`}),(0,W.jsx)(`th`,{style:$.th,children:`Stock Mnimo`}),(0,W.jsx)(`th`,{style:$.th,children:`Stock Mximo`}),(0,W.jsx)(`th`,{style:$.th,children:`Ventas Hoy`}),(0,W.jsx)(`th`,{style:$.th,children:`Estado`}),(0,W.jsx)(`th`,{style:$.th,children:`Acciones`})]})}),(0,W.jsx)(`tbody`,{children:Ce.map(t=>{let n=le(t.id_producto),r=ue(t.id_producto),i=e.some(e=>e.id_producto===t.id_producto),a=de(t.id_producto),o=oe(t),s=`normal`,c=`Normal`,l=`#28a745`;return o?(s=`vencido`,c=`Vencido`,l=`#dc3545`):i?n<=r.stock_minimo?(s=`bajo`,c=`Bajo`,l=`#dc3545`):r.stock_maximo>0&&n>r.stock_maximo&&(s=`alto`,c=`Alto`,l=`#ffc107`):(s=`sin-inventario`,c=`Sin Inventario`,l=`#6c757d`),(0,W.jsxs)(`tr`,{children:[(0,W.jsxs)(`td`,{style:$.td,children:[(0,W.jsxs)(`div`,{style:$.productNameContainer,children:[(0,W.jsx)(`strong`,{style:$.productName,children:t.nombre}),o&&(0,W.jsx)(Pn,{size:14,style:{color:`#dc3545`,marginLeft:`8px`}})]}),t.descripcion&&(0,W.jsx)(`div`,{style:$.productDescription,children:t.descripcion}),t.fecha_vencimiento&&(0,W.jsxs)(`div`,{style:{...$.vencimientoText,color:o?`#dc3545`:`#6c757d`},children:[`Vence: `,new Date(t.fecha_vencimiento).toLocaleDateString()]})]}),(0,W.jsx)(`td`,{style:$.td,children:t.categoria_productos?.nombre||`N/A`}),(0,W.jsx)(`td`,{style:$.td,children:(0,W.jsx)(`strong`,{style:{color:l,fontSize:`16px`},children:n})}),(0,W.jsx)(`td`,{style:$.td,children:r.stock_minimo}),(0,W.jsx)(`td`,{style:$.td,children:r.stock_maximo}),(0,W.jsx)(`td`,{style:$.td,children:(0,W.jsx)(`span`,{style:{color:a>0?`#28a745`:`#6c757d`},children:a})}),(0,W.jsx)(`td`,{style:$.td,children:(0,W.jsx)(`span`,{style:{...$.estadoBadge,backgroundColor:s===`vencido`||s===`bajo`?`#fff5f5`:s===`alto`?`#fff3cd`:s===`sin-inventario`?`#f8f9fa`:`#e8f5e8`,color:l,border:s===`sin-inventario`?`1px solid #dee2e6`:`none`},children:c})}),(0,W.jsx)(`td`,{style:$.td,children:(0,W.jsxs)(`div`,{style:$.actionButtonsSmall,children:[(0,W.jsx)(`button`,{onClick:()=>ve(t),style:{...$.btnSmall,...$.btnView},title:`Ver detalles`,children:(0,W.jsx)(Yn,{size:14})}),i?(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(`button`,{onClick:()=>ge(t,`entrada`,1),style:{...$.btnSmall,...$.btnSuccess},title:`Entrada rpida`,children:(0,W.jsx)(kn,{size:14})}),(0,W.jsx)(`button`,{onClick:()=>ge(t,`salida`,1),style:{...$.btnSmall,...$.btnWarning},title:`Salida rpida`,disabled:n<=0||o,children:(0,W.jsx)(An,{size:14})})]}):(0,W.jsx)(`button`,{onClick:()=>he(t),style:{...$.btnSmall,...$.btnInfo},title:`Agregar al inventario`,children:(0,W.jsx)(lr,{size:14})})]})})]},t.id_producto)})})]}),Ce.length===0&&(0,W.jsxs)(`div`,{style:$.emptyState,children:[(0,W.jsx)(sr,{size:48,style:{opacity:.5,marginBottom:`16px`}}),(0,W.jsx)(`p`,{children:`No se encontraron productos`})]})]})]})]}),(0,W.jsx)(`style`,{children:`
        @keyframes spin {
          from { transform: rotate(0deg); }
          to { transform: rotate(360deg); }
        }
        
        input:focus, textarea:focus, select:focus {
          outline: none;
          border-color: #7a3b06 !important;
        }
        
        .btn:hover {
          opacity: 0.9;
          transform: translateY(-1px);
        }
        
        .btn:disabled {
          opacity: 0.5;
          cursor: not-allowed;
          transform: none;
        }
      `})]})}var $={container:{padding:`20px`,maxWidth:`1400px`,margin:`0 auto`},pageHeader:{marginBottom:`30px`},pageHeaderH1:{fontSize:`28px`,color:`#7a3b06`,marginBottom:`8px`,fontWeight:`700`},pageHeaderP:{color:`#6d4611`,fontSize:`14px`,opacity:.9},loadingContainer:{display:`flex`,flexDirection:`column`,alignItems:`center`,justifyContent:`center`,padding:`60px 20px`,color:`#7a3b06`},alert:{display:`flex`,alignItems:`center`,gap:`12px`,padding:`12px 16px`,borderRadius:`8px`,marginBottom:`20px`,fontSize:`14px`},alertError:{backgroundColor:`#fee`,border:`1px solid #f5c6cb`,color:`#721c24`},alertSuccess:{backgroundColor:`#f0fff4`,border:`1px solid #c3e6cb`,color:`#155724`},alertWarning:{backgroundColor:`#fff3cd`,border:`1px solid #ffeaa7`,color:`#856404`},alertInfo:{backgroundColor:`#e3f2fd`,border:`1px solid #bbdefb`,color:`#1976d2`},alertDanger:{backgroundColor:`#f8d7da`,border:`1px solid #f1aeb5`,color:`#721c24`,fontWeight:`bold`},alertClose:{marginLeft:`auto`,background:`none`,border:`none`,cursor:`pointer`,opacity:.7},detalleProducto:{background:`white`,borderRadius:`12px`,border:`1px solid #e9d8b5`,overflow:`hidden`},detalleHeader:{padding:`20px`,borderBottom:`1px solid #e9d8b5`,background:`#f8f5ee`,display:`flex`,alignItems:`center`,gap:`20px`},detalleTitle:{color:`#7a3b06`,margin:0},detalleContent:{padding:`30px`},detalleCard:{marginBottom:`30px`},productoInfo:{marginBottom:`20px`},productoHeader:{display:`flex`,alignItems:`center`,gap:`12px`,marginBottom:`10px`},productoNombre:{color:`#7a3b06`,margin:0,fontSize:`24px`},vencidoBadge:{display:`flex`,alignItems:`center`,gap:`4px`,backgroundColor:`#dc3545`,color:`white`,padding:`4px 8px`,borderRadius:`4px`,fontSize:`12px`,fontWeight:`bold`},descripcion:{color:`#6d4611`,marginBottom:`20px`,lineHeight:1.5},infoGrid:{display:`grid`,gridTemplateColumns:`repeat(auto-fit, minmax(200px, 1fr))`,gap:`15px`},infoItem:{padding:`15px`,background:`#f8f5ee`,borderRadius:`8px`},infoLabel:{display:`block`,fontSize:`12px`,color:`#6d4611`,opacity:.8,marginBottom:`4px`},infoValue:{display:`block`,fontWeight:`500`,color:`#7a3b06`},precio:{color:`#28a745`,fontWeight:`700`},stockCero:{color:`#dc3545`},vencidoText:{color:`#dc3545`,fontWeight:`600`},vencimientoText:{fontSize:`12px`,marginTop:`4px`},vencidoIndicator:{color:`#dc3545`,fontSize:`12px`,fontWeight:`bold`},historialMovimientos:{marginTop:`30px`},historialTitle:{color:`#7a3b06`,marginBottom:`15px`},searchFilterBar:{display:`flex`,gap:`16px`,marginBottom:`24px`,flexWrap:`wrap`},searchBox:{position:`relative`,flex:`1`,minWidth:`300px`},searchIcon:{position:`absolute`,left:`12px`,top:`50%`,transform:`translateY(-50%)`,color:`#6d4611`},searchInput:{width:`100%`,padding:`12px 12px 12px 40px`,border:`1px solid #e9d8b5`,borderRadius:`8px`,fontSize:`14px`},filterGroup:{display:`flex`,gap:`12px`,flexWrap:`wrap`},filterSelect:{padding:`12px`,border:`1px solid #e9d8b5`,borderRadius:`8px`,fontSize:`14px`,minWidth:`180px`},statsGrid:{display:`grid`,gridTemplateColumns:`repeat(auto-fit, minmax(200px, 1fr))`,gap:`16px`,marginBottom:`24px`},statCard:{background:`white`,padding:`20px`,borderRadius:`12px`,border:`1px solid #e9d8b5`,display:`flex`,alignItems:`center`,gap:`16px`},statIcon:{background:`#f8f5ee`,padding:`12px`,borderRadius:`8px`,color:`#7a3b06`},statIconTotal:{background:`#e3f2fd`,color:`#1976d2`},statIconSuccess:{background:`#e8f5e8`,color:`#28a745`},statIconAlert:{background:`#fff5f5`,color:`#dc3545`},statIconWarning:{background:`#fff3cd`,color:`#ffc107`},statIconDanger:{background:`#f8d7da`,color:`#dc3545`},statIconValor:{background:`#f3e5f5`,color:`#9c27b0`},statInfo:{flex:`1`},statValue:{fontSize:`20px`,fontWeight:`700`,color:`#7a3b06`,marginBottom:`4px`},statLabel:{fontSize:`12px`,color:`#6d4611`,opacity:.8},actionButtons:{display:`flex`,gap:`12px`,marginBottom:`24px`,flexWrap:`wrap`},btn:{display:`flex`,alignItems:`center`,gap:`8px`,padding:`12px 20px`,border:`none`,borderRadius:`8px`,cursor:`pointer`,fontSize:`14px`,fontWeight:`500`,transition:`all 0.2s`},btnPrimary:{backgroundColor:`#7a3b06`,color:`white`},btnSecondary:{backgroundColor:`#6d4611`,color:`white`},btnSuccess:{backgroundColor:`#28a745`,color:`white`},btnCancel:{backgroundColor:`#6c757d`,color:`white`},btnInfo:{backgroundColor:`#17a2b8`,color:`white`},modalOverlay:{position:`fixed`,top:0,left:0,right:0,bottom:0,backgroundColor:`rgba(0,0,0,0.5)`,display:`flex`,alignItems:`center`,justifyContent:`center`,zIndex:1e3,padding:`20px`},modal:{background:`white`,padding:`24px`,borderRadius:`12px`,border:`1px solid #e9d8b5`,maxWidth:`600px`,width:`100%`,maxHeight:`90vh`,overflowY:`auto`},modalTitle:{color:`#7a3b06`,marginBottom:`20px`,fontSize:`20px`},formRow:{display:`grid`,gridTemplateColumns:`1fr 1fr`,gap:`16px`,marginBottom:`16px`},formGroup:{marginBottom:`16px`},formLabel:{display:`block`,marginBottom:`6px`,color:`#6d4611`,fontWeight:`500`},formInput:{width:`100%`,padding:`10px`,border:`1px solid #e9d8b5`,borderRadius:`6px`,fontSize:`14px`},formSelect:{width:`100%`,padding:`10px`,border:`1px solid #e9d8b5`,borderRadius:`6px`,fontSize:`14px`,background:`white`},formTextarea:{width:`100%`,padding:`10px`,border:`1px solid #e9d8b5`,borderRadius:`6px`,fontSize:`14px`,resize:`vertical`},stockInfo:{background:`#e3f2fd`,padding:`15px`,borderRadius:`6px`,marginBottom:`16px`,border:`1px solid #bbdefb`},stockItem:{color:`#1976d2`,marginBottom:`8px`,display:`flex`,alignItems:`center`,gap:`6px`},formActions:{display:`flex`,gap:`12px`,marginTop:`24px`},tableCard:{background:`white`,borderRadius:`12px`,border:`1px solid #e9d8b5`,overflow:`hidden`},tableHeader:{padding:`20px`,borderBottom:`1px solid #e9d8b5`,display:`flex`,alignItems:`center`,gap:`10px`,background:`#f8f5ee`},tableTitle:{color:`#7a3b06`,margin:0,fontSize:`18px`},tableContainer:{overflowX:`auto`},table:{width:`100%`,borderCollapse:`collapse`,minWidth:`800px`},th:{padding:`12px`,textAlign:`left`,border:`1px solid #e9d8b5`,color:`#6d4611`,fontWeight:`600`,background:`#f8f5ee`},td:{padding:`12px`,border:`1px solid #e9d8b5`,color:`#6d4611`},productNameContainer:{display:`flex`,alignItems:`center`},productName:{display:`block`,color:`#7a3b06`,marginBottom:`4px`},productDescription:{fontSize:`12px`,color:`#6d4611`,opacity:.8},entrada:{color:`#28a745`,fontWeight:`600`},salida:{color:`#dc3545`,fontWeight:`600`},estadoBadge:{display:`inline-block`,padding:`4px 8px`,borderRadius:`12px`,fontSize:`12px`,fontWeight:`600`},actionButtonsSmall:{display:`flex`,gap:`6px`},btnSmall:{display:`flex`,alignItems:`center`,justifyContent:`center`,padding:`6px 8px`,border:`none`,borderRadius:`4px`,cursor:`pointer`,transition:`all 0.2s`},btnView:{backgroundColor:`#17a2b8`,color:`white`},btnEdit:{backgroundColor:`#ffc107`,color:`#7a3b06`},btnSuccess:{backgroundColor:`#28a745`,color:`white`},btnWarning:{backgroundColor:`#ffc107`,color:`#7a3b06`},btnInfo:{backgroundColor:`#17a2b8`,color:`white`},btnDanger:{backgroundColor:`#dc3545`,color:`white`},emptyState:{padding:`60px 20px`,textAlign:`center`,color:`#6d4611`,opacity:.7},errorMessage:{display:`flex`,alignItems:`center`,gap:`6px`,color:`#dc3545`,fontSize:`12px`,marginTop:`4px`,fontWeight:`500`},inputError:{borderColor:`#dc3545 !important`,backgroundColor:`#fff5f5`},warningText:{color:`#dc3545`,fontSize:`12px`,fontWeight:`normal`},charCount:{fontSize:`12px`,color:`#6c757d`,fontWeight:`normal`,marginLeft:`8px`}};async function qc(e){let t=new TextEncoder().encode(e),n=await crypto.subtle.digest(`SHA-256`,t);return Array.from(new Uint8Array(n)).map(e=>e.toString(16).padStart(2,`0`)).join(``)}function Jc({onLogin:e}){let[t,n]=(0,w.useState)({email:``,password:``}),[r,i]=(0,w.useState)(!1),[a,o]=(0,w.useState)(``),[s,c]=(0,w.useState)(``),[l,u]=(0,w.useState)(!1),d=e=>{let{name:r,value:i}=e.target;n({...t,[r]:i})};return(0,W.jsx)(`div`,{style:{minHeight:`100vh`,background:`linear-gradient(135deg, #fef5e6 0%, #f8e1c5 100%)`,display:`flex`,alignItems:`center`,justifyContent:`center`,padding:`20px`},children:(0,W.jsxs)(`div`,{style:{background:`white`,padding:`40px`,borderRadius:`16px`,boxShadow:`0 8px 32px rgba(122, 59, 6, 0.1)`,border:`1px solid #e9d8b5`,width:`100%`,maxWidth:`400px`},children:[(0,W.jsxs)(`div`,{style:{textAlign:`center`,marginBottom:`30px`},children:[(0,W.jsx)(`h1`,{style:{fontSize:`28px`,color:`#7a3b06`,marginBottom:`8px`,fontWeight:`700`},children:`Beef & Beer`}),(0,W.jsx)(`p`,{style:{color:`#6d4611`,fontSize:`16px`,opacity:.8},children:`Iniciar Sesin`})]}),a&&(0,W.jsxs)(`div`,{style:{background:`#fee`,border:`1px solid #f5c6cb`,color:`#721c24`,padding:`12px`,borderRadius:`8px`,marginBottom:`20px`,fontSize:`14px`,display:`flex`,alignItems:`center`,gap:`8px`},children:[(0,W.jsx)(Cr,{size:16}),(0,W.jsx)(`span`,{children:a}),(0,W.jsx)(`button`,{onClick:()=>o(``),style:{background:`none`,border:`none`,cursor:`pointer`,marginLeft:`auto`},children:(0,W.jsx)(U,{size:14})})]}),s&&(0,W.jsxs)(`div`,{style:{background:`#f0fff4`,border:`1px solid #c3e6cb`,color:`#155724`,padding:`12px`,borderRadius:`8px`,marginBottom:`20px`,fontSize:`14px`,display:`flex`,alignItems:`center`,gap:`8px`},children:[(0,W.jsx)(Vn,{size:16}),(0,W.jsx)(`span`,{children:s}),(0,W.jsx)(`button`,{onClick:()=>c(``),style:{background:`none`,border:`none`,cursor:`pointer`,marginLeft:`auto`},children:(0,W.jsx)(U,{size:14})})]}),(0,W.jsxs)(`form`,{onSubmit:async n=>{n.preventDefault(),i(!0),o(``),c(``);try{if(!t.email.trim()||!t.password.trim())throw Error(`Por favor ingrese email y contrasea`);let{data:n,error:r}=await Z.from(`empleados`).select(`*`).eq(`email`,t.email).single();if(r)throw r.code===`PGRST116`?Error(`Email o contrasea incorrectos`):r;if(!n)throw Error(`Email o contrasea incorrectos`);let i=!1;if(n.password&&n.password.length===64){let e=await qc(t.password);i=n.password===e}else i=n.password===t.password;i?(c(`Inicio de sesin exitoso`),localStorage.setItem(`empleado`,JSON.stringify(n)),setTimeout(()=>e(n),1e3)):o(`Email o contrasea incorrectos`)}catch(e){e.message.includes(`incorrectos`)||e.message.includes(`PGRST116`)?o(`Email o contrasea incorrectos`):o(`Error al iniciar sesin: `+e.message)}finally{i(!1)}},children:[(0,W.jsxs)(`div`,{style:{marginBottom:`16px`},children:[(0,W.jsx)(`label`,{style:{display:`block`,marginBottom:`6px`,color:`#7a3b06`,fontSize:`14px`,fontWeight:`500`},children:`Email *`}),(0,W.jsx)(`input`,{type:`email`,name:`email`,value:t.email,onChange:d,required:!0,style:{width:`100%`,padding:`12px`,border:`1px solid #e9d8b5`,borderRadius:`8px`,fontSize:`14px`,color:`#7a3b06`,backgroundColor:`#fefaf5`},placeholder:`Ingrese su email`,maxLength:100})]}),(0,W.jsxs)(`div`,{style:{marginBottom:`24px`},children:[(0,W.jsx)(`label`,{style:{display:`block`,marginBottom:`6px`,color:`#7a3b06`,fontSize:`14px`,fontWeight:`500`},children:`Contrasea *`}),(0,W.jsxs)(`div`,{style:{position:`relative`},children:[(0,W.jsx)(`input`,{type:l?`text`:`password`,name:`password`,value:t.password,onChange:d,required:!0,style:{width:`100%`,padding:`12px 40px 12px 12px`,border:`1px solid #e9d8b5`,borderRadius:`8px`,fontSize:`14px`,color:`#7a3b06`,backgroundColor:`#fefaf5`},placeholder:`Ingrese su contrasea`,maxLength:50}),(0,W.jsx)(`button`,{type:`button`,onClick:()=>u(!l),style:{position:`absolute`,right:`12px`,top:`50%`,transform:`translateY(-50%)`,background:`none`,border:`none`,cursor:`pointer`,color:`#6d4611`,opacity:.7},children:l?(0,W.jsx)(Jn,{size:16}):(0,W.jsx)(Yn,{size:16})})]})]}),(0,W.jsx)(`button`,{type:`submit`,disabled:r,style:{width:`100%`,padding:`14px`,backgroundColor:r?`#6c757d`:`#7a3b06`,color:`white`,border:`none`,borderRadius:`8px`,fontSize:`16px`,fontWeight:`600`,cursor:r?`not-allowed`:`pointer`,opacity:r?.7:1,marginBottom:`16px`,transition:`all 0.2s`},children:r?`Iniciando sesin...`:`Iniciar Sesin`})]}),(0,W.jsx)(`div`,{style:{textAlign:`center`,marginTop:`20px`},children:(0,W.jsx)(`p`,{style:{color:`#6d4611`,fontSize:`12px`,opacity:.7},children:`Solo personal autorizado`})})]})})}function Yc(){let[e,t]=(0,w.useState)([]),[n,r]=(0,w.useState)([]),[i,a]=(0,w.useState)(!0),[o,s]=(0,w.useState)(``),[c,l]=(0,w.useState)(``),[u,d]=(0,w.useState)(!1),[f,p]=(0,w.useState)(null),[m,h]=(0,w.useState)(`lista`),[g,_]=(0,w.useState)(null),[v,y]=(0,w.useState)(null),[b,x]=(0,w.useState)(!1),[S,C]=(0,w.useState)({nromesa:``,salon:``,capacidad:``,estado:`libre`}),[T,E]=(0,w.useState)(``),[D,O]=(0,w.useState)(`todos`),[k,A]=(0,w.useState)(`todos`),[j,ee]=(0,w.useState)(`todos`);(0,w.useEffect)(()=>{F()},[]);let M=async(e,t)=>{try{console.log(` Cambiando estado del pedido ${e} a ${t}`);let{error:n}=await Z.from(`pedidos`).update({estado:t}).eq(`id_pedido`,e);if(n)throw n;if(t===`pagado`||t===`cancelado`){let{data:t}=await Z.from(`pedidos`).select(`nromesa`).eq(`id_pedido`,e).single();t&&t.nromesa&&await I(t.nromesa)}t===`pagado`&&await te(e),P(`Estado del pedido actualizado a ${t}`,`success`),await F()}catch(e){console.error(` Error cambiando estado del pedido:`,e),P(`Error al cambiar estado: ${e.message}`)}},te=async e=>{try{let{data:t,error:n}=await Z.from(`pedidos`).select(`
          *,
          pedido_producto (
            *,
            productos (*)
          )
        `).eq(`id_pedido`,e).single();if(n)throw n;let r=t.pedido_producto?.reduce((e,t)=>e+(parseFloat(t.subtotal)||0),0)||0,{error:i}=await Z.from(`ventas`).insert([{id_pedido:e,monto_total:r,descripcion:`Venta del pedido #${e}`}]);if(i)throw i;console.log(` Venta creada para pedido ${e} con monto: ${r}`)}catch(e){throw console.error(` Error creando venta:`,e),e}},N=async(e,n)=>{try{console.log(`Actualizando estados de mesas...`);let r=n?.filter(e=>e.estado===`pendiente`&&e.nromesa),i=new Set;r?.forEach(e=>{e.nromesa&&i.add(e.nromesa)});let a=[];if(e?.forEach(e=>{let t=i.has(e.nromesa);t&&e.estado!==`ocupada`?a.push({nromesa:e.nromesa,nuevoEstado:`ocupada`}):!t&&e.estado===`ocupada`&&a.push({nromesa:e.nromesa,nuevoEstado:`libre`})}),a.length>0){let e=a.map(e=>Z.from(`mesas`).update({estado:e.nuevoEstado}).eq(`nromesa`,e.nromesa)),n=(await Promise.all(e)).filter(e=>e.error);n.length>0&&console.error(`Errores en actualizaciones:`,n),t(e=>e.map(e=>{let t=a.find(t=>t.nromesa===e.nromesa);return t?{...e,estado:t.nuevoEstado}:e}))}}catch(e){console.error(` Error en actualizacin de estados:`,e)}},P=(e,t=`error`)=>{t===`success`?(l(e),setTimeout(()=>l(``),3e3)):(s(e),setTimeout(()=>s(``),5e3))},F=async()=>{try{a(!0),console.log(` Cargando datos...`);let[e,n]=await Promise.all([Z.from(`mesas`).select(`*`).order(`nromesa`),Z.from(`pedidos`).select(`*`)]);if(e.error)throw e.error;if(n.error)throw n.error;t(e.data||[]),r(n.data||[]),await N(e.data,n.data)}catch(e){console.error(` Error cargando datos:`,e),P(`Error al cargar datos: ${e.message}`)}finally{a(!1)}},I=async e=>{try{let{data:n,error:r}=await Z.from(`pedidos`).select(`*`).eq(`nromesa`,e).eq(`estado`,`pendiente`);if(r)throw r;let i=n&&n.length>0?`ocupada`:`libre`,{data:a,error:o}=await Z.from(`mesas`).select(`estado`).eq(`nromesa`,e).single();if(o)throw o;if(a.estado!==i){let{error:n}=await Z.from(`mesas`).update({estado:i}).eq(`nromesa`,e);if(n)throw n;return t(t=>t.map(t=>t.nromesa===e?{...t,estado:i}:t)),g&&g.nromesa===e&&_(e=>({...e,estado:i})),i}return a.estado}catch(t){console.error(` Error verificando estado de mesa ${e}:`,t)}};(0,w.useEffect)(()=>{let e;return(async()=>{try{e=Z.channel(`pedidos-changes`).on(`postgres_changes`,{event:`*`,schema:`public`,table:`pedidos`},async e=>{e.new&&e.new.nromesa&&await I(e.new.nromesa),e.old&&e.old.nromesa&&await I(e.old.nromesa);let{data:t,error:n}=await Z.from(`pedidos`).select(`*`);!n&&t&&r(t)}).subscribe()}catch(e){console.error(` Error configurando suscripcin:`,e)}})(),()=>{e&&e.unsubscribe()}},[g]);let L=e=>{if(!e.nromesa||parseInt(e.nromesa)<=0)throw Error(`El nmero de mesa debe ser mayor a 0`);if(!e.salon||parseInt(e.salon)<1||parseInt(e.salon)>4)throw Error(`El saln debe ser un nmero entre 1 y 4`);if(!e.capacidad||parseInt(e.capacidad)<=0)throw Error(`La capacidad debe ser mayor a 0`);if(parseInt(e.capacidad)>20)throw Error(`La capacidad mxima por mesa es 20 personas`)},ne=async e=>{e.preventDefault();try{L(S);let e={...S,nromesa:parseInt(S.nromesa),salon:parseInt(S.salon),capacidad:parseInt(S.capacidad)};if(f){let{error:t}=await Z.from(`mesas`).update(e).eq(`nromesa`,f);if(t)throw t;P(`Mesa actualizada exitosamente`,`success`)}else{let{data:t}=await Z.from(`mesas`).select(`nromesa`).eq(`nromesa`,e.nromesa).single();if(t)throw Error(`Ya existe una mesa con este nmero`);let{error:n}=await Z.from(`mesas`).insert([e]);if(n)throw n;P(`Mesa creada exitosamente`,`success`)}se(),F()}catch(e){P(e.message)}},R=e=>{C({nromesa:e.nromesa.toString(),salon:e.salon.toString(),capacidad:e.capacidad.toString(),estado:e.estado}),p(e.nromesa),d(!0)},z=e=>{_(e),h(`detalle`)},B=e=>n.filter(t=>t.nromesa===e&&t.estado===`pendiente`),re=e=>n.filter(t=>t.nromesa===e),V=async e=>{let t=B(e);if(t.length>0){P(`No se puede eliminar la mesa. Tiene ${t.length} pedido(s) activo(s)`);return}if(window.confirm(`Ests seguro de eliminar esta mesa?`))try{let{error:t}=await Z.from(`mesas`).delete().eq(`nromesa`,e);if(t)throw t;P(`Mesa eliminada exitosamente`,`success`),F()}catch(e){P(`Error eliminando mesa: ${e.message}`)}},ie=async(e,n)=>{try{let r=B(e);if(n===`libre`&&r.length>0){P(`No se puede liberar la mesa. Tiene ${r.length} pedido(s) activo(s)`);return}if(n===`reservada`&&r.length>0){P(`No se puede reservar la mesa. Tiene ${r.length} pedido(s) activo(s)`);return}let{error:i}=await Z.from(`mesas`).update({estado:n}).eq(`nromesa`,e);if(i)throw i;P(`Estado de la mesa actualizado a ${n}`,`success`),t(t=>t.map(t=>t.nromesa===e?{...t,estado:n}:t)),g&&g.nromesa===e&&_(e=>({...e,estado:n}))}catch(e){P(`Error actualizando estado: ${e.message}`)}},ae=e=>{y(e),x(!0)},oe=()=>{x(!1),y(null)},se=()=>{C({nromesa:``,salon:``,capacidad:``,estado:`libre`}),p(null),d(!1)},ce=e=>({pendiente:{backgroundColor:`#fff3cd`,color:`#856404`},pagado:{backgroundColor:`#e8f5e8`,color:`#28a745`},cancelado:{backgroundColor:`#fff5f5`,color:`#dc3545`}})[e]||{backgroundColor:`#f8f9fa`,color:`#6c757d`},le=e.filter(e=>{let t=e.nromesa.toString().includes(T)||e.salon.toString().includes(T)||e.capacidad.toString().includes(T),n=D===`todos`||e.salon.toString()===D,r=k===`todos`||e.estado===k,i=j===`todos`||j===`pequena`&&e.capacidad<=2||j===`mediana`&&e.capacidad>2&&e.capacidad<=6||j===`grande`&&e.capacidad>6;return t&&n&&r&&i}),ue={totalMesas:e.length,mesasLibres:e.filter(e=>e.estado===`libre`).length,mesasOcupadas:e.filter(e=>e.estado===`ocupada`).length,mesasReservadas:e.filter(e=>e.estado===`reservada`).length,capacidadTotal:e.reduce((e,t)=>e+t.capacidad,0),salones:[...new Set(e.map(e=>e.salon))].length},de=e=>({1:{nombre:`Saln Principal`,capacidad:50},2:{nombre:`Terraza`,capacidad:30},3:{nombre:`Privado VIP`,capacidad:20},4:{nombre:`Jardn`,capacidad:40}})[e]||{nombre:`Saln ${e}`,capacidad:0};return i?(0,W.jsxs)(`div`,{style:{display:`flex`,flexDirection:`column`,alignItems:`center`,justifyContent:`center`,padding:`60px 20px`,color:`#7a3b06`},children:[(0,W.jsx)(tr,{size:32,style:{animation:`spin 1s linear infinite`}}),(0,W.jsx)(`p`,{children:`Cargando mesas...`})]}):(0,W.jsxs)(`div`,{style:{padding:`20px`,maxWidth:`1400px`,margin:`0 auto`},children:[(0,W.jsxs)(`header`,{style:{marginBottom:`30px`},children:[(0,W.jsx)(`h1`,{style:{fontSize:`28px`,color:`#7a3b06`,marginBottom:`8px`,fontWeight:`700`},children:`Gestin de Mesas`}),(0,W.jsx)(`p`,{style:{color:`#6d4611`,fontSize:`14px`,opacity:.9},children:`Administra la disposicin y estado de las mesas del restaurante`}),(0,W.jsx)(`button`,{onClick:()=>F(),style:{padding:`8px 16px`,backgroundColor:`#6c757d`,color:`white`,border:`none`,borderRadius:`6px`,cursor:`pointer`,fontSize:`12px`,marginTop:`10px`},children:` Recargar Datos`})]}),o&&(0,W.jsxs)(`div`,{style:{display:`flex`,alignItems:`center`,gap:`12px`,padding:`12px 16px`,borderRadius:`8px`,marginBottom:`20px`,fontSize:`14px`,backgroundColor:`#fee`,border:`1px solid #f5c6cb`,color:`#721c24`},children:[(0,W.jsx)(Cr,{size:20}),(0,W.jsx)(`span`,{children:o}),(0,W.jsx)(`button`,{onClick:()=>s(``),style:{marginLeft:`auto`,background:`none`,border:`none`,cursor:`pointer`,opacity:.7},children:(0,W.jsx)(U,{size:16})})]}),c&&(0,W.jsxs)(`div`,{style:{display:`flex`,alignItems:`center`,gap:`12px`,padding:`12px 16px`,borderRadius:`8px`,marginBottom:`20px`,fontSize:`14px`,backgroundColor:`#f0fff4`,border:`1px solid #c3e6cb`,color:`#155724`},children:[(0,W.jsx)(Vn,{size:20}),(0,W.jsx)(`span`,{children:c}),(0,W.jsx)(`button`,{onClick:()=>l(``),style:{marginLeft:`auto`,background:`none`,border:`none`,cursor:`pointer`,opacity:.7},children:(0,W.jsx)(U,{size:16})})]}),b&&v&&(0,W.jsx)(`div`,{style:{position:`fixed`,top:0,left:0,right:0,bottom:0,backgroundColor:`rgba(0, 0, 0, 0.5)`,display:`flex`,alignItems:`center`,justifyContent:`center`,zIndex:1e3,padding:`20px`},children:(0,W.jsxs)(`div`,{style:{background:`white`,padding:`24px`,borderRadius:`12px`,border:`1px solid #e9d8b5`,maxWidth:`600px`,width:`100%`,maxHeight:`90vh`,overflowY:`auto`},children:[(0,W.jsxs)(`div`,{style:{display:`flex`,justifyContent:`space-between`,alignItems:`center`,marginBottom:`20px`,borderBottom:`1px solid #e9d8b5`,paddingBottom:`16px`},children:[(0,W.jsxs)(`h3`,{style:{color:`#7a3b06`,margin:0,fontSize:`20px`,display:`flex`,alignItems:`center`,gap:`10px`},children:[(0,W.jsx)(sr,{size:24}),`Detalles del Pedido #`,v.id_pedido]}),(0,W.jsx)(`button`,{onClick:oe,style:{background:`none`,border:`none`,cursor:`pointer`,color:`#6d4611`,padding:`8px`,borderRadius:`4px`},children:(0,W.jsx)(U,{size:20})})]}),(0,W.jsxs)(`div`,{style:{display:`flex`,flexDirection:`column`,gap:`16px`},children:[(0,W.jsxs)(`div`,{style:{display:`grid`,gridTemplateColumns:`1fr 1fr`,gap:`16px`},children:[(0,W.jsxs)(`div`,{style:{padding:`16px`,background:`#f8f5ee`,borderRadius:`8px`},children:[(0,W.jsx)(`div`,{style:{fontSize:`12px`,color:`#6d4611`,opacity:.8,marginBottom:`4px`},children:`Mesa`}),(0,W.jsxs)(`div`,{style:{color:`#7a3b06`,fontWeight:`600`,fontSize:`18px`},children:[`#`,v.nromesa]})]}),(0,W.jsxs)(`div`,{style:{padding:`16px`,background:`#f8f5ee`,borderRadius:`8px`},children:[(0,W.jsx)(`div`,{style:{fontSize:`12px`,color:`#6d4611`,opacity:.8,marginBottom:`4px`},children:`Estado del Pedido`}),(0,W.jsxs)(`div`,{style:{display:`inline-flex`,alignItems:`center`,gap:`6px`,padding:`6px 12px`,borderRadius:`20px`,fontSize:`14px`,fontWeight:`600`,...ce(v.estado)},children:[v.estado===`pendiente`&&` Pendiente`,v.estado===`pagado`&&` Pagado`,v.estado===`cancelado`&&` Cancelado`,!v.estado&&`No especificado`]})]})]}),(0,W.jsxs)(`div`,{style:{padding:`16px`,background:`#f8f5ee`,borderRadius:`8px`},children:[(0,W.jsx)(`div`,{style:{fontSize:`12px`,color:`#6d4611`,opacity:.8,marginBottom:`8px`},children:`Estado del Pedido`}),(0,W.jsxs)(`select`,{value:v.estado||`pendiente`,onChange:e=>{M(v.id_pedido,e.target.value),y({...v,estado:e.target.value})},style:{padding:`10px 12px`,border:`1px solid #e9d8b5`,borderRadius:`6px`,fontSize:`14px`,cursor:`pointer`,display:`flex`,alignItems:`center`,gap:`8px`,width:`100%`,...ce(v.estado)},children:[(0,W.jsx)(`option`,{value:`pendiente`,children:` Pendiente - La mesa est ocupada`}),(0,W.jsx)(`option`,{value:`pagado`,children:` Pagado - Se registra venta y libera mesa`}),(0,W.jsx)(`option`,{value:`cancelado`,children:` Cancelado - No se registra venta y libera mesa`})]}),(0,W.jsxs)(`div`,{style:{fontSize:`12px`,color:`#6d4611`,marginTop:`8px`,opacity:.7},children:[v.estado===`pendiente`&&`El pedido est activo y ocupa la mesa`,v.estado===`pagado`&&`El pedido fue pagado y la mesa se liber`,v.estado===`cancelado`&&`El pedido fue cancelado y la mesa se liber`]})]}),(0,W.jsxs)(`div`,{style:{padding:`16px`,background:`#f8f5ee`,borderRadius:`8px`},children:[(0,W.jsxs)(`div`,{style:{fontSize:`12px`,color:`#6d4611`,opacity:.8,marginBottom:`8px`,display:`flex`,alignItems:`center`,gap:`6px`},children:[(0,W.jsx)(Fn,{size:14}),`Detalles`]}),(0,W.jsx)(`div`,{style:{color:`#6d4611`,lineHeight:`1.5`},children:v.detalle||`No hay detalles adicionales para este pedido.`})]})]}),(0,W.jsx)(`div`,{style:{display:`flex`,gap:`12px`,marginTop:`24px`},children:(0,W.jsx)(`button`,{onClick:oe,style:{display:`flex`,alignItems:`center`,gap:`8px`,padding:`12px 20px`,border:`none`,borderRadius:`8px`,cursor:`pointer`,fontSize:`14px`,fontWeight:`500`,backgroundColor:`#6d4611`,color:`white`,marginLeft:`auto`},children:`Cerrar`})})]})}),m===`detalle`&&g&&(0,W.jsxs)(`div`,{style:{background:`white`,borderRadius:`12px`,border:`1px solid #e9d8b5`,overflow:`hidden`},children:[(0,W.jsxs)(`div`,{style:{padding:`20px`,borderBottom:`1px solid #e9d8b5`,backgroundColor:`#f8f5ee`,display:`flex`,alignItems:`center`,gap:`20px`},children:[(0,W.jsx)(`button`,{onClick:()=>h(`lista`),style:{display:`flex`,alignItems:`center`,gap:`8px`,padding:`12px 20px`,border:`none`,borderRadius:`8px`,cursor:`pointer`,fontSize:`14px`,fontWeight:`500`,backgroundColor:`#6d4611`,color:`white`},children:` Volver al listado`}),(0,W.jsxs)(`h2`,{style:{color:`#7a3b06`,margin:0},children:[`Detalle de Mesa `,g.nromesa]})]}),(0,W.jsxs)(`div`,{style:{padding:`30px`},children:[(0,W.jsxs)(`div`,{style:{display:`grid`,gridTemplateColumns:`2fr 1fr`,gap:`30px`,marginBottom:`30px`},children:[(0,W.jsxs)(`div`,{style:{display:`flex`,flexDirection:`column`,gap:`20px`},children:[(0,W.jsxs)(`div`,{style:{display:`flex`,alignItems:`flex-start`,gap:`15px`,padding:`15px`,background:`#f8f5ee`,borderRadius:`8px`},children:[(0,W.jsx)(br,{size:24,style:{color:`#7a3b06`,marginTop:`2px`}}),(0,W.jsxs)(`div`,{children:[(0,W.jsx)(`div`,{style:{display:`block`,fontSize:`12px`,color:`#6d4611`,opacity:.8,marginBottom:`4px`},children:`Nmero de Mesa`}),(0,W.jsx)(`div`,{style:{display:`block`,fontWeight:`500`,color:`#7a3b06`,fontSize:`24px`,fontWeight:`700`},children:g.nromesa})]})]}),(0,W.jsxs)(`div`,{style:{display:`flex`,alignItems:`flex-start`,gap:`15px`,padding:`15px`,background:`#f8f5ee`,borderRadius:`8px`},children:[(0,W.jsx)($n,{size:24,style:{color:`#7a3b06`,marginTop:`2px`}}),(0,W.jsxs)(`div`,{children:[(0,W.jsx)(`div`,{style:{display:`block`,fontSize:`12px`,color:`#6d4611`,opacity:.8,marginBottom:`4px`},children:`Saln`}),(0,W.jsxs)(`div`,{style:{display:`block`,fontWeight:`500`,color:`#7a3b06`},children:[de(g.salon).nombre,` (Saln `,g.salon,`)`]})]})]}),(0,W.jsxs)(`div`,{style:{display:`flex`,alignItems:`flex-start`,gap:`15px`,padding:`15px`,background:`#f8f5ee`,borderRadius:`8px`},children:[(0,W.jsx)(Dr,{size:24,style:{color:`#7a3b06`,marginTop:`2px`}}),(0,W.jsxs)(`div`,{children:[(0,W.jsx)(`div`,{style:{display:`block`,fontSize:`12px`,color:`#6d4611`,opacity:.8,marginBottom:`4px`},children:`Capacidad`}),(0,W.jsxs)(`div`,{style:{display:`block`,fontWeight:`500`,color:`#7a3b06`},children:[g.capacidad,` personas`]})]})]}),(0,W.jsxs)(`div`,{style:{display:`flex`,alignItems:`flex-start`,gap:`15px`,padding:`15px`,background:`#f8f5ee`,borderRadius:`8px`},children:[(0,W.jsx)(Wn,{size:24,style:{color:`#7a3b06`,marginTop:`2px`}}),(0,W.jsxs)(`div`,{children:[(0,W.jsx)(`div`,{style:{display:`block`,fontSize:`12px`,color:`#6d4611`,opacity:.8,marginBottom:`4px`},children:`Estado Actual`}),(0,W.jsxs)(`div`,{style:{display:`inline-flex`,alignItems:`center`,gap:`6px`,padding:`6px 12px`,borderRadius:`20px`,fontSize:`14px`,fontWeight:`600`,backgroundColor:g.estado===`libre`?`#e8f5e8`:g.estado===`ocupada`?`#fff5f5`:`#fff3cd`,color:g.estado===`libre`?`#28a745`:g.estado===`ocupada`?`#dc3545`:`#856404`},children:[g.estado===`libre`&&(0,W.jsx)(Hn,{size:16}),g.estado===`ocupada`&&(0,W.jsx)(Un,{size:16}),g.estado===`reservada`&&(0,W.jsx)(Cr,{size:16}),g.estado]})]})]})]}),(0,W.jsxs)(`div`,{style:{background:`#e3f2fd`,padding:`20px`,borderRadius:`8px`,border:`1px solid #bbdefb`},children:[(0,W.jsx)(`h4`,{style:{color:`#1976d2`,marginBottom:`15px`},children:`Acciones Rpidas`}),(0,W.jsxs)(`div`,{style:{display:`flex`,flexDirection:`column`,gap:`10px`},children:[(0,W.jsxs)(`button`,{onClick:()=>ie(g.nromesa,`libre`),style:{display:`flex`,alignItems:`center`,gap:`8px`,padding:`12px 16px`,border:`2px solid ${g.estado===`libre`?`#7a3b06`:`#e9d8b5`}`,borderRadius:`8px`,background:g.estado===`libre`?`#7a3b06`:`white`,color:g.estado===`libre`?`white`:`#6d4611`,cursor:`pointer`,transition:`all 0.2s`},children:[(0,W.jsx)(Hn,{size:16}),`Liberar`]}),(0,W.jsxs)(`button`,{onClick:()=>ie(g.nromesa,`ocupada`),style:{display:`flex`,alignItems:`center`,gap:`8px`,padding:`12px 16px`,border:`2px solid ${g.estado===`ocupada`?`#7a3b06`:`#e9d8b5`}`,borderRadius:`8px`,background:g.estado===`ocupada`?`#7a3b06`:`white`,color:g.estado===`ocupada`?`white`:`#6d4611`,cursor:`pointer`,transition:`all 0.2s`},children:[(0,W.jsx)(Dr,{size:16}),`Ocupar`]}),(0,W.jsxs)(`button`,{onClick:()=>ie(g.nromesa,`reservada`),style:{display:`flex`,alignItems:`center`,gap:`8px`,padding:`12px 16px`,border:`2px solid ${g.estado===`reservada`?`#7a3b06`:`#e9d8b5`}`,borderRadius:`8px`,background:g.estado===`reservada`?`#7a3b06`:`white`,color:g.estado===`reservada`?`white`:`#6d4611`,cursor:`pointer`,transition:`all 0.2s`},children:[(0,W.jsx)(Wn,{size:16}),`Reservar`]})]})]})]}),(0,W.jsxs)(`div`,{style:{background:`white`,borderRadius:`8px`,border:`1px solid #e9d8b5`,padding:`20px`},children:[(0,W.jsx)(`h4`,{style:{color:`#7a3b06`,marginBottom:`15px`},children:`Pedidos de la Mesa`}),re(g.nromesa).length>0?(0,W.jsx)(`div`,{style:{display:`flex`,flexDirection:`column`,gap:`10px`},children:re(g.nromesa).map(e=>(0,W.jsxs)(`div`,{style:{display:`flex`,justifyContent:`space-between`,alignItems:`center`,padding:`15px`,background:`#f8f5ee`,borderRadius:`6px`,opacity:e.estado===`pendiente`?1:.7},children:[(0,W.jsxs)(`div`,{style:{flex:1},children:[(0,W.jsxs)(`div`,{style:{display:`block`,color:`#7a3b06`,marginBottom:`4px`,fontWeight:`bold`},children:[`Pedido #`,e.id_pedido,e.estado!==`pendiente`&&(0,W.jsxs)(`span`,{style:{marginLeft:`8px`,fontSize:`12px`,padding:`2px 6px`,borderRadius:`10px`,...ce(e.estado)},children:[e.estado===`pagado`&&` Pagado`,e.estado===`cancelado`&&` Cancelado`]})]}),(0,W.jsx)(`div`,{style:{color:`#6d4611`,fontSize:`14px`},children:e.detalle||`Sin detalles`}),(0,W.jsxs)(`div`,{style:{marginTop:`8px`},children:[(0,W.jsxs)(`select`,{value:e.estado||`pendiente`,onChange:t=>M(e.id_pedido,t.target.value),disabled:e.estado===`pagado`||e.estado===`cancelado`,style:{padding:`6px 10px`,border:`1px solid #e9d8b5`,borderRadius:`6px`,fontSize:`14px`,cursor:e.estado===`pendiente`?`pointer`:`not-allowed`,display:`inline-flex`,alignItems:`center`,gap:`6px`,...ce(e.estado),opacity:e.estado===`pendiente`?1:.6},children:[(0,W.jsx)(`option`,{value:`pendiente`,children:` Pendiente`}),(0,W.jsx)(`option`,{value:`pagado`,children:` Pagado`}),(0,W.jsx)(`option`,{value:`cancelado`,children:` Cancelado`})]}),e.estado!==`pendiente`&&(0,W.jsxs)(`div`,{style:{fontSize:`12px`,color:`#6d4611`,marginTop:`4px`,fontStyle:`italic`},children:[e.estado===`pagado`&&`Pedido finalizado - Mesa liberada`,e.estado===`cancelado`&&`Pedido cancelado - Mesa liberada`]})]})]}),(0,W.jsx)(`div`,{children:(0,W.jsx)(`button`,{onClick:()=>ae(e),style:{display:`flex`,alignItems:`center`,gap:`8px`,padding:`8px 16px`,border:`none`,borderRadius:`8px`,cursor:`pointer`,fontSize:`12px`,fontWeight:`500`,backgroundColor:`#17a2b8`,color:`white`},children:`Ver Detalles`})})]},e.id_pedido))}):(0,W.jsx)(`div`,{style:{textAlign:`center`,padding:`30px`,color:`#6d4611`,opacity:.7},children:(0,W.jsx)(`p`,{children:`No hay pedidos para esta mesa`})})]})]})]}),m===`lista`&&(0,W.jsxs)(W.Fragment,{children:[(0,W.jsxs)(`div`,{style:{display:`flex`,flexDirection:`column`,gap:`16px`,marginBottom:`24px`},children:[(0,W.jsxs)(`div`,{style:{position:`relative`,flex:1},children:[(0,W.jsx)(mr,{size:18,style:{position:`absolute`,left:`12px`,top:`50%`,transform:`translateY(-50%)`,color:`#6d4611`}}),(0,W.jsx)(`input`,{type:`text`,placeholder:`Buscar por nmero, saln o capacidad...`,value:T,onChange:e=>E(e.target.value),style:{width:`100%`,padding:`12px 12px 12px 40px`,border:`1px solid #e9d8b5`,borderRadius:`8px`,fontSize:`14px`}})]}),(0,W.jsxs)(`div`,{style:{display:`flex`,gap:`12px`,flexWrap:`wrap`},children:[(0,W.jsxs)(`select`,{value:D,onChange:e=>O(e.target.value),style:{padding:`12px`,border:`1px solid #e9d8b5`,borderRadius:`8px`,fontSize:`14px`,minWidth:`180px`},children:[(0,W.jsx)(`option`,{value:`todos`,children:`Todos los salones`}),(0,W.jsx)(`option`,{value:`1`,children:`Saln 1 - Principal`}),(0,W.jsx)(`option`,{value:`2`,children:`Saln 2 - Terraza`}),(0,W.jsx)(`option`,{value:`3`,children:`Saln 3 - VIP`}),(0,W.jsx)(`option`,{value:`4`,children:`Saln 4 - Jardn`})]}),(0,W.jsxs)(`select`,{value:k,onChange:e=>A(e.target.value),style:{padding:`12px`,border:`1px solid #e9d8b5`,borderRadius:`8px`,fontSize:`14px`,minWidth:`180px`},children:[(0,W.jsx)(`option`,{value:`todos`,children:`Todos los estados`}),(0,W.jsx)(`option`,{value:`libre`,children:`Libre`}),(0,W.jsx)(`option`,{value:`ocupada`,children:`Ocupada`}),(0,W.jsx)(`option`,{value:`reservada`,children:`Reservada`})]}),(0,W.jsxs)(`select`,{value:j,onChange:e=>ee(e.target.value),style:{padding:`12px`,border:`1px solid #e9d8b5`,borderRadius:`8px`,fontSize:`14px`,minWidth:`180px`},children:[(0,W.jsx)(`option`,{value:`todos`,children:`Todas las capacidades`}),(0,W.jsx)(`option`,{value:`pequena`,children:`Pequea (1-2 pers.)`}),(0,W.jsx)(`option`,{value:`mediana`,children:`Mediana (3-6 pers.)`}),(0,W.jsx)(`option`,{value:`grande`,children:`Grande (7+ pers.)`})]})]})]}),(0,W.jsx)(`div`,{style:{display:`grid`,gridTemplateColumns:`repeat(auto-fit, minmax(200px, 1fr))`,gap:`16px`,marginBottom:`24px`},children:[{label:`Total Mesas`,value:ue.totalMesas,icon:br,color:`#e3f2fd`,iconColor:`#1976d2`},{label:`Libres`,value:ue.mesasLibres,icon:Hn,color:`#e8f5e8`,iconColor:`#28a745`},{label:`Ocupadas`,value:ue.mesasOcupadas,icon:Dr,color:`#fff5f5`,iconColor:`#dc3545`},{label:`Reservadas`,value:ue.mesasReservadas,icon:Wn,color:`#fff3cd`,iconColor:`#856404`},{label:`Capacidad Total`,value:ue.capacidadTotal,icon:Dr,color:`#f3e5f5`,iconColor:`#7b1fa2`}].map((e,t)=>(0,W.jsxs)(`div`,{style:{background:`white`,padding:`20px`,borderRadius:`12px`,border:`1px solid #e9d8b5`,display:`flex`,alignItems:`center`,gap:`16px`},children:[(0,W.jsx)(`div`,{style:{background:e.color,padding:`12px`,borderRadius:`8px`,color:e.iconColor},children:(0,W.jsx)(e.icon,{size:24})}),(0,W.jsxs)(`div`,{children:[(0,W.jsx)(`div`,{style:{fontSize:`20px`,fontWeight:`700`,color:`#7a3b06`},children:e.value}),(0,W.jsx)(`div`,{style:{fontSize:`12px`,color:`#6d4611`,opacity:.8},children:e.label})]})]},t))}),(0,W.jsx)(`div`,{style:{display:`flex`,gap:`12px`,marginBottom:`24px`},children:(0,W.jsxs)(`button`,{onClick:()=>{se(),d(!0)},style:{display:`flex`,alignItems:`center`,gap:`8px`,padding:`12px 20px`,border:`none`,borderRadius:`8px`,cursor:`pointer`,fontSize:`14px`,fontWeight:`500`,backgroundColor:`#7a3b06`,color:`white`},children:[(0,W.jsx)(lr,{size:16}),`Nueva Mesa`]})}),u&&(0,W.jsx)(`div`,{style:{position:`fixed`,top:0,left:0,right:0,bottom:0,backgroundColor:`rgba(0, 0, 0, 0.5)`,display:`flex`,alignItems:`center`,justifyContent:`center`,zIndex:1e3,padding:`20px`},children:(0,W.jsxs)(`div`,{style:{background:`white`,padding:`24px`,borderRadius:`12px`,border:`1px solid #e9d8b5`,maxWidth:`500px`,width:`100%`,maxHeight:`90vh`,overflowY:`auto`},children:[(0,W.jsx)(`h3`,{style:{color:`#7a3b06`,marginBottom:`20px`,fontSize:`20px`},children:f?`Editar Mesa`:`Nueva Mesa`}),(0,W.jsxs)(`form`,{onSubmit:ne,children:[(0,W.jsxs)(`div`,{style:{display:`grid`,gridTemplateColumns:`1fr 1fr`,gap:`16px`,marginBottom:`16px`},children:[(0,W.jsxs)(`div`,{style:{marginBottom:`16px`},children:[(0,W.jsx)(`label`,{style:{display:`block`,marginBottom:`6px`,color:`#6d4611`,fontWeight:`500`},children:`Nmero de Mesa *`}),(0,W.jsx)(`input`,{type:`number`,value:S.nromesa,onChange:e=>C({...S,nromesa:e.target.value}),required:!0,min:`1`,disabled:!!f,placeholder:`Ej: 1, 2, 3...`,style:{width:`100%`,padding:`10px`,border:`1px solid #e9d8b5`,borderRadius:`6px`,fontSize:`14px`}})]}),(0,W.jsxs)(`div`,{style:{marginBottom:`16px`},children:[(0,W.jsx)(`label`,{style:{display:`block`,marginBottom:`6px`,color:`#6d4611`,fontWeight:`500`},children:`Saln *`}),(0,W.jsxs)(`select`,{value:S.salon,onChange:e=>C({...S,salon:e.target.value}),required:!0,style:{width:`100%`,padding:`10px`,border:`1px solid #e9d8b5`,borderRadius:`6px`,fontSize:`14px`},children:[(0,W.jsx)(`option`,{value:``,children:`Seleccionar saln`}),(0,W.jsx)(`option`,{value:`1`,children:`Saln 1 - Principal`}),(0,W.jsx)(`option`,{value:`2`,children:`Saln 2 - Terraza`}),(0,W.jsx)(`option`,{value:`3`,children:`Saln 3 - VIP`}),(0,W.jsx)(`option`,{value:`4`,children:`Saln 4 - Jardn`})]})]})]}),(0,W.jsxs)(`div`,{style:{display:`grid`,gridTemplateColumns:`1fr 1fr`,gap:`16px`,marginBottom:`16px`},children:[(0,W.jsxs)(`div`,{style:{marginBottom:`16px`},children:[(0,W.jsx)(`label`,{style:{display:`block`,marginBottom:`6px`,color:`#6d4611`,fontWeight:`500`},children:`Capacidad *`}),(0,W.jsx)(`input`,{type:`number`,value:S.capacidad,onChange:e=>C({...S,capacidad:e.target.value}),required:!0,min:`1`,max:`20`,placeholder:`Nmero de personas`,style:{width:`100%`,padding:`10px`,border:`1px solid #e9d8b5`,borderRadius:`6px`,fontSize:`14px`}})]}),(0,W.jsxs)(`div`,{style:{marginBottom:`16px`},children:[(0,W.jsx)(`label`,{style:{display:`block`,marginBottom:`6px`,color:`#6d4611`,fontWeight:`500`},children:`Estado Inicial`}),(0,W.jsxs)(`select`,{value:S.estado,onChange:e=>C({...S,estado:e.target.value}),style:{width:`100%`,padding:`10px`,border:`1px solid #e9d8b5`,borderRadius:`6px`,fontSize:`14px`},children:[(0,W.jsx)(`option`,{value:`libre`,children:`Libre`}),(0,W.jsx)(`option`,{value:`ocupada`,children:`Ocupada`}),(0,W.jsx)(`option`,{value:`reservada`,children:`Reservada`})]})]})]}),(0,W.jsxs)(`div`,{style:{display:`flex`,gap:`12px`,marginTop:`24px`},children:[(0,W.jsxs)(`button`,{type:`submit`,style:{display:`flex`,alignItems:`center`,gap:`8px`,padding:`12px 20px`,border:`none`,borderRadius:`8px`,cursor:`pointer`,fontSize:`14px`,fontWeight:`500`,backgroundColor:`#28a745`,color:`white`},children:[(0,W.jsx)(pr,{size:16}),f?`Actualizar`:`Guardar`]}),(0,W.jsx)(`button`,{type:`button`,onClick:se,style:{display:`flex`,alignItems:`center`,gap:`8px`,padding:`12px 20px`,border:`none`,borderRadius:`8px`,cursor:`pointer`,fontSize:`14px`,fontWeight:`500`,backgroundColor:`#6c757d`,color:`white`},children:`Cancelar`})]})]})]})}),(0,W.jsxs)(`div`,{style:{background:`white`,borderRadius:`12px`,border:`1px solid #e9d8b5`,overflow:`hidden`},children:[(0,W.jsxs)(`div`,{style:{padding:`20px`,borderBottom:`1px solid #e9d8b5`,display:`flex`,alignItems:`center`,gap:`10px`,backgroundColor:`#f8f5ee`},children:[(0,W.jsx)(br,{size:20,style:{color:`#7a3b06`}}),(0,W.jsxs)(`h2`,{style:{color:`#7a3b06`,margin:0,fontSize:`18px`,flex:1},children:[`Mesas (`,le.length,`)`]}),(0,W.jsxs)(`div`,{style:{display:`flex`,gap:`10px`,alignItems:`center`},children:[(0,W.jsxs)(`span`,{style:{display:`inline-flex`,alignItems:`center`,gap:`4px`,padding:`4px 8px`,borderRadius:`12px`,fontSize:`12px`,fontWeight:`600`,backgroundColor:`#e8f5e8`,color:`#28a745`},children:[ue.mesasLibres,` libres`]}),(0,W.jsxs)(`span`,{style:{display:`inline-flex`,alignItems:`center`,gap:`4px`,padding:`4px 8px`,borderRadius:`12px`,fontSize:`12px`,fontWeight:`600`,backgroundColor:`#fff5f5`,color:`#dc3545`},children:[ue.mesasOcupadas,` ocupadas`]})]})]}),(0,W.jsxs)(`div`,{style:{overflowX:`auto`},children:[(0,W.jsxs)(`table`,{style:{width:`100%`,borderCollapse:`collapse`,minWidth:`1000px`},children:[(0,W.jsx)(`thead`,{children:(0,W.jsxs)(`tr`,{style:{backgroundColor:`#f8f5ee`},children:[(0,W.jsx)(`th`,{style:{padding:`12px`,border:`1px solid #e9d8b5`,color:`#6d4611`,fontWeight:`600`},children:`Nro Mesa`}),(0,W.jsx)(`th`,{style:{padding:`12px`,border:`1px solid #e9d8b5`,color:`#6d4611`,fontWeight:`600`},children:`Saln`}),(0,W.jsx)(`th`,{style:{padding:`12px`,border:`1px solid #e9d8b5`,color:`#6d4611`,fontWeight:`600`},children:`Capacidad`}),(0,W.jsx)(`th`,{style:{padding:`12px`,border:`1px solid #e9d8b5`,color:`#6d4611`,fontWeight:`600`},children:`Estado`}),(0,W.jsx)(`th`,{style:{padding:`12px`,border:`1px solid #e9d8b5`,color:`#6d4611`,fontWeight:`600`},children:`Pedidos Activos`}),(0,W.jsx)(`th`,{style:{padding:`12px`,border:`1px solid #e9d8b5`,color:`#6d4611`,fontWeight:`600`},children:`Acciones`})]})}),(0,W.jsx)(`tbody`,{children:le.map(e=>{let t=B(e.nromesa);return(0,W.jsxs)(`tr`,{style:{libre:{backgroundColor:`#f8fff8`},ocupada:{backgroundColor:`#fff5f5`},reservada:{backgroundColor:`#fffdf5`}}[e.estado]||{},children:[(0,W.jsx)(`td`,{style:{padding:`12px`,border:`1px solid #e9d8b5`,color:`#6d4611`},children:(0,W.jsxs)(`strong`,{style:{color:`#7a3b06`,fontSize:`16px`},children:[`#`,e.nromesa]})}),(0,W.jsx)(`td`,{style:{padding:`12px`,border:`1px solid #e9d8b5`,color:`#6d4611`},children:(0,W.jsxs)(`div`,{style:{display:`flex`,flexDirection:`column`,gap:`4px`},children:[(0,W.jsxs)(`span`,{style:{display:`flex`,alignItems:`center`,gap:`6px`,fontWeight:`500`},children:[(0,W.jsx)(ir,{size:14}),`Saln `,e.salon]}),(0,W.jsx)(`small`,{style:{color:`#6d4611`,opacity:.8,fontSize:`12px`},children:de(e.salon).nombre})]})}),(0,W.jsx)(`td`,{style:{padding:`12px`,border:`1px solid #e9d8b5`,color:`#6d4611`},children:(0,W.jsxs)(`div`,{style:{display:`flex`,alignItems:`center`,gap:`6px`},children:[(0,W.jsx)(Dr,{size:14}),(0,W.jsxs)(`span`,{children:[e.capacidad,` personas`]})]})}),(0,W.jsx)(`td`,{style:{padding:`12px`,border:`1px solid #e9d8b5`,color:`#6d4611`},children:(0,W.jsxs)(`select`,{value:e.estado,onChange:t=>ie(e.nromesa,t.target.value),style:{padding:`6px 10px`,border:`1px solid #e9d8b5`,borderRadius:`6px`,fontSize:`14px`,cursor:`pointer`,...{libre:{backgroundColor:`#e8f5e8`,color:`#28a745`},ocupada:{backgroundColor:`#fff5f5`,color:`#dc3545`},reservada:{backgroundColor:`#fff3cd`,color:`#856404`}}[e.estado]},children:[(0,W.jsx)(`option`,{value:`libre`,children:`Libre`}),(0,W.jsx)(`option`,{value:`ocupada`,children:`Ocupada`}),(0,W.jsx)(`option`,{value:`reservada`,children:`Reservada`})]})}),(0,W.jsx)(`td`,{style:{padding:`12px`,border:`1px solid #e9d8b5`,color:`#6d4611`},children:t.length>0?(0,W.jsxs)(`span`,{style:{padding:`4px 8px`,borderRadius:`12px`,fontSize:`12px`,fontWeight:`600`,backgroundColor:`#fff5f5`,color:`#dc3545`},children:[t.length,` activos`]}):(0,W.jsx)(`span`,{style:{padding:`4px 8px`,borderRadius:`12px`,fontSize:`12px`,fontWeight:`600`,backgroundColor:`#f8f9fa`,color:`#6c757d`},children:`Sin pedidos`})}),(0,W.jsx)(`td`,{style:{padding:`12px`,border:`1px solid #e9d8b5`,color:`#6d4611`,width:`140px`},children:(0,W.jsxs)(`div`,{style:{display:`flex`,gap:`6px`,justifyContent:`center`},children:[(0,W.jsx)(`button`,{onClick:()=>z(e),style:{display:`flex`,alignItems:`center`,justifyContent:`center`,padding:`6px 8px`,border:`none`,borderRadius:`4px`,cursor:`pointer`,backgroundColor:`#17a2b8`,color:`white`},title:`Ver detalles`,children:(0,W.jsx)(Yn,{size:14})}),(0,W.jsx)(`button`,{onClick:()=>R(e),style:{display:`flex`,alignItems:`center`,justifyContent:`center`,padding:`6px 8px`,border:`none`,borderRadius:`4px`,cursor:`pointer`,backgroundColor:`#ffc107`,color:`#7a3b06`},title:`Editar mesa`,children:(0,W.jsx)(yr,{size:14})}),(0,W.jsx)(`button`,{onClick:()=>V(e.nromesa),style:{display:`flex`,alignItems:`center`,justifyContent:`center`,padding:`6px 8px`,border:`none`,borderRadius:`4px`,cursor:`pointer`,backgroundColor:`#dc3545`,color:`white`},title:`Eliminar mesa`,disabled:t.length>0,children:(0,W.jsx)(xr,{size:14})})]})})]},e.nromesa)})})]}),le.length===0&&(0,W.jsxs)(`div`,{style:{padding:`60px 20px`,textAlign:`center`,color:`#6d4611`,opacity:.7},children:[(0,W.jsx)(br,{size:48,style:{marginBottom:`16px`,opacity:.5}}),(0,W.jsx)(`p`,{children:`No se encontraron mesas`})]})]})]})]}),(0,W.jsx)(`style`,{children:`
          @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
          }
        `})]})}var Xc=class{static async actualizarStock(e,t,n,r=``){try{if(!e||t==null)throw Error(`ID de producto y cantidad son requeridos`);if(t===0)return{success:!0,message:`No hay cambios en el stock`};let{data:i,error:a}=await Z.from(`inventario`).select(`*`).eq(`id_producto`,e).order(`fecha`,{ascending:!1}).limit(1).single();if(a&&a.code!==`PGRST116`)throw Error(`Error al obtener inventario: ${a.message}`);let o=new Date().toISOString().split(`T`)[0];return!i||i.fecha!==o?await this.crearNuevoRegistroInventario(e,t,n,r,i):await this.actualizarRegistroExistente(i,t,n,r)}catch(e){throw console.error(`Error en actualizarStock:`,e),e}}static async crearNuevoRegistroInventario(e,t,n,r,i){let a=i?i.cantidad_actual:0,o=a+t;if(o<0)throw Error(`Stock insuficiente para el producto ${e}. Stock actual: ${a}, requerido: ${Math.abs(t)}`);let s={id_producto:e,fecha:new Date().toISOString().split(`T`)[0],cantidad_actual:o,entradas:t>0?t:0,salidas:t<0?Math.abs(t):0,observaciones:`${n}: ${r}`.substring(0,500)},{data:c,error:l}=await Z.from(`inventario`).insert([s]).select().single();if(l)throw l;return{success:!0,message:`Stock actualizado correctamente`,data:c,movimiento:{tipo:n,cantidad:t,stock_anterior:a,stock_actual:o}}}static async actualizarRegistroExistente(e,t,n,r){let i=e.cantidad_actual+t;if(i<0)throw Error(`Stock insuficiente para el producto ${e.id_producto}. Stock actual: ${e.cantidad_actual}, requerido: ${Math.abs(t)}`);let a={cantidad_actual:i,entradas:e.entradas+(t>0?t:0),salidas:e.salidas+(t<0?Math.abs(t):0),observaciones:`${e.observaciones||``} | ${n}: ${r}`.substring(0,500)},{data:o,error:s}=await Z.from(`inventario`).update(a).eq(`id_inventario`,e.id_inventario).select().single();if(s)throw s;return{success:!0,message:`Stock actualizado correctamente`,data:o,movimiento:{tipo:n,cantidad:t,stock_anterior:e.cantidad_actual,stock_actual:i}}}static async actualizarStockMultiple(e,t,n=``){try{let r=[];for(let i of e)try{let e=await this.actualizarStock(i.id_producto,i.cantidad,t,`${n} - Producto: ${i.id_producto}`);r.push({id_producto:i.id_producto,success:!0,data:e})}catch(e){throw r.push({id_producto:i.id_producto,success:!1,error:e.message}),await this.revertirMovimientos(r.filter(e=>e.success)),Error(`Error en producto ${i.id_producto}: ${e.message}`)}return{success:!0,message:`Stock mltiple actualizado correctamente`,resultados:r}}catch(e){throw console.error(`Error en actualizarStockMultiple:`,e),e}}static async revertirMovimientos(e){for(let t of e)try{await this.actualizarStock(t.id_producto,-t.data.movimiento.cantidad,`reversion`,`Reversin por error en transaccin`)}catch(e){console.error(`Error revirtiendo movimiento para producto ${t.id_producto}:`,e)}}static async obtenerStockActual(e){let{data:t,error:n}=await Z.from(`inventario`).select(`cantidad_actual`).eq(`id_producto`,e).order(`fecha`,{ascending:!1}).limit(1).single();if(n){if(n.code===`PGRST116`)return 0;throw n}return t.cantidad_actual}static async verificarDisponibilidad(e){let t=[];for(let n of e){let e=await this.obtenerStockActual(n.id_producto),r=e>=n.cantidad;t.push({id_producto:n.id_producto,cantidad_requerida:n.cantidad,stock_actual:e,disponible:r,deficit:r?0:n.cantidad-e})}return{todosDisponibles:t.every(e=>e.disponible),verificaciones:t,productosSinStock:t.filter(e=>!e.disponible)}}static async obtenerHistorialProducto(e,t=30){let{data:n,error:r}=await Z.from(`inventario`).select(`*`).eq(`id_producto`,e).order(`fecha`,{ascending:!1}).limit(t);if(r)throw r;return n||[]}static async obtenerProductosStockBajo(){let{data:e,error:t}=await Z.from(`inventario`).select(`
        *,
        productos (id_producto, nombre, precio)
      `).order(`fecha`,{ascending:!1}).limit(1e3);if(t)throw t;let n={};return e.forEach(e=>{n[e.id_producto]||(n[e.id_producto]=e)}),Object.values(n).filter(e=>e.cantidad_actual<10)}};function Zc(){let[e,t]=(0,w.useState)([]),[n,r]=(0,w.useState)([]),[i,a]=(0,w.useState)([]),[o,s]=(0,w.useState)([]),[c,l]=(0,w.useState)([]),[u,d]=(0,w.useState)([]),[f,p]=(0,w.useState)(!0),[m,h]=(0,w.useState)(``),[g,_]=(0,w.useState)(``),[v,y]=(0,w.useState)(!1),[b,x]=(0,w.useState)(!1),[S,C]=(0,w.useState)(!1),[T,E]=(0,w.useState)(null),[D,O]=(0,w.useState)(null),[k,A]=(0,w.useState)(null),[j,ee]=(0,w.useState)(``),[M,te]=(0,w.useState)(``),[N,P]=(0,w.useState)(!1),[F,I]=(0,w.useState)({nromesa:``,ci:``,estado:`pendiente`,detalle:``}),[L,ne]=(0,w.useState)([]),[R,z]=(0,w.useState)(``),[B,re]=(0,w.useState)(1);(0,w.useEffect)(()=>{ie()},[]);let V=(e,t=`error`)=>{t===`success`?(_(e),setTimeout(()=>_(``),4e3)):(h(e),setTimeout(()=>h(``),6e3))},ie=async()=>{try{p(!0);let[e,n,i,o,c,u]=await Promise.all([Z.from(`pedidos`).select(`*`),Z.from(`pedido_producto`).select(`*`),Z.from(`productos`).select(`*`),Z.from(`empleados`).select(`ci, nombre, pat, mat`),Z.from(`mesas`).select(`nromesa, salon, capacidad, estado`),Z.from(`ventas`).select(`*`)]),f=[e.error,n.error,i.error,o.error,c.error,u.error].filter(e=>e);if(f.length>0)throw Error(`Errores al cargar: ${f.map(e=>e.message).join(`, `)}`);t((e.data||[]).sort((e,t)=>t.id_pedido-e.id_pedido)),r(n.data||[]),a(i.data||[]),s(o.data||[]),l(c.data||[]),d(u.data||[])}catch(e){V(`Error al cargar datos: ${e.message}`),console.error(`Error:`,e)}finally{p(!1)}},ae=e=>n.filter(t=>t.id_pedido===e),oe=e=>ae(e).reduce((e,t)=>e+t.subtotal,0),se=async e=>{try{let t=ae(e);if(t.length===0)return{todosDisponibles:!0,verificaciones:[]};let n=t.map(e=>({id_producto:e.id_producto,cantidad:e.cantidad}));return await Xc.verificarDisponibilidad(n)}catch(e){throw console.error(`Error verificando stock:`,e),e}},ce=async e=>{try{let t=ae(e);if(t.length===0)throw Error(`El pedido no tiene productos para actualizar stock`);let n=t.map(e=>({id_producto:e.id_producto,cantidad:-e.cantidad,producto:i.find(t=>t.id_producto===e.id_producto)}));return await Xc.actualizarStockMultiple(n,`venta_pedido`,`Venta - Pedido #${e}`)}catch(e){throw console.error(`Error actualizando stock:`,e),e}},le=async e=>{try{let t=oe(e.id_pedido);if(u.find(t=>t.id_pedido===e.id_pedido))throw Error(`Este pedido ya tiene una venta asociada`);let n=await se(e.id_pedido);if(!n.todosDisponibles){let e=n.productosSinStock.map(e=>{let t=i.find(t=>t.id_producto===e.id_producto);return`${t?t.nombre:`Producto #${e.id_producto}`}: Requerido ${e.cantidad_requerida}, Stock ${e.stock_actual}`}).join(`
`);throw Error(`Stock insuficiente para los siguientes productos:\n${e}`)}let r={id_pedido:e.id_pedido,monto_total:t,descripcion:`Venta automtica - Pedido #${e.id_pedido}`,fecha:new Date().toISOString()},{data:a,error:o}=await Z.from(`ventas`).insert([r]).select();if(o)throw o;return await ce(e.id_pedido),a[0]}catch(e){throw console.error(`Error creando venta:`,e),e}},ue=async(t,n)=>{A(`estado-${t}`);try{let r=e.find(e=>e.id_pedido===t);if(!r)throw Error(`Pedido no encontrado`);if(n===`pagado`&&r.estado!==`pagado`&&await le(r),r.estado===`pagado`&&n!==`pagado`){let e=u.find(e=>e.id_pedido===t);if(e){await Z.from(`ventas`).delete().eq(`id_venta`,e.id_venta);let n=ae(t).map(e=>({id_producto:e.id_producto,cantidad:e.cantidad,producto:i.find(t=>t.id_producto===e.id_producto)}));await Xc.actualizarStockMultiple(n,`reversion_pedido`,`Reversin Pedido #${t}`)}}let{error:a}=await Z.from(`pedidos`).update({estado:n}).eq(`id_pedido`,t);if(a)throw a;V(`Pedido ${n===`pagado`?`marcado como pagado y venta registrada`:`actualizado a ${n}`}`,`success`),ie()}catch(e){V(`Error al cambiar estado: ${e.message}`)}finally{A(null)}},de=async(e,t,n)=>{try{let r=i.find(e=>e.id_producto===parseInt(t));if(!r)throw Error(`Producto no encontrado`);let a=r.precio*n,{data:o,error:s}=await Z.from(`pedido_producto`).insert([{id_pedido:e,id_producto:parseInt(t),cantidad:n,subtotal:a}]).select();if(s)throw s;return o[0]}catch(e){throw console.error(`Error agregando producto:`,e),e}},fe=async e=>{try{let{error:t}=await Z.from(`pedido_producto`).delete().eq(`id_pedido_producto`,e);if(t)throw t}catch(e){throw console.error(`Error eliminando producto:`,e),e}},pe=async()=>{if(!R||B<1){V(`Selecciona un producto y una cantidad vlida`);return}A(`agregar-producto`);try{await de(T.id_pedido,R,B),V(`Producto agregado al pedido exitosamente`,`success`),z(``),re(1),ie()}catch(e){V(`Error al agregar producto: ${e.message}`)}finally{A(null)}},me=async e=>{e.preventDefault(),A(`guardar`);try{let e={nromesa:parseInt(F.nromesa),ci:F.ci,estado:F.estado,detalle:F.detalle||null},t;if(t=D?await Z.from(`pedidos`).update(e).eq(`id_pedido`,D):await Z.from(`pedidos`).insert([e]).select(),t.error)throw t.error;V(`Pedido ${D?`actualizado`:`creado`} exitosamente`,`success`),ge(),ie()}catch(e){V(e.message)}finally{A(null)}},he=async e=>{if(window.confirm(`Ests seguro de eliminar este pedido? Tambin se eliminarn los productos asociados.`)){A(`delete-${e}`);try{if(u.find(t=>t.id_pedido===e))throw Error(`No se puede eliminar un pedido con venta asociada. Primero elimine la venta.`);let{error:t}=await Z.from(`pedido_producto`).delete().eq(`id_pedido`,e);if(t)throw t;let{error:n}=await Z.from(`pedidos`).delete().eq(`id_pedido`,e);if(n)throw n;V(`Pedido eliminado exitosamente`,`success`),ie()}catch(e){V(`Error al eliminar pedido: ${e.message}`)}finally{A(null)}}},ge=()=>{I({nromesa:``,ci:``,estado:`pendiente`,detalle:``}),O(null),y(!1)},_e=()=>{ee(``),te(``)},ve=e=>{let t=c.find(t=>t.nromesa===e);return t?`Mesa ${e} - Saln ${t.salon} (Capacidad: ${t.capacidad})`:`Mesa ${e}`},ye=e=>{let t=o.find(t=>t.ci===e);return t?`${t.nombre} ${t.pat}`:`N/A`},be=e=>{let t={pendiente:{color:`#ffc107`,bgColor:`#fff3cd`,icon:Wn},preparacion:{color:`#17a2b8`,bgColor:`#d1ecf1`,icon:sr},listo:{color:`#28a745`,bgColor:`#d4edda`,icon:Vn},pagado:{color:`#6f42c1`,bgColor:`#e2d9f3`,icon:Kn},cancelado:{color:`#dc3545`,bgColor:`#f8d7da`,icon:Un}},n=t[e]||t.pendiente,r=n.icon;return(0,W.jsxs)(`span`,{style:{display:`inline-flex`,alignItems:`center`,gap:`4px`,padding:`4px 8px`,borderRadius:`12px`,fontSize:`12px`,fontWeight:`500`,backgroundColor:n.bgColor,color:n.color,border:`1px solid ${n.color}20`},children:[(0,W.jsx)(r,{size:12}),e?e.charAt(0).toUpperCase()+e.slice(1):`Sin estado`]})},xe=e=>{let t=ae(e);if(t.length===0)return`Sin productos`;let n=t.slice(0,2).map(e=>{let t=i.find(t=>t.id_producto===e.id_producto);return t?`${t.nombre} (x${e.cantidad})`:`Producto #${e.id_producto}`}).join(`, `);return t.length>2?`${n}...`:n},Se=e.filter(e=>{let t=e.id_pedido.toString().includes(j)||e.nromesa.toString().includes(j)||ye(e.ci).toLowerCase().includes(j.toLowerCase())||e.detalle?.toLowerCase().includes(j.toLowerCase()),n=!M||e.estado===M;return t&&n}),Ce={totalPedidos:e.length,pendientes:e.filter(e=>e.estado===`pendiente`).length,enPreparacion:e.filter(e=>e.estado===`preparacion`).length,listos:e.filter(e=>e.estado===`listo`).length,pagados:e.filter(e=>e.estado===`pagado`).length,totalVendido:e.filter(e=>e.estado===`pagado`).reduce((e,t)=>e+oe(t.id_pedido),0)};return f?(0,W.jsxs)(`div`,{style:{display:`flex`,flexDirection:`column`,alignItems:`center`,justifyContent:`center`,padding:`60px 20px`,color:`#7a3b06`},children:[(0,W.jsx)(tr,{size:32,style:{animation:`spin 1s linear infinite`}}),(0,W.jsx)(`p`,{children:`Cargando pedidos...`})]}):(0,W.jsxs)(`div`,{style:{padding:`20px`,maxWidth:`1400px`,margin:`0 auto`},children:[(0,W.jsx)(`header`,{style:{marginBottom:`30px`},children:(0,W.jsxs)(`div`,{style:{display:`flex`,justifyContent:`space-between`,alignItems:`flex-start`,gap:`20px`},children:[(0,W.jsxs)(`div`,{style:{display:`flex`,alignItems:`flex-start`,gap:`16px`},children:[(0,W.jsx)(vr,{size:32,style:{color:`#7a3b06`,marginTop:`4px`}}),(0,W.jsxs)(`div`,{children:[(0,W.jsx)(`h1`,{style:{fontSize:`28px`,color:`#7a3b06`,marginBottom:`8px`,fontWeight:`700`},children:`Gestin de Pedidos`}),(0,W.jsx)(`p`,{style:{color:`#6d4611`,fontSize:`14px`,opacity:.9,margin:0},children:`Administra los pedidos del restaurante`})]})]}),(0,W.jsxs)(`button`,{onClick:ie,style:{display:`flex`,alignItems:`center`,gap:`8px`,padding:`12px 20px`,border:`none`,borderRadius:`8px`,cursor:`pointer`,fontSize:`14px`,fontWeight:`500`,backgroundColor:`#6d4611`,color:`white`},disabled:f,children:[(0,W.jsx)(dr,{size:16,style:f?{animation:`spin 1s linear infinite`}:{}}),`Actualizar`]})]})}),m&&(0,W.jsxs)(`div`,{style:{display:`flex`,alignItems:`center`,gap:`12px`,padding:`12px 16px`,borderRadius:`8px`,marginBottom:`20px`,fontSize:`14px`,backgroundColor:`#fee`,border:`1px solid #f5c6cb`,color:`#721c24`},children:[(0,W.jsx)(Un,{size:20}),(0,W.jsx)(`span`,{style:{whiteSpace:`pre-line`},children:m}),(0,W.jsx)(`button`,{onClick:()=>h(``),style:{marginLeft:`auto`,background:`none`,border:`none`,cursor:`pointer`,opacity:.7},children:(0,W.jsx)(U,{size:16})})]}),g&&(0,W.jsxs)(`div`,{style:{display:`flex`,alignItems:`center`,gap:`12px`,padding:`12px 16px`,borderRadius:`8px`,marginBottom:`20px`,fontSize:`14px`,backgroundColor:`#f0fff4`,border:`1px solid #c3e6cb`,color:`#155724`},children:[(0,W.jsx)(Vn,{size:20}),(0,W.jsx)(`span`,{children:g}),(0,W.jsx)(`button`,{onClick:()=>_(``),style:{marginLeft:`auto`,background:`none`,border:`none`,cursor:`pointer`,opacity:.7},children:(0,W.jsx)(U,{size:16})})]}),(0,W.jsx)(`div`,{style:{display:`grid`,gridTemplateColumns:`repeat(auto-fit, minmax(200px, 1fr))`,gap:`16px`,marginBottom:`24px`},children:[{label:`Total Pedidos`,value:Ce.totalPedidos,icon:vr,color:`#e3f2fd`,iconColor:`#1976d2`},{label:`Pendientes`,value:Ce.pendientes,icon:Wn,color:`#fff3cd`,iconColor:`#856404`},{label:`En Preparacin`,value:Ce.enPreparacion,icon:sr,color:`#d1ecf1`,iconColor:`#0c5460`},{label:`Listos`,value:Ce.listos,icon:Vn,color:`#d4edda`,iconColor:`#155724`},{label:`Pagados`,value:Ce.pagados,icon:Kn,color:`#e2d9f3`,iconColor:`#6f42c1`},{label:`Total Vendido`,value:Ce.totalVendido,icon:Kn,color:`#e8f5e8`,iconColor:`#28a745`,format:`currency`}].map((e,t)=>(0,W.jsxs)(`div`,{style:{background:`white`,padding:`20px`,borderRadius:`12px`,border:`1px solid #e9d8b5`,display:`flex`,alignItems:`center`,gap:`16px`},children:[(0,W.jsx)(`div`,{style:{background:e.color,padding:`12px`,borderRadius:`8px`,color:e.iconColor},children:(0,W.jsx)(e.icon,{size:24})}),(0,W.jsxs)(`div`,{children:[(0,W.jsx)(`div`,{style:{fontSize:`20px`,fontWeight:`700`,color:`#7a3b06`},children:e.format===`currency`?new Intl.NumberFormat(`es-BO`,{style:`currency`,currency:`BOB`}).format(e.value):e.value}),(0,W.jsx)(`div`,{style:{fontSize:`12px`,color:`#6d4611`,opacity:.8},children:e.label})]})]},t))}),(0,W.jsxs)(`div`,{style:{display:`flex`,flexDirection:`column`,gap:`16px`,marginBottom:`24px`},children:[(0,W.jsxs)(`div`,{style:{display:`flex`,gap:`12px`,flexWrap:`wrap`},children:[(0,W.jsxs)(`div`,{style:{position:`relative`,flex:`1`,minWidth:`300px`},children:[(0,W.jsx)(mr,{size:18,style:{position:`absolute`,left:`12px`,top:`50%`,transform:`translateY(-50%)`,color:`#6d4611`}}),(0,W.jsx)(`input`,{type:`text`,placeholder:`Buscar por ID, mesa, empleado...`,value:j,onChange:e=>ee(e.target.value),style:{width:`100%`,padding:`12px 12px 12px 40px`,border:`1px solid #e9d8b5`,borderRadius:`8px`,fontSize:`14px`}})]}),(0,W.jsxs)(`button`,{onClick:()=>P(!N),style:{display:`flex`,alignItems:`center`,gap:`8px`,padding:`12px 20px`,border:`none`,borderRadius:`8px`,cursor:`pointer`,fontSize:`14px`,fontWeight:`500`,backgroundColor:`transparent`,border:`1px solid #e9d8b5`,color:`#6d4611`},children:[(0,W.jsx)(Zn,{size:16}),`Filtros`,N?(0,W.jsx)(zn,{size:16}):(0,W.jsx)(Rn,{size:16})]}),(0,W.jsxs)(`button`,{onClick:_e,style:{display:`flex`,alignItems:`center`,gap:`8px`,padding:`12px 20px`,border:`none`,borderRadius:`8px`,cursor:`pointer`,fontSize:`14px`,fontWeight:`500`,backgroundColor:`#6c757d`,color:`white`},children:[(0,W.jsx)(U,{size:16}),`Limpiar`]})]}),N&&(0,W.jsx)(`div`,{style:{padding:`20px`,background:`#f8f5ee`,borderRadius:`8px`,border:`1px solid #e9d8b5`},children:(0,W.jsx)(`div`,{style:{display:`grid`,gridTemplateColumns:`repeat(auto-fit, minmax(200px, 1fr))`,gap:`16px`},children:(0,W.jsxs)(`div`,{children:[(0,W.jsx)(`label`,{style:{display:`block`,marginBottom:`6px`,color:`#6d4611`,fontWeight:`500`,fontSize:`12px`},children:`Estado`}),(0,W.jsxs)(`select`,{value:M,onChange:e=>te(e.target.value),style:{width:`100%`,padding:`8px`,border:`1px solid #e9d8b5`,borderRadius:`6px`,fontSize:`14px`},children:[(0,W.jsx)(`option`,{value:``,children:`Todos los estados`}),(0,W.jsx)(`option`,{value:`pendiente`,children:`Pendiente`}),(0,W.jsx)(`option`,{value:`preparacion`,children:`En preparacin`}),(0,W.jsx)(`option`,{value:`listo`,children:`Listo`}),(0,W.jsx)(`option`,{value:`pagado`,children:`Pagado`}),(0,W.jsx)(`option`,{value:`cancelado`,children:`Cancelado`})]})]})})})]}),(0,W.jsx)(`div`,{style:{display:`flex`,gap:`12px`,marginBottom:`24px`,flexWrap:`wrap`},children:(0,W.jsxs)(`button`,{onClick:()=>{ge(),y(!0)},style:{display:`flex`,alignItems:`center`,gap:`8px`,padding:`12px 20px`,border:`none`,borderRadius:`8px`,cursor:`pointer`,fontSize:`14px`,fontWeight:`500`,backgroundColor:`#7a3b06`,color:`white`},children:[(0,W.jsx)(lr,{size:16}),`Nuevo Pedido`]})}),(0,W.jsxs)(`div`,{style:{background:`white`,borderRadius:`12px`,border:`1px solid #e9d8b5`,overflow:`hidden`},children:[(0,W.jsxs)(`div`,{style:{padding:`20px`,borderBottom:`1px solid #e9d8b5`,display:`flex`,alignItems:`center`,gap:`10px`,backgroundColor:`#f8f5ee`},children:[(0,W.jsx)(vr,{size:20,style:{color:`#7a3b06`}}),(0,W.jsxs)(`h2`,{style:{color:`#7a3b06`,margin:0,fontSize:`18px`,flex:1},children:[`Lista de Pedidos (`,Se.length,`)`]})]}),(0,W.jsxs)(`div`,{style:{overflowX:`auto`},children:[(0,W.jsxs)(`table`,{style:{width:`100%`,borderCollapse:`collapse`,minWidth:`1000px`},children:[(0,W.jsx)(`thead`,{children:(0,W.jsxs)(`tr`,{style:{backgroundColor:`#f8f5ee`},children:[(0,W.jsx)(`th`,{style:{padding:`12px`,border:`1px solid #e9d8b5`,color:`#6d4611`,fontWeight:`600`,textAlign:`left`},children:`ID`}),(0,W.jsx)(`th`,{style:{padding:`12px`,border:`1px solid #e9d8b5`,color:`#6d4611`,fontWeight:`600`,textAlign:`left`},children:`Mesa`}),(0,W.jsx)(`th`,{style:{padding:`12px`,border:`1px solid #e9d8b5`,color:`#6d4611`,fontWeight:`600`,textAlign:`left`},children:`Empleado`}),(0,W.jsx)(`th`,{style:{padding:`12px`,border:`1px solid #e9d8b5`,color:`#6d4611`,fontWeight:`600`,textAlign:`left`},children:`Productos`}),(0,W.jsx)(`th`,{style:{padding:`12px`,border:`1px solid #e9d8b5`,color:`#6d4611`,fontWeight:`600`,textAlign:`left`},children:`Detalle`}),(0,W.jsx)(`th`,{style:{padding:`12px`,border:`1px solid #e9d8b5`,color:`#6d4611`,fontWeight:`600`,textAlign:`right`},children:`Total`}),(0,W.jsx)(`th`,{style:{padding:`12px`,border:`1px solid #e9d8b5`,color:`#6d4611`,fontWeight:`600`,textAlign:`center`},children:`Estado`}),(0,W.jsx)(`th`,{style:{padding:`12px`,border:`1px solid #e9d8b5`,color:`#6d4611`,fontWeight:`600`,textAlign:`center`},children:`Acciones`})]})}),(0,W.jsx)(`tbody`,{children:Se.map(e=>(0,W.jsxs)(`tr`,{children:[(0,W.jsx)(`td`,{style:{padding:`12px`,border:`1px solid #e9d8b5`,color:`#6d4611`},children:(0,W.jsxs)(`strong`,{style:{color:`#7a3b06`},children:[`#`,e.id_pedido]})}),(0,W.jsx)(`td`,{style:{padding:`12px`,border:`1px solid #e9d8b5`,color:`#6d4611`},children:ve(e.nromesa)}),(0,W.jsx)(`td`,{style:{padding:`12px`,border:`1px solid #e9d8b5`,color:`#6d4611`},children:ye(e.ci)}),(0,W.jsxs)(`td`,{style:{padding:`12px`,border:`1px solid #e9d8b5`,color:`#6d4611`,maxWidth:`200px`},children:[(0,W.jsx)(`div`,{style:{fontSize:`12px`,lineHeight:`1.4`},children:xe(e.id_pedido)}),(0,W.jsxs)(`div`,{style:{display:`flex`,gap:`4px`,marginTop:`4px`},children:[(0,W.jsx)(`button`,{onClick:()=>{E(e),x(!0)},style:{padding:`2px 6px`,fontSize:`10px`,backgroundColor:`transparent`,border:`1px solid #7a3b06`,borderRadius:`4px`,color:`#7a3b06`,cursor:`pointer`},children:`Ver detalles`}),(0,W.jsx)(`button`,{onClick:()=>{E(e),C(!0)},style:{padding:`2px 6px`,fontSize:`10px`,backgroundColor:`#7a3b06`,border:`1px solid #7a3b06`,borderRadius:`4px`,color:`white`,cursor:`pointer`},children:`Administrar`})]})]}),(0,W.jsx)(`td`,{style:{padding:`12px`,border:`1px solid #e9d8b5`,color:`#6d4611`},children:e.detalle?(0,W.jsx)(`div`,{style:{maxWidth:`150px`,fontSize:`12px`},children:e.detalle}):(0,W.jsx)(`span`,{style:{fontSize:`12px`,color:`#6d4611`,opacity:.7,fontStyle:`italic`},children:`Sin detalle`})}),(0,W.jsx)(`td`,{style:{padding:`12px`,border:`1px solid #e9d8b5`,color:`#28a745`,fontWeight:`600`,textAlign:`right`},children:new Intl.NumberFormat(`es-BO`,{style:`currency`,currency:`BOB`}).format(oe(e.id_pedido))}),(0,W.jsx)(`td`,{style:{padding:`12px`,border:`1px solid #e9d8b5`,color:`#6d4611`,width:`140px`},children:be(e.estado)}),(0,W.jsx)(`td`,{style:{padding:`12px`,border:`1px solid #e9d8b5`,color:`#6d4611`,width:`200px`},children:(0,W.jsxs)(`div`,{style:{display:`flex`,gap:`6px`,justifyContent:`center`,flexWrap:`wrap`},children:[e.estado!==`pagado`&&(0,W.jsxs)(`button`,{onClick:()=>ue(e.id_pedido,`pagado`),style:{display:`flex`,alignItems:`center`,gap:`4px`,padding:`6px 8px`,border:`none`,borderRadius:`4px`,cursor:`pointer`,fontSize:`11px`,backgroundColor:`#28a745`,color:`white`},disabled:k===`estado-${e.id_pedido}`,title:`Marcar como pagado`,children:[k===`estado-${e.id_pedido}`?(0,W.jsx)(tr,{size:10,style:{animation:`spin 1s linear infinite`}}):(0,W.jsx)(Kn,{size:10}),`Pagar`]}),e.estado!==`preparacion`&&e.estado!==`pagado`&&(0,W.jsxs)(`button`,{onClick:()=>ue(e.id_pedido,`preparacion`),style:{display:`flex`,alignItems:`center`,gap:`4px`,padding:`6px 8px`,border:`none`,borderRadius:`4px`,cursor:`pointer`,fontSize:`11px`,backgroundColor:`#17a2b8`,color:`white`},disabled:k===`estado-${e.id_pedido}`,title:`Marcar en preparacin`,children:[(0,W.jsx)(sr,{size:10}),`Prep.`]}),e.estado!==`listo`&&e.estado!==`pagado`&&(0,W.jsxs)(`button`,{onClick:()=>ue(e.id_pedido,`listo`),style:{display:`flex`,alignItems:`center`,gap:`4px`,padding:`6px 8px`,border:`none`,borderRadius:`4px`,cursor:`pointer`,fontSize:`11px`,backgroundColor:`#ffc107`,color:`#212529`},disabled:k===`estado-${e.id_pedido}`,title:`Marcar como listo`,children:[(0,W.jsx)(Vn,{size:10}),`Listo`]}),e.estado===`pagado`&&(0,W.jsxs)(`button`,{onClick:()=>ue(e.id_pedido,`pendiente`),style:{display:`flex`,alignItems:`center`,gap:`4px`,padding:`6px 8px`,border:`none`,borderRadius:`4px`,cursor:`pointer`,fontSize:`11px`,backgroundColor:`#6c757d`,color:`white`},disabled:k===`estado-${e.id_pedido}`,title:`Revertir a pendiente`,children:[k===`estado-${e.id_pedido}`?(0,W.jsx)(tr,{size:10,style:{animation:`spin 1s linear infinite`}}):(0,W.jsx)(Wn,{size:10}),`Revertir`]}),(0,W.jsx)(`button`,{onClick:()=>{I({nromesa:e.nromesa?.toString()||``,ci:e.ci||``,estado:e.estado||`pendiente`,detalle:e.detalle||``}),O(e.id_pedido),y(!0)},style:{display:`flex`,alignItems:`center`,justifyContent:`center`,padding:`6px 8px`,border:`none`,borderRadius:`4px`,cursor:`pointer`,backgroundColor:`#ffc107`,color:`#7a3b06`},title:`Editar pedido`,children:(0,W.jsx)(yr,{size:12})}),(0,W.jsx)(`button`,{onClick:()=>he(e.id_pedido),style:{display:`flex`,alignItems:`center`,justifyContent:`center`,padding:`6px 8px`,border:`none`,borderRadius:`4px`,cursor:`pointer`,backgroundColor:`#dc3545`,color:`white`},disabled:k===`delete-${e.id_pedido}`,title:`Eliminar pedido`,children:k===`delete-${e.id_pedido}`?(0,W.jsx)(tr,{size:12,style:{animation:`spin 1s linear infinite`}}):(0,W.jsx)(xr,{size:12})})]})})]},e.id_pedido))})]}),Se.length===0&&(0,W.jsxs)(`div`,{style:{padding:`60px 20px`,textAlign:`center`,color:`#6d4611`,opacity:.7},children:[(0,W.jsx)(vr,{size:48,style:{marginBottom:`16px`,opacity:.5}}),(0,W.jsx)(`p`,{children:`No se encontraron pedidos`}),(0,W.jsx)(`button`,{onClick:_e,style:{padding:`10px 20px`,backgroundColor:`#7a3b06`,color:`white`,border:`none`,borderRadius:`6px`,cursor:`pointer`,marginTop:`12px`},children:`Limpiar filtros`})]})]})]}),v&&(0,W.jsx)(`div`,{style:{position:`fixed`,top:0,left:0,right:0,bottom:0,backgroundColor:`rgba(0, 0, 0, 0.5)`,display:`flex`,alignItems:`center`,justifyContent:`center`,zIndex:1e3,padding:`20px`},children:(0,W.jsxs)(`div`,{style:{background:`white`,padding:`24px`,borderRadius:`12px`,border:`1px solid #e9d8b5`,maxWidth:`500px`,width:`100%`,maxHeight:`90vh`,overflowY:`auto`},children:[(0,W.jsx)(`h3`,{style:{color:`#7a3b06`,marginBottom:`20px`,fontSize:`20px`},children:D?`Editar Pedido`:`Nuevo Pedido`}),(0,W.jsxs)(`form`,{onSubmit:me,children:[(0,W.jsxs)(`div`,{style:{marginBottom:`16px`},children:[(0,W.jsx)(`label`,{style:{display:`block`,marginBottom:`6px`,color:`#6d4611`,fontWeight:`500`},children:`Mesa *`}),(0,W.jsxs)(`select`,{value:F.nromesa,onChange:e=>I({...F,nromesa:e.target.value}),required:!0,style:{width:`100%`,padding:`10px`,border:`1px solid #e9d8b5`,borderRadius:`6px`,fontSize:`14px`},children:[(0,W.jsx)(`option`,{value:``,children:`Seleccionar mesa`}),c.map(e=>(0,W.jsxs)(`option`,{value:e.nromesa,children:[`Mesa `,e.nromesa,` - Saln `,e.salon,` (Capacidad: `,e.capacidad,`)`]},e.nromesa))]})]}),(0,W.jsxs)(`div`,{style:{marginBottom:`16px`},children:[(0,W.jsx)(`label`,{style:{display:`block`,marginBottom:`6px`,color:`#6d4611`,fontWeight:`500`},children:`Empleado *`}),(0,W.jsxs)(`select`,{value:F.ci,onChange:e=>I({...F,ci:e.target.value}),required:!0,style:{width:`100%`,padding:`10px`,border:`1px solid #e9d8b5`,borderRadius:`6px`,fontSize:`14px`},children:[(0,W.jsx)(`option`,{value:``,children:`Seleccionar empleado`}),o.map(e=>(0,W.jsxs)(`option`,{value:e.ci,children:[e.nombre,` `,e.pat,` `,e.mat]},e.ci))]})]}),(0,W.jsxs)(`div`,{style:{marginBottom:`16px`},children:[(0,W.jsx)(`label`,{style:{display:`block`,marginBottom:`6px`,color:`#6d4611`,fontWeight:`500`},children:`Estado`}),(0,W.jsxs)(`select`,{value:F.estado,onChange:e=>I({...F,estado:e.target.value}),style:{width:`100%`,padding:`10px`,border:`1px solid #e9d8b5`,borderRadius:`6px`,fontSize:`14px`},children:[(0,W.jsx)(`option`,{value:`pendiente`,children:`Pendiente`}),(0,W.jsx)(`option`,{value:`preparacion`,children:`En preparacin`}),(0,W.jsx)(`option`,{value:`listo`,children:`Listo`}),(0,W.jsx)(`option`,{value:`pagado`,children:`Pagado`}),(0,W.jsx)(`option`,{value:`cancelado`,children:`Cancelado`})]})]}),(0,W.jsxs)(`div`,{style:{marginBottom:`16px`},children:[(0,W.jsx)(`label`,{style:{display:`block`,marginBottom:`6px`,color:`#6d4611`,fontWeight:`500`},children:`Detalle`}),(0,W.jsx)(`textarea`,{value:F.detalle,onChange:e=>I({...F,detalle:e.target.value}),placeholder:`Detalle del pedido...`,rows:`3`,style:{width:`100%`,padding:`10px`,border:`1px solid #e9d8b5`,borderRadius:`6px`,fontSize:`14px`,resize:`vertical`}})]}),(0,W.jsxs)(`div`,{style:{display:`flex`,gap:`12px`,marginTop:`24px`},children:[(0,W.jsxs)(`button`,{type:`submit`,style:{display:`flex`,alignItems:`center`,gap:`8px`,padding:`12px 20px`,border:`none`,borderRadius:`8px`,cursor:`pointer`,fontSize:`14px`,fontWeight:`500`,backgroundColor:`#28a745`,color:`white`,flex:1},disabled:k===`guardar`,children:[k===`guardar`?(0,W.jsx)(tr,{size:16,style:{animation:`spin 1s linear infinite`}}):(0,W.jsx)(pr,{size:16}),D?`Actualizar`:`Crear Pedido`]}),(0,W.jsx)(`button`,{type:`button`,onClick:ge,style:{display:`flex`,alignItems:`center`,gap:`8px`,padding:`12px 20px`,border:`none`,borderRadius:`8px`,cursor:`pointer`,fontSize:`14px`,fontWeight:`500`,backgroundColor:`#6c757d`,color:`white`},children:`Cancelar`})]})]})]})}),S&&T&&(0,W.jsx)(`div`,{style:{position:`fixed`,top:0,left:0,right:0,bottom:0,backgroundColor:`rgba(0, 0, 0, 0.5)`,display:`flex`,alignItems:`center`,justifyContent:`center`,zIndex:1e3,padding:`20px`},children:(0,W.jsxs)(`div`,{style:{background:`white`,padding:`24px`,borderRadius:`12px`,border:`1px solid #e9d8b5`,maxWidth:`800px`,width:`100%`,maxHeight:`90vh`,overflowY:`auto`},children:[(0,W.jsxs)(`div`,{style:{display:`flex`,justifyContent:`space-between`,alignItems:`center`,marginBottom:`20px`},children:[(0,W.jsxs)(`h3`,{style:{color:`#7a3b06`,margin:0},children:[`Administrar Productos - Pedido #`,T.id_pedido]}),(0,W.jsx)(`button`,{onClick:()=>C(!1),style:{background:`none`,border:`none`,cursor:`pointer`,color:`#6d4611`},children:(0,W.jsx)(U,{size:20})})]}),(0,W.jsxs)(`div`,{style:{marginBottom:`24px`,padding:`16px`,backgroundColor:`#f8f5ee`,borderRadius:`8px`},children:[(0,W.jsx)(`h4`,{style:{color:`#7a3b06`,marginBottom:`16px`},children:`Agregar Producto`}),(0,W.jsxs)(`div`,{style:{display:`grid`,gridTemplateColumns:`1fr 1fr auto`,gap:`12px`,alignItems:`end`},children:[(0,W.jsxs)(`div`,{children:[(0,W.jsx)(`label`,{style:{display:`block`,marginBottom:`6px`,color:`#6d4611`,fontWeight:`500`,fontSize:`12px`},children:`Producto`}),(0,W.jsxs)(`select`,{value:R,onChange:e=>z(e.target.value),style:{width:`100%`,padding:`8px`,border:`1px solid #e9d8b5`,borderRadius:`6px`,fontSize:`14px`},children:[(0,W.jsx)(`option`,{value:``,children:`Seleccionar producto`}),i.map(e=>(0,W.jsxs)(`option`,{value:e.id_producto,children:[e.nombre,` - Bs `,e.precio]},e.id_producto))]})]}),(0,W.jsxs)(`div`,{children:[(0,W.jsx)(`label`,{style:{display:`block`,marginBottom:`6px`,color:`#6d4611`,fontWeight:`500`,fontSize:`12px`},children:`Cantidad`}),(0,W.jsx)(`input`,{type:`number`,value:B,onChange:e=>re(parseInt(e.target.value)||1),min:`1`,style:{width:`100%`,padding:`8px`,border:`1px solid #e9d8b5`,borderRadius:`6px`,fontSize:`14px`}})]}),(0,W.jsxs)(`button`,{onClick:pe,style:{display:`flex`,alignItems:`center`,gap:`6px`,padding:`8px 16px`,border:`none`,borderRadius:`6px`,cursor:`pointer`,fontSize:`14px`,fontWeight:`500`,backgroundColor:`#28a745`,color:`white`,height:`36px`},disabled:k===`agregar-producto`,children:[k===`agregar-producto`?(0,W.jsx)(tr,{size:16,style:{animation:`spin 1s linear infinite`}}):(0,W.jsx)(lr,{size:16}),`Agregar`]})]})]}),(0,W.jsxs)(`div`,{children:[(0,W.jsx)(`h4`,{style:{color:`#7a3b06`,marginBottom:`16px`},children:`Productos en el Pedido`}),ae(T.id_pedido).length===0?(0,W.jsx)(`p`,{style:{color:`#6d4611`,opacity:.7,textAlign:`center`,padding:`20px`},children:`No hay productos en este pedido`}):(0,W.jsx)(`div`,{style:{border:`1px solid #e9d8b5`,borderRadius:`8px`,overflow:`hidden`},children:(0,W.jsxs)(`table`,{style:{width:`100%`,borderCollapse:`collapse`},children:[(0,W.jsx)(`thead`,{children:(0,W.jsxs)(`tr`,{style:{backgroundColor:`#f8f5ee`},children:[(0,W.jsx)(`th`,{style:{padding:`12px`,border:`1px solid #e9d8b5`,textAlign:`left`,fontSize:`12px`},children:`Producto`}),(0,W.jsx)(`th`,{style:{padding:`12px`,border:`1px solid #e9d8b5`,textAlign:`center`,fontSize:`12px`},children:`Cantidad`}),(0,W.jsx)(`th`,{style:{padding:`12px`,border:`1px solid #e9d8b5`,textAlign:`right`,fontSize:`12px`},children:`Precio Unit.`}),(0,W.jsx)(`th`,{style:{padding:`12px`,border:`1px solid #e9d8b5`,textAlign:`right`,fontSize:`12px`},children:`Subtotal`}),(0,W.jsx)(`th`,{style:{padding:`12px`,border:`1px solid #e9d8b5`,textAlign:`center`,fontSize:`12px`},children:`Acciones`})]})}),(0,W.jsx)(`tbody`,{children:ae(T.id_pedido).map((e,t)=>{let n=i.find(t=>t.id_producto===e.id_producto);return(0,W.jsxs)(`tr`,{children:[(0,W.jsx)(`td`,{style:{padding:`12px`,border:`1px solid #e9d8b5`,fontSize:`14px`},children:n?n.nombre:`Producto #${e.id_producto}`}),(0,W.jsx)(`td`,{style:{padding:`12px`,border:`1px solid #e9d8b5`,textAlign:`center`,fontSize:`14px`},children:e.cantidad}),(0,W.jsx)(`td`,{style:{padding:`12px`,border:`1px solid #e9d8b5`,textAlign:`right`,fontSize:`14px`},children:new Intl.NumberFormat(`es-BO`,{style:`currency`,currency:`BOB`}).format(n?n.precio:0)}),(0,W.jsx)(`td`,{style:{padding:`12px`,border:`1px solid #e9d8b5`,textAlign:`right`,fontSize:`14px`,fontWeight:`600`},children:new Intl.NumberFormat(`es-BO`,{style:`currency`,currency:`BOB`}).format(e.subtotal)}),(0,W.jsx)(`td`,{style:{padding:`12px`,border:`1px solid #e9d8b5`,textAlign:`center`,fontSize:`14px`},children:(0,W.jsx)(`button`,{onClick:async()=>{if(window.confirm(`Ests seguro de eliminar este producto del pedido?`))try{await fe(e.id_pedido_producto),V(`Producto eliminado del pedido`,`success`),ie()}catch(e){V(`Error al eliminar producto: ${e.message}`)}},style:{display:`flex`,alignItems:`center`,justifyContent:`center`,padding:`6px 8px`,border:`none`,borderRadius:`4px`,cursor:`pointer`,backgroundColor:`#dc3545`,color:`white`},title:`Eliminar producto`,children:(0,W.jsx)(xr,{size:14})})})]},t)})}),(0,W.jsx)(`tfoot`,{children:(0,W.jsxs)(`tr`,{style:{backgroundColor:`#f8f5ee`},children:[(0,W.jsx)(`td`,{colSpan:`3`,style:{padding:`12px`,border:`1px solid #e9d8b5`,textAlign:`right`,fontWeight:`bold`},children:`Total del Pedido:`}),(0,W.jsx)(`td`,{style:{padding:`12px`,border:`1px solid #e9d8b5`,textAlign:`right`,fontWeight:`bold`,color:`#28a745`},children:new Intl.NumberFormat(`es-BO`,{style:`currency`,currency:`BOB`}).format(oe(T.id_pedido))}),(0,W.jsx)(`td`,{style:{padding:`12px`,border:`1px solid #e9d8b5`}})]})})]})})]})]})}),b&&T&&(0,W.jsx)(`div`,{style:{position:`fixed`,top:0,left:0,right:0,bottom:0,backgroundColor:`rgba(0, 0, 0, 0.5)`,display:`flex`,alignItems:`center`,justifyContent:`center`,zIndex:1e3,padding:`20px`},children:(0,W.jsxs)(`div`,{style:{background:`white`,padding:`24px`,borderRadius:`12px`,border:`1px solid #e9d8b5`,maxWidth:`600px`,width:`100%`,maxHeight:`80vh`,overflowY:`auto`},children:[(0,W.jsxs)(`div`,{style:{display:`flex`,justifyContent:`space-between`,alignItems:`center`,marginBottom:`20px`},children:[(0,W.jsxs)(`h3`,{style:{color:`#7a3b06`,margin:0},children:[`Detalles del Pedido #`,T.id_pedido]}),(0,W.jsx)(`button`,{onClick:()=>x(!1),style:{background:`none`,border:`none`,cursor:`pointer`,color:`#6d4611`},children:(0,W.jsx)(U,{size:20})})]}),(0,W.jsxs)(`div`,{style:{marginBottom:`20px`},children:[(0,W.jsx)(`strong`,{children:`Mesa:`}),` `,ve(T.nromesa),(0,W.jsx)(`br`,{}),(0,W.jsx)(`strong`,{children:`Empleado:`}),` `,ye(T.ci),(0,W.jsx)(`br`,{}),(0,W.jsx)(`strong`,{children:`Estado:`}),` `,be(T.estado)]}),(0,W.jsxs)(`div`,{style:{marginBottom:`20px`},children:[(0,W.jsx)(`h4`,{style:{color:`#7a3b06`,marginBottom:`12px`},children:`Productos:`}),ae(T.id_pedido).length===0?(0,W.jsx)(`p`,{style:{color:`#6d4611`,opacity:.7},children:`No hay productos en este pedido`}):(0,W.jsx)(`div`,{style:{border:`1px solid #e9d8b5`,borderRadius:`8px`,overflow:`hidden`},children:(0,W.jsxs)(`table`,{style:{width:`100%`,borderCollapse:`collapse`},children:[(0,W.jsx)(`thead`,{children:(0,W.jsxs)(`tr`,{style:{backgroundColor:`#f8f5ee`},children:[(0,W.jsx)(`th`,{style:{padding:`8px`,border:`1px solid #e9d8b5`,textAlign:`left`,fontSize:`12px`},children:`Producto`}),(0,W.jsx)(`th`,{style:{padding:`8px`,border:`1px solid #e9d8b5`,textAlign:`center`,fontSize:`12px`},children:`Cantidad`}),(0,W.jsx)(`th`,{style:{padding:`8px`,border:`1px solid #e9d8b5`,textAlign:`right`,fontSize:`12px`},children:`Subtotal`})]})}),(0,W.jsx)(`tbody`,{children:ae(T.id_pedido).map((e,t)=>{let n=i.find(t=>t.id_producto===e.id_producto);return(0,W.jsxs)(`tr`,{children:[(0,W.jsx)(`td`,{style:{padding:`8px`,border:`1px solid #e9d8b5`,fontSize:`12px`},children:n?n.nombre:`Producto #${e.id_producto}`}),(0,W.jsx)(`td`,{style:{padding:`8px`,border:`1px solid #e9d8b5`,textAlign:`center`,fontSize:`12px`},children:e.cantidad}),(0,W.jsx)(`td`,{style:{padding:`8px`,border:`1px solid #e9d8b5`,textAlign:`right`,fontSize:`12px`},children:new Intl.NumberFormat(`es-BO`,{style:`currency`,currency:`BOB`}).format(e.subtotal)})]},t)})}),(0,W.jsx)(`tfoot`,{children:(0,W.jsxs)(`tr`,{style:{backgroundColor:`#f8f5ee`},children:[(0,W.jsx)(`td`,{colSpan:`2`,style:{padding:`8px`,border:`1px solid #e9d8b5`,textAlign:`right`,fontWeight:`bold`},children:`Total:`}),(0,W.jsx)(`td`,{style:{padding:`8px`,border:`1px solid #e9d8b5`,textAlign:`right`,fontWeight:`bold`,color:`#28a745`},children:new Intl.NumberFormat(`es-BO`,{style:`currency`,currency:`BOB`}).format(oe(T.id_pedido))})]})})]})})]}),T.detalle&&(0,W.jsxs)(`div`,{children:[(0,W.jsx)(`h4`,{style:{color:`#7a3b06`,marginBottom:`8px`},children:`Detalle:`}),(0,W.jsx)(`p`,{style:{color:`#6d4611`,padding:`8px`,backgroundColor:`#f8f5ee`,borderRadius:`4px`},children:T.detalle})]})]})}),(0,W.jsx)(`style`,{children:`
          @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
          }
        `})]})}function Qc(){let[e,t]=(0,w.useState)([]),[n,r]=(0,w.useState)([]),[i,a]=(0,w.useState)([]),[o,s]=(0,w.useState)([]),[c,l]=(0,w.useState)([]),[u,d]=(0,w.useState)([]),[f,p]=(0,w.useState)(!0),[m,h]=(0,w.useState)(``),[g,_]=(0,w.useState)(``),[v,y]=(0,w.useState)(!1),[b,x]=(0,w.useState)(null),[S,C]=(0,w.useState)(null),[T,E]=(0,w.useState)(``),[D,O]=(0,w.useState)(``),[k,A]=(0,w.useState)(``),[j,ee]=(0,w.useState)(``),[M,te]=(0,w.useState)(``),[N,P]=(0,w.useState)(!1),[F,I]=(0,w.useState)({descripcion:``,id_pedido:``,monto_total:``});(0,w.useEffect)(()=>{ne()},[]);let L=(e,t=`error`)=>{t===`success`?(_(e),setTimeout(()=>_(``),4e3)):(h(e),setTimeout(()=>h(``),6e3))},ne=async()=>{try{p(!0);let[e,n,i,o,c,u]=await Promise.all([Z.from(`ventas`).select(`*`).order(`fecha`,{ascending:!1}),Z.from(`pedidos`).select(`*`),Z.from(`pedido_producto`).select(`*`),Z.from(`productos`).select(`*`),Z.from(`empleados`).select(`ci, nombre, pat, mat`),Z.from(`mesas`).select(`nromesa, salon`)]),f=[e.error,n.error,i.error,o.error,c.error,u.error].filter(e=>e);if(f.length>0)throw Error(`Errores al cargar: ${f.map(e=>e.message).join(`, `)}`);t(e.data||[]),r(n.data||[]),a(i.data||[]),s(o.data||[]),l(c.data||[]),d(u.data||[])}catch(e){L(`Error al cargar datos: ${e.message}`),console.error(`Error:`,e)}finally{p(!1)}},R=t=>{let n=[];if(t.id_pedido||n.push(`Debe seleccionar un pedido`),(!t.monto_total||parseFloat(t.monto_total)<=0)&&n.push(`El monto total debe ser mayor a 0`),parseFloat(t.monto_total)>1e5&&n.push(`El monto total no puede exceder Bs 100,000`),e.find(e=>e.id_pedido===parseInt(t.id_pedido)&&e.id_venta!==b)&&n.push(`Este pedido ya tiene una venta asociada`),n.length>0)throw Error(n.join(`, `))},z=e=>i.filter(t=>t.id_pedido===e),B=async(e,t=`crear`)=>{try{let n=z(e);if(n.length===0)throw Error(`El pedido no tiene productos para actualizar stock`);let r=n.map(e=>({id_producto:e.id_producto,cantidad:-e.cantidad,producto:o.find(t=>t.id_producto===e.id_producto)}));return await Xc.actualizarStockMultiple(r,`venta_${t}`,`Venta - Pedido #${e}`)}catch(e){throw console.error(`Error actualizando stock:`,e),e}},re=async e=>{try{let t=z(e);if(t.length===0)return;let n=t.map(e=>({id_producto:e.id_producto,cantidad:e.cantidad,producto:o.find(t=>t.id_producto===e.id_producto)}));return await Xc.actualizarStockMultiple(n,`venta_reversion`,`Reversin Venta - Pedido #${e}`)}catch(e){throw console.error(`Error revirtiendo stock:`,e),e}},V=async e=>{try{let t=z(e);if(t.length===0)return{todosDisponibles:!0,verificaciones:[]};let n=t.map(e=>({id_producto:e.id_producto,cantidad:e.cantidad}));return await Xc.verificarDisponibilidad(n)}catch(e){throw console.error(`Error verificando stock:`,e),e}},ie=async e=>{e.preventDefault(),C(`guardar`);try{let e={...F,id_pedido:parseInt(F.id_pedido),monto_total:parseFloat(F.monto_total)};if(R(e),!b){let t=await V(e.id_pedido);if(!t.todosDisponibles){let e=t.productosSinStock.map(e=>{let t=o.find(t=>t.id_producto===e.id_producto);return`${t?t.nombre:`Producto #${e.id_producto}`}: Requerido ${e.cantidad_requerida}, Stock ${e.stock_actual}`}).join(`
`);throw Error(`Stock insuficiente para los siguientes productos:\n${e}`)}}let t;if(t=b?await Z.from(`ventas`).update(e).eq(`id_venta`,b):await Z.from(`ventas`).insert([e]),t.error)throw t.error;b||await B(e.id_pedido,`crear`),L(`Venta ${b?`actualizada`:`creada`} exitosamente`,`success`),oe(),ne()}catch(e){L(e.message)}finally{C(null)}},ae=async t=>{if(window.confirm(`Ests seguro de eliminar esta venta? Esta accin revertir el stock de productos.`)){C(`delete-${t}`);try{let n=e.find(e=>e.id_venta===t);if(!n)throw Error(`Venta no encontrada`);await re(n.id_pedido);let{error:r}=await Z.from(`ventas`).delete().eq(`id_venta`,t);if(r)throw r;L(`Venta eliminada exitosamente. Stock revertido.`,`success`),ne()}catch(e){L(`Error al eliminar venta: ${e.message}`)}finally{C(null)}}},oe=()=>{I({descripcion:``,id_pedido:``,monto_total:``}),x(null),y(!1)},se=()=>{E(``),O(``),A(``),ee(``),te(``)},ce=e=>{let t=n.find(t=>t.id_pedido===e);if(!t)return`N/A`;let r=u.find(e=>e.nromesa===t.nromesa),i=r?`Saln ${r.salon}`:``;return`Pedido #${t.id_pedido} - Mesa ${t.nromesa} ${i}`},le=e=>{let t=n.find(t=>t.id_pedido===e);if(!t)return`N/A`;let r=c.find(e=>e.ci===t.ci);return r?`${r.nombre} ${r.pat}`:`N/A`},ue=e=>{let t=i.filter(t=>t.id_pedido===e);if(t.length===0)return`Sin productos`;let n=t.slice(0,3).map(e=>{let t=o.find(t=>t.id_producto===e.id_producto);return t?`${t.nombre} (x${e.cantidad})`:`Producto #${e.id_producto}`}).join(`, `);return t.length>3?`${n}...`:n},de=e=>i.filter(t=>t.id_pedido===e).length,fe=e=>i.filter(t=>t.id_pedido===e).reduce((e,t)=>e+t.subtotal,0),pe=e.filter(e=>{let t=e.id_venta.toString().includes(T)||e.descripcion?.toLowerCase().includes(T.toLowerCase())||e.id_pedido.toString().includes(T),n=!0;if(D||k){let t=new Date(e.fecha).toISOString().split(`T`)[0];D&&t<D&&(n=!1),k&&t>k&&(n=!1)}let r=!0;return j&&e.monto_total<parseFloat(j)&&(r=!1),M&&e.monto_total>parseFloat(M)&&(r=!1),t&&n&&r}),me={totalVentas:e.reduce((e,t)=>e+(t.monto_total||0),0),ventasHoy:e.filter(e=>{let t=new Date().toISOString().split(`T`)[0];return e.fecha?.split(`T`)[0]===t}).reduce((e,t)=>e+(t.monto_total||0),0),totalRegistros:e.length,promedioVenta:e.length>0?e.reduce((e,t)=>e+(t.monto_total||0),0)/e.length:0,ventasMes:e.filter(e=>{let t=new Date().getMonth(),n=new Date().getFullYear(),r=new Date(e.fecha);return r.getMonth()===t&&r.getFullYear()===n}).reduce((e,t)=>e+(t.monto_total||0),0),productosVendidos:e.reduce((e,t)=>e+z(t.id_pedido).reduce((e,t)=>e+t.cantidad,0),0)};return f?(0,W.jsxs)(`div`,{style:{display:`flex`,flexDirection:`column`,alignItems:`center`,justifyContent:`center`,padding:`60px 20px`,color:`#7a3b06`},children:[(0,W.jsx)(tr,{size:32,style:{animation:`spin 1s linear infinite`}}),(0,W.jsx)(`p`,{children:`Cargando ventas...`})]}):(0,W.jsxs)(`div`,{style:{padding:`20px`,maxWidth:`1400px`,margin:`0 auto`},children:[(0,W.jsx)(`header`,{style:{marginBottom:`30px`},children:(0,W.jsxs)(`div`,{style:{display:`flex`,justifyContent:`space-between`,alignItems:`flex-start`,gap:`20px`},children:[(0,W.jsxs)(`div`,{style:{display:`flex`,alignItems:`flex-start`,gap:`16px`},children:[(0,W.jsx)(Sr,{size:32,style:{color:`#7a3b06`,marginTop:`4px`}}),(0,W.jsxs)(`div`,{children:[(0,W.jsx)(`h1`,{style:{fontSize:`28px`,color:`#7a3b06`,marginBottom:`8px`,fontWeight:`700`},children:`Gestin de Ventas`}),(0,W.jsx)(`p`,{style:{color:`#6d4611`,fontSize:`14px`,opacity:.9,margin:0},children:`Administra el historial de ventas y reportes financieros`})]})]}),(0,W.jsxs)(`button`,{onClick:ne,style:{display:`flex`,alignItems:`center`,gap:`8px`,padding:`12px 20px`,border:`none`,borderRadius:`8px`,cursor:`pointer`,fontSize:`14px`,fontWeight:`500`,backgroundColor:`#6d4611`,color:`white`},disabled:f,children:[(0,W.jsx)(dr,{size:16,style:f?{animation:`spin 1s linear infinite`}:{}}),`Actualizar`]})]})}),m&&(0,W.jsxs)(`div`,{style:{display:`flex`,alignItems:`center`,gap:`12px`,padding:`12px 16px`,borderRadius:`8px`,marginBottom:`20px`,fontSize:`14px`,backgroundColor:`#fee`,border:`1px solid #f5c6cb`,color:`#721c24`},children:[(0,W.jsx)(Cr,{size:20}),(0,W.jsx)(`span`,{style:{whiteSpace:`pre-line`},children:m}),(0,W.jsx)(`button`,{onClick:()=>h(``),style:{marginLeft:`auto`,background:`none`,border:`none`,cursor:`pointer`,opacity:.7},children:(0,W.jsx)(U,{size:16})})]}),g&&(0,W.jsxs)(`div`,{style:{display:`flex`,alignItems:`center`,gap:`12px`,padding:`12px 16px`,borderRadius:`8px`,marginBottom:`20px`,fontSize:`14px`,backgroundColor:`#f0fff4`,border:`1px solid #c3e6cb`,color:`#155724`},children:[(0,W.jsx)(Vn,{size:20}),(0,W.jsx)(`span`,{children:g}),(0,W.jsx)(`button`,{onClick:()=>_(``),style:{marginLeft:`auto`,background:`none`,border:`none`,cursor:`pointer`,opacity:.7},children:(0,W.jsx)(U,{size:16})})]}),(0,W.jsx)(`div`,{style:{display:`grid`,gridTemplateColumns:`repeat(auto-fit, minmax(200px, 1fr))`,gap:`16px`,marginBottom:`24px`},children:[{label:`Total Ventas`,value:me.totalVentas,icon:Kn,color:`#e3f2fd`,iconColor:`#1976d2`,format:`currency`},{label:`Ventas Hoy`,value:me.ventasHoy,icon:Fn,color:`#e8f5e8`,iconColor:`#28a745`,format:`currency`},{label:`Ventas Mes`,value:me.ventasMes,icon:In,color:`#f3e5f5`,iconColor:`#7b1fa2`,format:`currency`},{label:`Promedio/Venta`,value:me.promedioVenta,icon:Sr,color:`#fff3cd`,iconColor:`#856404`,format:`currency`},{label:`Total Registros`,value:me.totalRegistros,icon:ur,color:`#e0f2f1`,iconColor:`#00796b`,format:`number`},{label:`Productos Vendidos`,value:me.productosVendidos,icon:sr,color:`#fff0f5`,iconColor:`#c2185b`,format:`number`}].map((e,t)=>(0,W.jsxs)(`div`,{style:{background:`white`,padding:`20px`,borderRadius:`12px`,border:`1px solid #e9d8b5`,display:`flex`,alignItems:`center`,gap:`16px`},children:[(0,W.jsx)(`div`,{style:{background:e.color,padding:`12px`,borderRadius:`8px`,color:e.iconColor},children:(0,W.jsx)(e.icon,{size:24})}),(0,W.jsxs)(`div`,{children:[(0,W.jsx)(`div`,{style:{fontSize:`20px`,fontWeight:`700`,color:`#7a3b06`},children:e.format===`currency`?new Intl.NumberFormat(`es-BO`,{style:`currency`,currency:`BOB`}).format(e.value):e.value.toLocaleString()}),(0,W.jsx)(`div`,{style:{fontSize:`12px`,color:`#6d4611`,opacity:.8},children:e.label})]})]},t))}),(0,W.jsxs)(`div`,{style:{display:`flex`,flexDirection:`column`,gap:`16px`,marginBottom:`24px`},children:[(0,W.jsxs)(`div`,{style:{display:`flex`,gap:`12px`,flexWrap:`wrap`},children:[(0,W.jsxs)(`div`,{style:{position:`relative`,flex:`1`,minWidth:`300px`},children:[(0,W.jsx)(mr,{size:18,style:{position:`absolute`,left:`12px`,top:`50%`,transform:`translateY(-50%)`,color:`#6d4611`}}),(0,W.jsx)(`input`,{type:`text`,placeholder:`Buscar por ID, descripcin o nmero de pedido...`,value:T,onChange:e=>E(e.target.value),style:{width:`100%`,padding:`12px 12px 12px 40px`,border:`1px solid #e9d8b5`,borderRadius:`8px`,fontSize:`14px`}})]}),(0,W.jsxs)(`button`,{onClick:()=>P(!N),style:{display:`flex`,alignItems:`center`,gap:`8px`,padding:`12px 20px`,border:`none`,borderRadius:`8px`,cursor:`pointer`,fontSize:`14px`,fontWeight:`500`,backgroundColor:`transparent`,border:`1px solid #e9d8b5`,color:`#6d4611`},children:[(0,W.jsx)(Zn,{size:16}),`Filtros`,N?(0,W.jsx)(zn,{size:16}):(0,W.jsx)(Rn,{size:16})]}),(0,W.jsxs)(`button`,{onClick:()=>{let e=pe.map(e=>({ID:e.id_venta,Fecha:new Date(e.fecha).toLocaleString(`es-BO`),Pedido:e.id_pedido,Descripcin:e.descripcion||``,"Monto Total":`Bs ${e.monto_total.toFixed(2)}`,"Detalle Pedido":ce(e.id_pedido),Empleado:le(e.id_pedido),Productos:ue(e.id_pedido)})),t=[Object.keys(e[0]).join(`,`),...e.map(e=>Object.values(e).join(`,`))].join(`
`),n=new Blob([t],{type:`text/csv`}),r=window.URL.createObjectURL(n),i=document.createElement(`a`);i.href=r,i.download=`ventas_${new Date().toISOString().split(`T`)[0]}.csv`,i.click(),window.URL.revokeObjectURL(r),L(`Datos exportados exitosamente`,`success`)},style:{display:`flex`,alignItems:`center`,gap:`8px`,padding:`12px 20px`,border:`none`,borderRadius:`8px`,cursor:`pointer`,fontSize:`14px`,fontWeight:`500`,backgroundColor:`#28a745`,color:`white`},disabled:pe.length===0,children:[(0,W.jsx)(qn,{size:16}),`Exportar`]}),(0,W.jsxs)(`button`,{onClick:se,style:{display:`flex`,alignItems:`center`,gap:`8px`,padding:`12px 20px`,border:`none`,borderRadius:`8px`,cursor:`pointer`,fontSize:`14px`,fontWeight:`500`,backgroundColor:`#6c757d`,color:`white`},children:[(0,W.jsx)(U,{size:16}),`Limpiar`]})]}),N&&(0,W.jsx)(`div`,{style:{padding:`20px`,background:`#f8f5ee`,borderRadius:`8px`,border:`1px solid #e9d8b5`},children:(0,W.jsxs)(`div`,{style:{display:`grid`,gridTemplateColumns:`repeat(auto-fit, minmax(200px, 1fr))`,gap:`16px`},children:[(0,W.jsxs)(`div`,{children:[(0,W.jsx)(`label`,{style:{display:`block`,marginBottom:`6px`,color:`#6d4611`,fontWeight:`500`,fontSize:`12px`},children:`Fecha Inicio`}),(0,W.jsx)(`input`,{type:`date`,value:D,onChange:e=>O(e.target.value),style:{width:`100%`,padding:`8px`,border:`1px solid #e9d8b5`,borderRadius:`6px`,fontSize:`14px`}})]}),(0,W.jsxs)(`div`,{children:[(0,W.jsx)(`label`,{style:{display:`block`,marginBottom:`6px`,color:`#6d4611`,fontWeight:`500`,fontSize:`12px`},children:`Fecha Fin`}),(0,W.jsx)(`input`,{type:`date`,value:k,onChange:e=>A(e.target.value),style:{width:`100%`,padding:`8px`,border:`1px solid #e9d8b5`,borderRadius:`6px`,fontSize:`14px`}})]}),(0,W.jsxs)(`div`,{children:[(0,W.jsx)(`label`,{style:{display:`block`,marginBottom:`6px`,color:`#6d4611`,fontWeight:`500`,fontSize:`12px`},children:`Monto Mnimo`}),(0,W.jsx)(`input`,{type:`number`,placeholder:`0.00`,value:j,onChange:e=>ee(e.target.value),min:`0`,step:`0.01`,style:{width:`100%`,padding:`8px`,border:`1px solid #e9d8b5`,borderRadius:`6px`,fontSize:`14px`}})]}),(0,W.jsxs)(`div`,{children:[(0,W.jsx)(`label`,{style:{display:`block`,marginBottom:`6px`,color:`#6d4611`,fontWeight:`500`,fontSize:`12px`},children:`Monto Mximo`}),(0,W.jsx)(`input`,{type:`number`,placeholder:`10000.00`,value:M,onChange:e=>te(e.target.value),min:`0`,step:`0.01`,style:{width:`100%`,padding:`8px`,border:`1px solid #e9d8b5`,borderRadius:`6px`,fontSize:`14px`}})]})]})})]}),(0,W.jsx)(`div`,{style:{display:`flex`,gap:`12px`,marginBottom:`24px`,flexWrap:`wrap`},children:(0,W.jsxs)(`button`,{onClick:()=>{oe(),y(!0)},style:{display:`flex`,alignItems:`center`,gap:`8px`,padding:`12px 20px`,border:`none`,borderRadius:`8px`,cursor:`pointer`,fontSize:`14px`,fontWeight:`500`,backgroundColor:`#7a3b06`,color:`white`},children:[(0,W.jsx)(lr,{size:16}),`Nueva Venta`]})}),(0,W.jsxs)(`div`,{style:{background:`white`,borderRadius:`12px`,border:`1px solid #e9d8b5`,overflow:`hidden`},children:[(0,W.jsxs)(`div`,{style:{padding:`20px`,borderBottom:`1px solid #e9d8b5`,display:`flex`,alignItems:`center`,gap:`10px`,backgroundColor:`#f8f5ee`},children:[(0,W.jsx)(ur,{size:20,style:{color:`#7a3b06`}}),(0,W.jsxs)(`h2`,{style:{color:`#7a3b06`,margin:0,fontSize:`18px`,flex:1},children:[`Historial de Ventas (`,pe.length,`)`]})]}),(0,W.jsxs)(`div`,{style:{overflowX:`auto`},children:[(0,W.jsxs)(`table`,{style:{width:`100%`,borderCollapse:`collapse`,minWidth:`1000px`},children:[(0,W.jsx)(`thead`,{children:(0,W.jsxs)(`tr`,{style:{backgroundColor:`#f8f5ee`},children:[(0,W.jsx)(`th`,{style:{padding:`12px`,border:`1px solid #e9d8b5`,color:`#6d4611`,fontWeight:`600`,textAlign:`left`},children:`ID`}),(0,W.jsx)(`th`,{style:{padding:`12px`,border:`1px solid #e9d8b5`,color:`#6d4611`,fontWeight:`600`,textAlign:`left`},children:`Fecha`}),(0,W.jsx)(`th`,{style:{padding:`12px`,border:`1px solid #e9d8b5`,color:`#6d4611`,fontWeight:`600`,textAlign:`left`},children:`Pedido`}),(0,W.jsx)(`th`,{style:{padding:`12px`,border:`1px solid #e9d8b5`,color:`#6d4611`,fontWeight:`600`,textAlign:`left`},children:`Empleado`}),(0,W.jsx)(`th`,{style:{padding:`12px`,border:`1px solid #e9d8b5`,color:`#6d4611`,fontWeight:`600`,textAlign:`left`},children:`Productos`}),(0,W.jsx)(`th`,{style:{padding:`12px`,border:`1px solid #e9d8b5`,color:`#6d4611`,fontWeight:`600`,textAlign:`left`},children:`Descripcin`}),(0,W.jsx)(`th`,{style:{padding:`12px`,border:`1px solid #e9d8b5`,color:`#6d4611`,fontWeight:`600`,textAlign:`right`},children:`Monto Total`}),(0,W.jsx)(`th`,{style:{padding:`12px`,border:`1px solid #e9d8b5`,color:`#6d4611`,fontWeight:`600`,textAlign:`center`},children:`Acciones`})]})}),(0,W.jsx)(`tbody`,{children:pe.map(e=>(0,W.jsxs)(`tr`,{children:[(0,W.jsx)(`td`,{style:{padding:`12px`,border:`1px solid #e9d8b5`,color:`#6d4611`},children:(0,W.jsxs)(`strong`,{style:{color:`#7a3b06`},children:[`#`,e.id_venta]})}),(0,W.jsx)(`td`,{style:{padding:`12px`,border:`1px solid #e9d8b5`,color:`#6d4611`},children:e.fecha?new Date(e.fecha).toLocaleString(`es-BO`):`N/A`}),(0,W.jsx)(`td`,{style:{padding:`12px`,border:`1px solid #e9d8b5`,color:`#6d4611`},children:(0,W.jsxs)(`div`,{children:[(0,W.jsx)(`div`,{style:{fontWeight:`500`,color:`#7a3b06`},children:ce(e.id_pedido)}),(0,W.jsxs)(`div`,{style:{fontSize:`12px`,color:`#6d4611`,opacity:.8},children:[de(e.id_pedido),` productos`]})]})}),(0,W.jsx)(`td`,{style:{padding:`12px`,border:`1px solid #e9d8b5`,color:`#6d4611`},children:le(e.id_pedido)}),(0,W.jsx)(`td`,{style:{padding:`12px`,border:`1px solid #e9d8b5`,color:`#6d4611`,maxWidth:`200px`},children:(0,W.jsx)(`div`,{style:{fontSize:`12px`,lineHeight:`1.4`},children:ue(e.id_pedido)})}),(0,W.jsx)(`td`,{style:{padding:`12px`,border:`1px solid #e9d8b5`,color:`#6d4611`},children:e.descripcion?(0,W.jsx)(`div`,{style:{maxWidth:`200px`},children:e.descripcion}):(0,W.jsx)(`span`,{style:{fontSize:`12px`,color:`#6d4611`,opacity:.7,fontStyle:`italic`},children:`Sin descripcin`})}),(0,W.jsx)(`td`,{style:{padding:`12px`,border:`1px solid #e9d8b5`,color:`#28a745`,fontWeight:`600`,textAlign:`right`},children:new Intl.NumberFormat(`es-BO`,{style:`currency`,currency:`BOB`}).format(e.monto_total||0)}),(0,W.jsx)(`td`,{style:{padding:`12px`,border:`1px solid #e9d8b5`,color:`#6d4611`,width:`120px`},children:(0,W.jsxs)(`div`,{style:{display:`flex`,gap:`6px`,justifyContent:`center`},children:[(0,W.jsx)(`button`,{onClick:()=>{I({descripcion:e.descripcion||``,id_pedido:e.id_pedido.toString(),monto_total:e.monto_total.toString()}),x(e.id_venta),y(!0)},style:{display:`flex`,alignItems:`center`,justifyContent:`center`,padding:`6px 8px`,border:`none`,borderRadius:`4px`,cursor:`pointer`,backgroundColor:`#ffc107`,color:`#7a3b06`},title:`Editar venta`,children:(0,W.jsx)(yr,{size:14})}),(0,W.jsx)(`button`,{onClick:()=>ae(e.id_venta),style:{display:`flex`,alignItems:`center`,justifyContent:`center`,padding:`6px 8px`,border:`none`,borderRadius:`4px`,cursor:`pointer`,backgroundColor:`#dc3545`,color:`white`},disabled:S===`delete-${e.id_venta}`,title:`Eliminar venta`,children:S===`delete-${e.id_venta}`?(0,W.jsx)(tr,{size:14,style:{animation:`spin 1s linear infinite`}}):(0,W.jsx)(xr,{size:14})})]})})]},e.id_venta))})]}),pe.length===0&&(0,W.jsxs)(`div`,{style:{padding:`60px 20px`,textAlign:`center`,color:`#6d4611`,opacity:.7},children:[(0,W.jsx)(ur,{size:48,style:{marginBottom:`16px`,opacity:.5}}),(0,W.jsx)(`p`,{children:`No se encontraron ventas`}),(0,W.jsx)(`button`,{onClick:se,style:{padding:`10px 20px`,backgroundColor:`#7a3b06`,color:`white`,border:`none`,borderRadius:`6px`,cursor:`pointer`,marginTop:`12px`},children:`Limpiar filtros`})]})]})]}),v&&(0,W.jsx)(`div`,{style:{position:`fixed`,top:0,left:0,right:0,bottom:0,backgroundColor:`rgba(0, 0, 0, 0.5)`,display:`flex`,alignItems:`center`,justifyContent:`center`,zIndex:1e3,padding:`20px`},children:(0,W.jsxs)(`div`,{style:{background:`white`,padding:`24px`,borderRadius:`12px`,border:`1px solid #e9d8b5`,maxWidth:`500px`,width:`100%`,maxHeight:`90vh`,overflowY:`auto`},children:[(0,W.jsx)(`h3`,{style:{color:`#7a3b06`,marginBottom:`20px`,fontSize:`20px`},children:b?`Editar Venta`:`Nueva Venta`}),(0,W.jsxs)(`form`,{onSubmit:ie,children:[(0,W.jsxs)(`div`,{style:{marginBottom:`16px`},children:[(0,W.jsx)(`label`,{style:{display:`block`,marginBottom:`6px`,color:`#6d4611`,fontWeight:`500`},children:`Pedido *`}),(0,W.jsxs)(`select`,{value:F.id_pedido,onChange:e=>{let t=e.target.value;if(I({...F,id_pedido:t}),t&&!b){let e=fe(parseInt(t));I(t=>({...t,monto_total:e.toString()}))}},required:!0,style:{width:`100%`,padding:`10px`,border:`1px solid #e9d8b5`,borderRadius:`6px`,fontSize:`14px`},children:[(0,W.jsx)(`option`,{value:``,children:`Seleccionar pedido`}),n.filter(t=>!e.find(e=>e.id_pedido===t.id_pedido&&e.id_venta!==b)).map(e=>(0,W.jsxs)(`option`,{value:e.id_pedido,children:[`Pedido #`,e.id_pedido,` - Mesa `,e.nromesa||`N/A`,` - Bs `,fe(e.id_pedido).toFixed(2)]},e.id_pedido))]}),(0,W.jsx)(`div`,{style:{fontSize:`12px`,color:`#6d4611`,opacity:.7,marginTop:`4px`},children:`Solo se muestran pedidos sin venta asociada`})]}),(0,W.jsxs)(`div`,{style:{marginBottom:`16px`},children:[(0,W.jsx)(`label`,{style:{display:`block`,marginBottom:`6px`,color:`#6d4611`,fontWeight:`500`},children:`Monto Total (Bs) *`}),(0,W.jsx)(`input`,{type:`number`,step:`0.01`,value:F.monto_total,onChange:e=>I({...F,monto_total:e.target.value}),required:!0,min:`0.01`,max:`100000`,placeholder:`0.00`,style:{width:`100%`,padding:`10px`,border:`1px solid #e9d8b5`,borderRadius:`6px`,fontSize:`14px`}}),(0,W.jsx)(`div`,{style:{fontSize:`12px`,color:`#6d4611`,opacity:.7,marginTop:`4px`},children:`Monto mnimo: Bs 0.01 - Mximo: Bs 100,000`})]}),(0,W.jsxs)(`div`,{style:{marginBottom:`16px`},children:[(0,W.jsx)(`label`,{style:{display:`block`,marginBottom:`6px`,color:`#6d4611`,fontWeight:`500`},children:`Descripcin`}),(0,W.jsx)(`textarea`,{value:F.descripcion,onChange:e=>I({...F,descripcion:e.target.value}),placeholder:`Descripcin opcional de la venta...`,rows:`3`,style:{width:`100%`,padding:`10px`,border:`1px solid #e9d8b5`,borderRadius:`6px`,fontSize:`14px`,resize:`vertical`}})]}),(0,W.jsxs)(`div`,{style:{display:`flex`,gap:`12px`,marginTop:`24px`},children:[(0,W.jsxs)(`button`,{type:`submit`,style:{display:`flex`,alignItems:`center`,gap:`8px`,padding:`12px 20px`,border:`none`,borderRadius:`8px`,cursor:`pointer`,fontSize:`14px`,fontWeight:`500`,backgroundColor:`#28a745`,color:`white`,flex:1},disabled:S===`guardar`,children:[S===`guardar`?(0,W.jsx)(tr,{size:16,style:{animation:`spin 1s linear infinite`}}):(0,W.jsx)(pr,{size:16}),b?`Actualizar`:`Crear Venta`]}),(0,W.jsx)(`button`,{type:`button`,onClick:oe,style:{display:`flex`,alignItems:`center`,gap:`8px`,padding:`12px 20px`,border:`none`,borderRadius:`8px`,cursor:`pointer`,fontSize:`14px`,fontWeight:`500`,backgroundColor:`#6c757d`,color:`white`},children:`Cancelar`})]})]})]})}),(0,W.jsx)(`style`,{children:`
          @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
          }
        `})]})}function $c(){let[e,t]=(0,w.useState)([]),[n,r]=(0,w.useState)([]),[i,a]=(0,w.useState)([]),[o,s]=(0,w.useState)([]),[c,l]=(0,w.useState)(!0),[u,d]=(0,w.useState)(``),[f,p]=(0,w.useState)(``),[m,h]=(0,w.useState)(!1),[g,_]=(0,w.useState)(!1),[v,y]=(0,w.useState)(!1),[b,x]=(0,w.useState)(null),[S,C]=(0,w.useState)(null),[T,E]=(0,w.useState)(null),[D,O]=(0,w.useState)(``),[k,A]=(0,w.useState)(`todos`),[j,ee]=(0,w.useState)({ci_proveedor:``,nombre_empresa:``,contacto_principal:``,descripcion:``,telefono:``,email:``,ruta_entrega:``,estado:`activo`}),[M,te]=(0,w.useState)({id_producto:``,precio_proveedor:``,moneda:`BOB`,unidad_compra:``,stock_minimo_pedido:``,stock_maximo_pedido:``,calidad_producto:`estandar`}),[N,P]=(0,w.useState)({nombre_contacto:``,cargo:``,telefono:``,email:``,es_contacto_principal:!1}),[F,I]=(0,w.useState)({}),[L,ne]=(0,w.useState)({}),[R,z]=(0,w.useState)({});(0,w.useEffect)(()=>{re()},[]);let B=(e,t=`error`)=>{t===`success`?(p(e),setTimeout(()=>p(``),4e3)):(d(e),setTimeout(()=>d(``),6e3))},re=async()=>{try{l(!0);let[e,n,i,o]=await Promise.all([Z.from(`proveedores`).select(`*`).order(`fecha_registro`,{ascending:!1}),Z.from(`productos`).select(`*`).order(`nombre`),Z.from(`proveedores_productos`).select(`*`),Z.from(`proveedores_contactos`).select(`*`)]),c=[e.error,n.error,i.error,o.error].filter(e=>e);if(c.length>0)throw Error(`Errores al cargar: ${c.map(e=>e.message).join(`, `)}`);t(e.data||[]),r(n.data||[]),a(i.data||[]),s(o.data||[])}catch(e){B(`Error al cargar datos: ${e.message}`),console.error(`Error:`,e)}finally{l(!1)}},V=()=>{let e={};return j.ci_proveedor.trim()?j.ci_proveedor.trim().length<3&&(e.ci_proveedor=`El CI/NIT debe tener al menos 3 caracteres`):e.ci_proveedor=`El CI/NIT del proveedor es obligatorio`,j.nombre_empresa.trim()?j.nombre_empresa.trim().length<2&&(e.nombre_empresa=`El nombre debe tener al menos 2 caracteres`):e.nombre_empresa=`El nombre de la empresa es obligatorio`,j.contacto_principal.trim()?j.contacto_principal.trim().length<2&&(e.contacto_principal=`El contacto debe tener al menos 2 caracteres`):e.contacto_principal=`El contacto principal es obligatorio`,j.telefono.trim()?j.telefono.trim().length<6&&(e.telefono=`El telfono debe tener al menos 6 caracteres`):e.telefono=`El telfono es obligatorio`,j.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(j.email)||(e.email=`El email no es vlido`):e.email=`El email es obligatorio`,j.descripcion.trim()?j.descripcion.trim().length<10&&(e.descripcion=`La descripcin debe tener al menos 10 caracteres`):e.descripcion=`La descripcin es obligatoria`,j.ruta_entrega.trim()||(e.ruta_entrega=`La ruta de entrega es obligatoria`),I(e),Object.keys(e).length===0},ie=()=>{let e={};return M.id_producto||(e.id_producto=`Debe seleccionar un producto`),(!M.precio_proveedor||parseFloat(M.precio_proveedor)<=0)&&(e.precio_proveedor=`El precio debe ser mayor a 0`),M.unidad_compra.trim()||(e.unidad_compra=`La unidad de compra es obligatoria`),(!M.stock_minimo_pedido||parseInt(M.stock_minimo_pedido)<0)&&(e.stock_minimo_pedido=`El stock mnimo es obligatorio`),(!M.stock_maximo_pedido||parseInt(M.stock_maximo_pedido)<=parseInt(M.stock_minimo_pedido))&&(e.stock_maximo_pedido=`El stock mximo debe ser mayor al mnimo`),ne(e),Object.keys(e).length===0},ae=()=>{let e={};return N.nombre_contacto.trim()||(e.nombre_contacto=`El nombre del contacto es obligatorio`),N.cargo.trim()||(e.cargo=`El cargo es obligatorio`),N.telefono.trim()||(e.telefono=`El telfono es obligatorio`),N.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(N.email)||(e.email=`El email no es vlido`):e.email=`El email es obligatorio`,z(e),Object.keys(e).length===0},oe=async e=>{e.preventDefault(),E(`guardar`);try{if(!V()){B(`Por favor, corrige los errores en el formulario`),E(null);return}let e={ci_proveedor:j.ci_proveedor.trim(),nombre_empresa:j.nombre_empresa.trim(),contacto_principal:j.contacto_principal.trim(),telefono:j.telefono.trim(),email:j.email.trim(),descripcion:j.descripcion.trim(),ruta_entrega:j.ruta_entrega.trim(),estado:j.estado},t;if(b)t=await Z.from(`proveedores`).update(e).eq(`ci_proveedor`,b);else{let{data:n}=await Z.from(`proveedores`).select(`ci_proveedor`).eq(`ci_proveedor`,e.ci_proveedor).single();if(n)throw Error(`Ya existe un proveedor con este CI/NIT`);t=await Z.from(`proveedores`).insert([e])}if(t.error)throw t.error;B(`Proveedor ${b?`actualizado`:`creado`} exitosamente`,`success`),fe(),re()}catch(e){B(e.message)}finally{E(null)}},se=async()=>{if(S){E(`agregar-producto`);try{if(!ie()){B(`Por favor, corrige los errores en el formulario de producto`),E(null);return}let e={ci_proveedor:S.ci_proveedor,id_producto:parseInt(M.id_producto),precio_proveedor:parseFloat(M.precio_proveedor),moneda:M.moneda,unidad_compra:M.unidad_compra.trim(),stock_minimo_pedido:parseInt(M.stock_minimo_pedido),stock_maximo_pedido:parseInt(M.stock_maximo_pedido),calidad_producto:M.calidad_producto},{error:t}=await Z.from(`proveedores_productos`).insert([e]);if(t)throw t;B(`Producto agregado al proveedor exitosamente`,`success`),te({id_producto:``,precio_proveedor:``,moneda:`BOB`,unidad_compra:``,stock_minimo_pedido:``,stock_maximo_pedido:``,calidad_producto:`estandar`}),ne({}),re()}catch(e){B(e.message)}finally{E(null)}}},ce=async()=>{if(S){E(`agregar-contacto`);try{if(!ae()){B(`Por favor, corrige los errores en el formulario de contacto`),E(null);return}let e={ci_proveedor:S.ci_proveedor,nombre_contacto:N.nombre_contacto.trim(),cargo:N.cargo.trim(),telefono:N.telefono.trim(),email:N.email.trim(),es_contacto_principal:N.es_contacto_principal},{error:t}=await Z.from(`proveedores_contactos`).insert([e]);if(t)throw t;B(`Contacto agregado al proveedor exitosamente`,`success`),P({nombre_contacto:``,cargo:``,telefono:``,email:``,es_contacto_principal:!1}),z({}),re()}catch(e){B(e.message)}finally{E(null)}}},le=async e=>{if(window.confirm(`Ests seguro de eliminar este proveedor? Se eliminarn todos sus productos y contactos asociados.`)){E(`delete-${e}`);try{let{error:t}=await Z.from(`proveedores_productos`).delete().eq(`ci_proveedor`,e);if(t)throw t;let{error:n}=await Z.from(`proveedores_contactos`).delete().eq(`ci_proveedor`,e);if(n)throw n;let{error:r}=await Z.from(`proveedores`).delete().eq(`ci_proveedor`,e);if(r)throw r;B(`Proveedor eliminado exitosamente`,`success`),re()}catch(e){B(`Error al eliminar proveedor: ${e.message}`)}finally{E(null)}}},ue=async e=>{if(window.confirm(`Eliminar este producto del proveedor?`)){E(`delete-producto-${e}`);try{let{error:t}=await Z.from(`proveedores_productos`).delete().eq(`id_proveedor_producto`,e);if(t)throw t;B(`Producto eliminado del proveedor`,`success`),re()}catch(e){B(`Error al eliminar producto: ${e.message}`)}finally{E(null)}}},de=async e=>{if(window.confirm(`Eliminar este contacto?`)){E(`delete-contacto-${e}`);try{let{error:t}=await Z.from(`proveedores_contactos`).delete().eq(`id_contacto`,e);if(t)throw t;B(`Contacto eliminado`,`success`),re()}catch(e){B(`Error al eliminar contacto: ${e.message}`)}finally{E(null)}}},fe=()=>{ee({ci_proveedor:``,nombre_empresa:``,contacto_principal:``,telefono:``,email:``,descripcion:``,ruta_entrega:``,estado:`activo`}),I({}),x(null),h(!1)},pe=()=>{O(``),A(`todos`)},me=e=>i.filter(t=>t.ci_proveedor===e),he=e=>o.filter(t=>t.ci_proveedor===e),ge=e=>{let t=n.find(t=>t.id_producto===e);return t?t.nombre:`Producto no encontrado`},_e=e.filter(e=>{let t=e.ci_proveedor.toLowerCase().includes(D.toLowerCase())||e.nombre_empresa.toLowerCase().includes(D.toLowerCase())||e.contacto_principal.toLowerCase().includes(D.toLowerCase())||e.descripcion?.toLowerCase().includes(D.toLowerCase())||e.ruta_entrega?.toLowerCase().includes(D.toLowerCase()),n=k===`todos`||e.estado===k;return t&&n}),ve={totalProveedores:e.length,proveedoresActivos:e.filter(e=>e.estado===`activo`).length,totalProductosAsociados:i.length},ye=({error:e})=>e?(0,W.jsxs)(`div`,{className:`error-message`,children:[(0,W.jsx)(Bn,{size:12}),(0,W.jsx)(`span`,{children:e})]}):null;return c?(0,W.jsxs)(`div`,{className:`loading-container`,children:[(0,W.jsx)(tr,{size:32,className:`spinner`}),(0,W.jsx)(`p`,{children:`Cargando proveedores...`})]}):(0,W.jsxs)(`div`,{className:`container`,children:[(0,W.jsx)(`header`,{className:`page-header`,children:(0,W.jsxs)(`div`,{className:`header-content`,children:[(0,W.jsxs)(`div`,{className:`header-title`,children:[(0,W.jsx)(Nn,{size:32}),(0,W.jsxs)(`div`,{children:[(0,W.jsx)(`h1`,{children:`Gestin de Proveedores`}),(0,W.jsx)(`p`,{children:`Administra proveedores, productos asociados y contactos`})]})]}),(0,W.jsxs)(`button`,{onClick:re,className:`btn btn-secondary`,disabled:c,children:[(0,W.jsx)(dr,{size:16,className:c?`spinner`:``}),`Actualizar`]})]})}),u&&(0,W.jsxs)(`div`,{className:`alert error`,children:[(0,W.jsx)(Cr,{size:20}),(0,W.jsx)(`span`,{children:u}),(0,W.jsx)(`button`,{onClick:()=>d(``),className:`alert-close`,children:(0,W.jsx)(U,{size:16})})]}),f&&(0,W.jsxs)(`div`,{className:`alert success`,children:[(0,W.jsx)(Vn,{size:20}),(0,W.jsx)(`span`,{children:f}),(0,W.jsx)(`button`,{onClick:()=>p(``),className:`alert-close`,children:(0,W.jsx)(U,{size:16})})]}),(0,W.jsxs)(`div`,{className:`stats-grid`,children:[(0,W.jsxs)(`div`,{className:`stat-card`,children:[(0,W.jsx)(`div`,{className:`stat-icon primary`,children:(0,W.jsx)(Nn,{size:24})}),(0,W.jsxs)(`div`,{className:`stat-info`,children:[(0,W.jsx)(`div`,{className:`stat-value`,children:ve.totalProveedores}),(0,W.jsx)(`div`,{className:`stat-label`,children:`Total Proveedores`})]})]}),(0,W.jsxs)(`div`,{className:`stat-card`,children:[(0,W.jsx)(`div`,{className:`stat-icon success`,children:(0,W.jsx)(On,{size:24})}),(0,W.jsxs)(`div`,{className:`stat-info`,children:[(0,W.jsx)(`div`,{className:`stat-value`,children:ve.proveedoresActivos}),(0,W.jsx)(`div`,{className:`stat-label`,children:`Activos`})]})]}),(0,W.jsxs)(`div`,{className:`stat-card`,children:[(0,W.jsx)(`div`,{className:`stat-icon warning`,children:(0,W.jsx)(sr,{size:24})}),(0,W.jsxs)(`div`,{className:`stat-info`,children:[(0,W.jsx)(`div`,{className:`stat-value`,children:ve.totalProductosAsociados}),(0,W.jsx)(`div`,{className:`stat-label`,children:`Productos Asoc.`})]})]})]}),(0,W.jsx)(`div`,{className:`search-filter-bar`,children:(0,W.jsxs)(`div`,{className:`search-section`,children:[(0,W.jsxs)(`div`,{className:`search-box`,children:[(0,W.jsx)(mr,{size:18}),(0,W.jsx)(`input`,{type:`text`,placeholder:`Buscar por CI/NIT, empresa, contacto o descripcin...`,value:D,onChange:e=>O(e.target.value),className:`search-input`})]}),(0,W.jsxs)(`select`,{value:k,onChange:e=>A(e.target.value),className:`filter-select`,children:[(0,W.jsx)(`option`,{value:`todos`,children:`Todos los estados`}),(0,W.jsx)(`option`,{value:`activo`,children:`Activo`}),(0,W.jsx)(`option`,{value:`inactivo`,children:`Inactivo`}),(0,W.jsx)(`option`,{value:`suspendido`,children:`Suspendido`})]}),(0,W.jsxs)(`button`,{onClick:pe,className:`btn btn-outline`,children:[(0,W.jsx)(U,{size:16}),`Limpiar`]})]})}),(0,W.jsx)(`div`,{className:`action-buttons`,children:(0,W.jsxs)(`button`,{onClick:()=>{fe(),h(!0)},className:`btn btn-primary`,children:[(0,W.jsx)(lr,{size:16}),`Nuevo Proveedor`]})}),(0,W.jsxs)(`div`,{className:`table-card`,children:[(0,W.jsx)(`div`,{className:`table-header`,children:(0,W.jsxs)(`div`,{className:`table-title`,children:[(0,W.jsx)(Nn,{size:20}),(0,W.jsxs)(`h2`,{children:[`Proveedores (`,_e.length,`)`]})]})}),(0,W.jsxs)(`div`,{className:`table-container`,children:[(0,W.jsxs)(`table`,{children:[(0,W.jsx)(`thead`,{children:(0,W.jsxs)(`tr`,{children:[(0,W.jsx)(`th`,{children:`CI/NIT`}),(0,W.jsx)(`th`,{children:`Empresa`}),(0,W.jsx)(`th`,{children:`Contacto`}),(0,W.jsx)(`th`,{children:`Informacin`}),(0,W.jsx)(`th`,{children:`Productos`}),(0,W.jsx)(`th`,{children:`Estado`}),(0,W.jsx)(`th`,{children:`Acciones`})]})}),(0,W.jsx)(`tbody`,{children:_e.map(e=>{let t=me(e.ci_proveedor).length,n=he(e.ci_proveedor).length;return(0,W.jsxs)(`tr`,{children:[(0,W.jsx)(`td`,{className:`id-cell`,children:(0,W.jsx)(`div`,{style:{fontWeight:`600`,color:`#7a3b06`},children:e.ci_proveedor})}),(0,W.jsx)(`td`,{className:`name-cell`,children:(0,W.jsxs)(`div`,{children:[(0,W.jsx)(`div`,{style:{fontWeight:`600`,color:`#7a3b06`,fontSize:`16px`},children:e.nombre_empresa}),(0,W.jsx)(`div`,{style:{fontSize:`12px`,color:`#6d4611`,opacity:.8},children:e.fecha_registro?new Date(e.fecha_registro).toLocaleDateString(`es-BO`):`Sin fecha`})]})}),(0,W.jsx)(`td`,{className:`contact-cell`,children:(0,W.jsxs)(`div`,{children:[(0,W.jsx)(`div`,{style:{fontWeight:`500`,color:`#7a3b06`},children:e.contacto_principal}),(0,W.jsxs)(`div`,{style:{fontSize:`12px`,color:`#6d4611`,opacity:.8},children:[n,` contacto`,n===1?``:`s`]})]})}),(0,W.jsx)(`td`,{className:`info-cell`,children:(0,W.jsxs)(`div`,{style:{display:`flex`,flexDirection:`column`,gap:`4px`},children:[e.telefono&&(0,W.jsxs)(`div`,{style:{display:`flex`,alignItems:`center`,gap:`6px`,fontSize:`12px`},children:[(0,W.jsx)(cr,{size:12}),e.telefono]}),e.email&&(0,W.jsxs)(`div`,{style:{display:`flex`,alignItems:`center`,gap:`6px`,fontSize:`12px`},children:[(0,W.jsx)(rr,{size:12}),e.email]}),e.ruta_entrega&&(0,W.jsxs)(`div`,{style:{display:`flex`,alignItems:`center`,gap:`6px`,fontSize:`12px`},children:[(0,W.jsx)(ir,{size:12}),e.ruta_entrega]})]})}),(0,W.jsx)(`td`,{className:`products-cell`,children:(0,W.jsx)(`div`,{style:{display:`flex`,flexDirection:`column`,gap:`4px`},children:(0,W.jsxs)(`div`,{className:`product-count`,children:[(0,W.jsx)(sr,{size:12}),t,` producto`,t===1?``:`s`]})})}),(0,W.jsx)(`td`,{className:`status-cell`,children:(0,W.jsxs)(`div`,{className:`status-badge ${e.estado}`,children:[e.estado===`activo`?(0,W.jsx)(Vn,{size:12}):e.estado===`inactivo`?(0,W.jsx)(Wn,{size:12}):(0,W.jsx)(Un,{size:12}),e.estado]})}),(0,W.jsx)(`td`,{className:`actions-cell`,children:(0,W.jsxs)(`div`,{className:`action-buttons-small`,children:[(0,W.jsx)(`button`,{onClick:()=>{ee({ci_proveedor:e.ci_proveedor||``,nombre_empresa:e.nombre_empresa||``,contacto_principal:e.contacto_principal||``,telefono:e.telefono||``,email:e.email||``,descripcion:e.descripcion||``,ruta_entrega:e.ruta_entrega||``,estado:e.estado||`activo`}),x(e.ci_proveedor),h(!0)},className:`btn-edit`,title:`Editar proveedor`,children:(0,W.jsx)(yr,{size:14})}),(0,W.jsx)(`button`,{onClick:()=>{C(e),_(!0)},className:`btn-info`,title:`Gestionar productos`,children:(0,W.jsx)(sr,{size:14})}),(0,W.jsx)(`button`,{onClick:()=>{C(e),y(!0)},className:`btn-secondary`,title:`Gestionar contactos`,children:(0,W.jsx)(Er,{size:14})}),(0,W.jsx)(`button`,{onClick:()=>le(e.ci_proveedor),className:`btn-delete`,disabled:T===`delete-${e.ci_proveedor}`,title:`Eliminar proveedor`,children:T===`delete-${e.ci_proveedor}`?(0,W.jsx)(tr,{size:14,className:`spinner`}):(0,W.jsx)(xr,{size:14})})]})})]},e.ci_proveedor)})})]}),_e.length===0&&(0,W.jsxs)(`div`,{className:`empty-state`,children:[(0,W.jsx)(Nn,{size:48}),(0,W.jsx)(`p`,{children:`No se encontraron proveedores`}),(0,W.jsx)(`button`,{onClick:pe,className:`btn btn-outline`,children:`Limpiar filtros`})]})]})]}),m&&(0,W.jsx)(`div`,{className:`modal-overlay`,children:(0,W.jsxs)(`div`,{className:`modal large`,children:[(0,W.jsxs)(`div`,{className:`modal-header`,children:[(0,W.jsx)(`h3`,{children:b?(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(yr,{size:20}),`Editar Proveedor`]}):(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(lr,{size:20}),`Nuevo Proveedor`]})}),(0,W.jsx)(`button`,{onClick:fe,className:`btn-close`,children:(0,W.jsx)(U,{size:20})})]}),(0,W.jsxs)(`form`,{onSubmit:oe,className:`form-container`,children:[(0,W.jsxs)(`div`,{className:`form-section`,children:[(0,W.jsxs)(`h4`,{children:[(0,W.jsx)(Nn,{size:16}),`Informacin Bsica`]}),(0,W.jsxs)(`div`,{className:`form-row`,children:[(0,W.jsxs)(`div`,{className:`form-group`,children:[(0,W.jsxs)(`label`,{className:`form-label`,children:[`CI/NIT del Proveedor *`,F.ci_proveedor&&(0,W.jsx)(`span`,{className:`error-indicator`,children:`!`})]}),(0,W.jsx)(`input`,{type:`text`,value:j.ci_proveedor,onChange:e=>ee({...j,ci_proveedor:e.target.value}),className:`form-input ${F.ci_proveedor?`error`:``}`,required:!0,minLength:`3`,maxLength:`20`,placeholder:`Nmero de CI o NIT`}),(0,W.jsx)(ye,{error:F.ci_proveedor})]}),(0,W.jsxs)(`div`,{className:`form-group`,children:[(0,W.jsxs)(`label`,{className:`form-label`,children:[`Nombre de Empresa *`,F.nombre_empresa&&(0,W.jsx)(`span`,{className:`error-indicator`,children:`!`})]}),(0,W.jsx)(`input`,{type:`text`,value:j.nombre_empresa,onChange:e=>ee({...j,nombre_empresa:e.target.value}),className:`form-input ${F.nombre_empresa?`error`:``}`,required:!0,minLength:`2`,maxLength:`100`,placeholder:`Nombre legal de la empresa`}),(0,W.jsx)(ye,{error:F.nombre_empresa})]})]}),(0,W.jsxs)(`div`,{className:`form-row`,children:[(0,W.jsxs)(`div`,{className:`form-group`,children:[(0,W.jsxs)(`label`,{className:`form-label`,children:[`Contacto Principal *`,F.contacto_principal&&(0,W.jsx)(`span`,{className:`error-indicator`,children:`!`})]}),(0,W.jsx)(`input`,{type:`text`,value:j.contacto_principal,onChange:e=>ee({...j,contacto_principal:e.target.value}),className:`form-input ${F.contacto_principal?`error`:``}`,required:!0,minLength:`2`,maxLength:`100`,placeholder:`Persona principal de contacto`}),(0,W.jsx)(ye,{error:F.contacto_principal})]}),(0,W.jsxs)(`div`,{className:`form-group`,children:[(0,W.jsxs)(`label`,{className:`form-label`,children:[`Telfono *`,F.telefono&&(0,W.jsx)(`span`,{className:`error-indicator`,children:`!`})]}),(0,W.jsx)(`input`,{type:`tel`,value:j.telefono,onChange:e=>ee({...j,telefono:e.target.value}),className:`form-input ${F.telefono?`error`:``}`,required:!0,minLength:`6`,placeholder:`+591 XXX XXX`}),(0,W.jsx)(ye,{error:F.telefono})]})]}),(0,W.jsxs)(`div`,{className:`form-row`,children:[(0,W.jsxs)(`div`,{className:`form-group`,children:[(0,W.jsxs)(`label`,{className:`form-label`,children:[`Email *`,F.email&&(0,W.jsx)(`span`,{className:`error-indicator`,children:`!`})]}),(0,W.jsx)(`input`,{type:`email`,value:j.email,onChange:e=>ee({...j,email:e.target.value}),className:`form-input ${F.email?`error`:``}`,required:!0,placeholder:`proveedor@empresa.com`}),(0,W.jsx)(ye,{error:F.email})]}),(0,W.jsxs)(`div`,{className:`form-group`,children:[(0,W.jsxs)(`label`,{className:`form-label`,children:[`Ruta de Entrega *`,F.ruta_entrega&&(0,W.jsx)(`span`,{className:`error-indicator`,children:`!`})]}),(0,W.jsx)(`input`,{type:`text`,value:j.ruta_entrega,onChange:e=>ee({...j,ruta_entrega:e.target.value}),className:`form-input ${F.ruta_entrega?`error`:``}`,required:!0,placeholder:`Zona o ruta de entrega`}),(0,W.jsx)(ye,{error:F.ruta_entrega})]})]}),(0,W.jsxs)(`div`,{className:`form-group`,children:[(0,W.jsxs)(`label`,{className:`form-label`,children:[`Descripcin *`,F.descripcion&&(0,W.jsx)(`span`,{className:`error-indicator`,children:`!`})]}),(0,W.jsx)(`textarea`,{value:j.descripcion,onChange:e=>ee({...j,descripcion:e.target.value}),className:`form-input ${F.descripcion?`error`:``}`,placeholder:`Descripcin detallada del proveedor...`,rows:`3`,maxLength:`500`,required:!0,minLength:`10`}),(0,W.jsx)(ye,{error:F.descripcion})]}),(0,W.jsxs)(`div`,{className:`form-group`,children:[(0,W.jsx)(`label`,{className:`form-label`,children:`Estado`}),(0,W.jsxs)(`select`,{value:j.estado,onChange:e=>ee({...j,estado:e.target.value}),className:`form-input`,children:[(0,W.jsx)(`option`,{value:`activo`,children:`Activo`}),(0,W.jsx)(`option`,{value:`inactivo`,children:`Inactivo`}),(0,W.jsx)(`option`,{value:`suspendido`,children:`Suspendido`})]})]})]}),(0,W.jsxs)(`div`,{className:`form-actions`,children:[(0,W.jsx)(`button`,{type:`submit`,className:`btn btn-success`,disabled:T===`guardar`,children:T===`guardar`?(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(tr,{size:16,className:`spinner`}),b?`Actualizando...`:`Creando...`]}):(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(pr,{size:16}),b?`Actualizar`:`Crear Proveedor`]})}),(0,W.jsx)(`button`,{type:`button`,onClick:fe,className:`btn btn-cancel`,children:`Cancelar`})]})]})]})}),g&&S&&(0,W.jsx)(`div`,{className:`modal-overlay`,children:(0,W.jsxs)(`div`,{className:`modal large`,children:[(0,W.jsxs)(`div`,{className:`modal-header`,children:[(0,W.jsxs)(`h3`,{children:[(0,W.jsx)(sr,{size:20}),`Productos de `,S.nombre_empresa]}),(0,W.jsx)(`button`,{onClick:()=>_(!1),className:`btn-close`,children:(0,W.jsx)(U,{size:20})})]}),(0,W.jsxs)(`div`,{className:`modal-content`,children:[(0,W.jsxs)(`div`,{className:`form-section`,children:[(0,W.jsxs)(`h4`,{children:[(0,W.jsx)(lr,{size:16}),`Agregar Producto`]}),(0,W.jsxs)(`div`,{className:`form-row`,children:[(0,W.jsxs)(`div`,{className:`form-group`,children:[(0,W.jsxs)(`label`,{className:`form-label`,children:[`Producto *`,L.id_producto&&(0,W.jsx)(`span`,{className:`error-indicator`,children:`!`})]}),(0,W.jsxs)(`select`,{value:M.id_producto,onChange:e=>te({...M,id_producto:e.target.value}),className:`form-input ${L.id_producto?`error`:``}`,required:!0,children:[(0,W.jsx)(`option`,{value:``,children:`Seleccionar producto`}),n.map(e=>(0,W.jsx)(`option`,{value:e.id_producto,children:e.nombre},e.id_producto))]}),(0,W.jsx)(ye,{error:L.id_producto})]}),(0,W.jsxs)(`div`,{className:`form-group`,children:[(0,W.jsxs)(`label`,{className:`form-label`,children:[`Precio *`,L.precio_proveedor&&(0,W.jsx)(`span`,{className:`error-indicator`,children:`!`})]}),(0,W.jsx)(`input`,{type:`number`,step:`0.01`,min:`0.01`,value:M.precio_proveedor,onChange:e=>te({...M,precio_proveedor:e.target.value}),className:`form-input ${L.precio_proveedor?`error`:``}`,placeholder:`0.00`,required:!0}),(0,W.jsx)(ye,{error:L.precio_proveedor})]})]}),(0,W.jsxs)(`div`,{className:`form-row`,children:[(0,W.jsxs)(`div`,{className:`form-group`,children:[(0,W.jsx)(`label`,{className:`form-label`,children:`Moneda`}),(0,W.jsxs)(`select`,{value:M.moneda,onChange:e=>te({...M,moneda:e.target.value}),className:`form-input`,children:[(0,W.jsx)(`option`,{value:`BOB`,children:`BOB`}),(0,W.jsx)(`option`,{value:`USD`,children:`USD`})]})]}),(0,W.jsxs)(`div`,{className:`form-group`,children:[(0,W.jsxs)(`label`,{className:`form-label`,children:[`Unidad de Compra *`,L.unidad_compra&&(0,W.jsx)(`span`,{className:`error-indicator`,children:`!`})]}),(0,W.jsx)(`input`,{type:`text`,value:M.unidad_compra,onChange:e=>te({...M,unidad_compra:e.target.value}),className:`form-input ${L.unidad_compra?`error`:``}`,placeholder:`kg, litros, cajas...`,required:!0}),(0,W.jsx)(ye,{error:L.unidad_compra})]})]}),(0,W.jsxs)(`div`,{className:`form-row`,children:[(0,W.jsxs)(`div`,{className:`form-group`,children:[(0,W.jsxs)(`label`,{className:`form-label`,children:[`Stock Mnimo *`,L.stock_minimo_pedido&&(0,W.jsx)(`span`,{className:`error-indicator`,children:`!`})]}),(0,W.jsx)(`input`,{type:`number`,min:`0`,value:M.stock_minimo_pedido,onChange:e=>te({...M,stock_minimo_pedido:e.target.value}),className:`form-input ${L.stock_minimo_pedido?`error`:``}`,placeholder:`0`,required:!0}),(0,W.jsx)(ye,{error:L.stock_minimo_pedido})]}),(0,W.jsxs)(`div`,{className:`form-group`,children:[(0,W.jsxs)(`label`,{className:`form-label`,children:[`Stock Mximo *`,L.stock_maximo_pedido&&(0,W.jsx)(`span`,{className:`error-indicator`,children:`!`})]}),(0,W.jsx)(`input`,{type:`number`,min:`1`,value:M.stock_maximo_pedido,onChange:e=>te({...M,stock_maximo_pedido:e.target.value}),className:`form-input ${L.stock_maximo_pedido?`error`:``}`,placeholder:`100`,required:!0}),(0,W.jsx)(ye,{error:L.stock_maximo_pedido})]})]}),(0,W.jsxs)(`div`,{className:`form-group`,children:[(0,W.jsx)(`label`,{className:`form-label`,children:`Calidad del Producto`}),(0,W.jsxs)(`select`,{value:M.calidad_producto,onChange:e=>te({...M,calidad_producto:e.target.value}),className:`form-input`,children:[(0,W.jsx)(`option`,{value:`premium`,children:`Premium`}),(0,W.jsx)(`option`,{value:`estandar`,children:`Estndar`}),(0,W.jsx)(`option`,{value:`economico`,children:`Econmico`})]})]}),(0,W.jsx)(`button`,{onClick:se,disabled:T===`agregar-producto`,className:`btn btn-success`,children:T===`agregar-producto`?(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(tr,{size:14,className:`spinner`}),`Agregando...`]}):(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(lr,{size:14}),`Agregar Producto`]})})]}),(0,W.jsxs)(`div`,{className:`list-section`,children:[(0,W.jsxs)(`h4`,{children:[(0,W.jsx)(sr,{size:16}),`Productos Asociados (`,me(S.ci_proveedor).length,`)`]}),me(S.ci_proveedor).length>0?(0,W.jsx)(`div`,{className:`items-list`,children:me(S.ci_proveedor).map(e=>(0,W.jsxs)(`div`,{className:`item-card`,children:[(0,W.jsxs)(`div`,{className:`item-info`,children:[(0,W.jsx)(`div`,{className:`item-name`,children:ge(e.id_producto)}),(0,W.jsxs)(`div`,{className:`item-details`,children:[(0,W.jsx)(`span`,{className:`price`,children:new Intl.NumberFormat(`es-BO`,{style:`currency`,currency:e.moneda}).format(e.precio_proveedor)}),(0,W.jsxs)(`span`,{className:`unit`,children:[` `,e.unidad_compra]}),(0,W.jsxs)(`span`,{className:`stock`,children:[` Stock: `,e.stock_minimo_pedido,`-`,e.stock_maximo_pedido]}),(0,W.jsxs)(`span`,{className:`quality ${e.calidad_producto}`,children:[` `,e.calidad_producto]})]})]}),(0,W.jsx)(`button`,{onClick:()=>ue(e.id_proveedor_producto),className:`btn-delete-small`,disabled:T===`delete-producto-${e.id_proveedor_producto}`,children:T===`delete-producto-${e.id_proveedor_producto}`?(0,W.jsx)(tr,{size:12,className:`spinner`}):(0,W.jsx)(xr,{size:12})})]},e.id_proveedor_producto))}):(0,W.jsxs)(`div`,{className:`empty-state-small`,children:[(0,W.jsx)(sr,{size:32}),(0,W.jsx)(`p`,{children:`No hay productos asociados`})]})]})]}),(0,W.jsx)(`div`,{className:`modal-actions`,children:(0,W.jsx)(`button`,{onClick:()=>_(!1),className:`btn btn-cancel`,children:`Cerrar`})})]})}),v&&S&&(0,W.jsx)(`div`,{className:`modal-overlay`,children:(0,W.jsxs)(`div`,{className:`modal`,children:[(0,W.jsxs)(`div`,{className:`modal-header`,children:[(0,W.jsxs)(`h3`,{children:[(0,W.jsx)(Er,{size:20}),`Contactos de `,S.nombre_empresa]}),(0,W.jsx)(`button`,{onClick:()=>y(!1),className:`btn-close`,children:(0,W.jsx)(U,{size:20})})]}),(0,W.jsxs)(`div`,{className:`modal-content`,children:[(0,W.jsxs)(`div`,{className:`form-section`,children:[(0,W.jsxs)(`h4`,{children:[(0,W.jsx)(lr,{size:16}),`Agregar Contacto`]}),(0,W.jsxs)(`div`,{className:`form-row`,children:[(0,W.jsxs)(`div`,{className:`form-group`,children:[(0,W.jsxs)(`label`,{className:`form-label`,children:[`Nombre *`,R.nombre_contacto&&(0,W.jsx)(`span`,{className:`error-indicator`,children:`!`})]}),(0,W.jsx)(`input`,{type:`text`,value:N.nombre_contacto,onChange:e=>P({...N,nombre_contacto:e.target.value}),className:`form-input ${R.nombre_contacto?`error`:``}`,placeholder:`Nombre completo`,required:!0}),(0,W.jsx)(ye,{error:R.nombre_contacto})]}),(0,W.jsxs)(`div`,{className:`form-group`,children:[(0,W.jsxs)(`label`,{className:`form-label`,children:[`Cargo *`,R.cargo&&(0,W.jsx)(`span`,{className:`error-indicator`,children:`!`})]}),(0,W.jsx)(`input`,{type:`text`,value:N.cargo,onChange:e=>P({...N,cargo:e.target.value}),className:`form-input ${R.cargo?`error`:``}`,placeholder:`Cargo o posicin`,required:!0}),(0,W.jsx)(ye,{error:R.cargo})]})]}),(0,W.jsxs)(`div`,{className:`form-row`,children:[(0,W.jsxs)(`div`,{className:`form-group`,children:[(0,W.jsxs)(`label`,{className:`form-label`,children:[`Telfono *`,R.telefono&&(0,W.jsx)(`span`,{className:`error-indicator`,children:`!`})]}),(0,W.jsx)(`input`,{type:`tel`,value:N.telefono,onChange:e=>P({...N,telefono:e.target.value}),className:`form-input ${R.telefono?`error`:``}`,placeholder:`+591 XXX XXX`,required:!0}),(0,W.jsx)(ye,{error:R.telefono})]}),(0,W.jsxs)(`div`,{className:`form-group`,children:[(0,W.jsxs)(`label`,{className:`form-label`,children:[`Email *`,R.email&&(0,W.jsx)(`span`,{className:`error-indicator`,children:`!`})]}),(0,W.jsx)(`input`,{type:`email`,value:N.email,onChange:e=>P({...N,email:e.target.value}),className:`form-input ${R.email?`error`:``}`,placeholder:`contacto@empresa.com`,required:!0}),(0,W.jsx)(ye,{error:R.email})]})]}),(0,W.jsx)(`div`,{className:`form-group`,children:(0,W.jsxs)(`label`,{className:`checkbox-label`,children:[(0,W.jsx)(`input`,{type:`checkbox`,checked:N.es_contacto_principal,onChange:e=>P({...N,es_contacto_principal:e.target.checked})}),(0,W.jsx)(`span`,{children:`Contacto principal`})]})}),(0,W.jsx)(`button`,{onClick:ce,disabled:T===`agregar-contacto`,className:`btn btn-success`,children:T===`agregar-contacto`?(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(tr,{size:14,className:`spinner`}),`Agregando...`]}):(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(lr,{size:14}),`Agregar Contacto`]})})]}),(0,W.jsxs)(`div`,{className:`list-section`,children:[(0,W.jsxs)(`h4`,{children:[(0,W.jsx)(Er,{size:16}),`Contactos Asociados (`,he(S.ci_proveedor).length,`)`]}),he(S.ci_proveedor).length>0?(0,W.jsx)(`div`,{className:`items-list`,children:he(S.ci_proveedor).map(e=>(0,W.jsxs)(`div`,{className:`item-card`,children:[(0,W.jsxs)(`div`,{className:`item-info`,children:[(0,W.jsxs)(`div`,{className:`item-header`,children:[(0,W.jsx)(`span`,{className:`item-name`,children:e.nombre_contacto}),e.es_contacto_principal&&(0,W.jsx)(`span`,{className:`badge-primary`,children:`Principal`})]}),(0,W.jsxs)(`div`,{className:`item-details`,children:[(0,W.jsx)(`span`,{className:`cargo`,children:e.cargo}),(0,W.jsxs)(`div`,{className:`contact-info`,children:[(0,W.jsxs)(`span`,{className:`phone`,children:[(0,W.jsx)(cr,{size:12}),e.telefono]}),(0,W.jsxs)(`span`,{className:`email`,children:[(0,W.jsx)(rr,{size:12}),e.email]})]})]})]}),(0,W.jsx)(`button`,{onClick:()=>de(e.id_contacto),className:`btn-delete-small`,disabled:T===`delete-contacto-${e.id_contacto}`,children:T===`delete-contacto-${e.id_contacto}`?(0,W.jsx)(tr,{size:12,className:`spinner`}):(0,W.jsx)(xr,{size:12})})]},e.id_contacto))}):(0,W.jsxs)(`div`,{className:`empty-state-small`,children:[(0,W.jsx)(Er,{size:32}),(0,W.jsx)(`p`,{children:`No hay contactos asociados`})]})]})]}),(0,W.jsx)(`div`,{className:`modal-actions`,children:(0,W.jsx)(`button`,{onClick:()=>y(!1),className:`btn btn-cancel`,children:`Cerrar`})})]})}),(0,W.jsx)(`style`,{jsx:!0,children:`
        .container {
          padding: 20px;
          max-width: 1400px;
          margin: 0 auto;
        }

        .page-header {
          margin-bottom: 30px;
        }

        .header-content {
          display: flex;
          justify-content: space-between;
          align-items: flex-start;
          gap: 20px;
        }

        .header-title {
          display: flex;
          align-items: flex-start;
          gap: 16px;
        }

        .header-title h1 {
          font-size: 28px;
          color: #7a3b06;
          margin-bottom: 4px;
          font-weight: 700;
        }

        .header-title p {
          color: #6d4611;
          font-size: 14px;
          opacity: 0.9;
          margin: 0;
        }

        .loading-container {
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          padding: 60px 20px;
          color: #7a3b06;
        }

        .spinner {
          animation: spin 1s linear infinite;
        }

        @keyframes spin {
          from { transform: rotate(0deg); }
          to { transform: rotate(360deg); }
        }

        .alert {
          display: flex;
          align-items: center;
          gap: 12px;
          padding: 12px 16px;
          border-radius: 8px;
          margin-bottom: 20px;
          font-size: 14px;
        }

        .alert.error {
          background-color: #fee;
          border: 1px solid #f5c6cb;
          color: #721c24;
        }

        .alert.success {
          background-color: #f0fff4;
          border: 1px solid #c3e6cb;
          color: #155724;
        }

        .alert-close {
          margin-left: auto;
          background: none;
          border: none;
          cursor: pointer;
          opacity: 0.7;
        }

        .stats-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
          gap: 16px;
          margin-bottom: 24px;
        }

        .stat-card {
          background: white;
          padding: 20px;
          border-radius: 12px;
          border: 1px solid #e9d8b5;
          display: flex;
          align-items: center;
          gap: 16px;
          transition: transform 0.2s;
        }

        .stat-card:hover {
          transform: translateY(-2px);
        }

        .stat-icon {
          padding: 12px;
          border-radius: 8px;
        }

        .stat-icon.primary {
          background: #f8f5ee;
          color: #7a3b06;
        }

        .stat-icon.success {
          background: #e8f5e8;
          color: #28a745;
        }

        .stat-icon.warning {
          background: #fff3cd;
          color: #856404;
        }

        .stat-value {
          font-size: 20px;
          font-weight: 700;
          color: #7a3b06;
        }

        .stat-label {
          font-size: 12px;
          color: #6d4611;
          opacity: 0.8;
        }

        .search-filter-bar {
          background: white;
          padding: 20px;
          border-radius: 12px;
          border: 1px solid #e9d8b5;
          margin-bottom: 24px;
        }

        .search-section {
          display: flex;
          gap: 12px;
          align-items: center;
          flex-wrap: wrap;
        }

        .search-box {
          position: relative;
          flex: 1;
          min-width: 300px;
        }

        .search-box svg {
          position: absolute;
          left: 12px;
          top: 50%;
          transform: translateY(-50%);
          color: #6d4611;
        }

        .search-input {
          width: 100%;
          padding: 12px 12px 12px 40px;
          border: 1px solid #e9d8b5;
          border-radius: 8px;
          font-size: 14px;
        }

        .filter-select {
          padding: 12px;
          border: 1px solid #e9d8b5;
          border-radius: 8px;
          font-size: 14px;
          min-width: 180px;
          background: white;
        }

        .btn {
          display: flex;
          align-items: center;
          gap: 8px;
          padding: 12px 20px;
          border: none;
          border-radius: 8px;
          cursor: pointer;
          font-size: 14px;
          font-weight: 500;
          transition: all 0.2s;
        }

        .btn-primary {
          background-color: #7a3b06;
          color: white;
        }

        .btn-secondary {
          background-color: #6d4611;
          color: white;
        }

        .btn-success {
          background-color: #28a745;
          color: white;
        }

        .btn-cancel {
          background-color: #6c757d;
          color: white;
        }

        .btn-outline {
          background: transparent;
          border: 1px solid #7a3b06;
          color: #7a3b06;
        }

        .btn-outline:hover {
          background: #7a3b06;
          color: white;
        }

        .btn:hover {
          opacity: 0.9;
          transform: translateY(-1px);
        }

        .btn:disabled {
          opacity: 0.6;
          cursor: not-allowed;
          transform: none;
        }

        .action-buttons {
          display: flex;
          gap: 12px;
          margin-bottom: 24px;
        }

        .table-card {
          background: white;
          border-radius: 12px;
          border: 1px solid #e9d8b5;
          overflow: hidden;
        }

        .table-header {
          padding: 20px;
          border-bottom: 1px solid #e9d8b5;
          display: flex;
          align-items: center;
          justify-content: space-between;
          background-color: #f8f5ee;
        }

        .table-title {
          display: flex;
          align-items: center;
          gap: 10px;
        }

        .table-title h2 {
          color: #7a3b06;
          margin: 0;
          font-size: 18px;
        }

        .table-container {
          overflow-x: auto;
        }

        table {
          width: 100%;
          border-collapse: collapse;
          min-width: 1200px;
        }

        th {
          padding: 12px;
          text-align: left;
          border: 1px solid #e9d8b5;
          color: #6d4611;
          font-weight: 600;
          background-color: #f8f5ee;
        }

        td {
          padding: 12px;
          border: 1px solid #e9d8b5;
          color: #6d4611;
        }

        .id-cell {
          font-weight: 600;
          color: #7a3b06;
        }

        .name-cell strong {
          display: block;
          color: #7a3b06;
        }

        .name-cell small {
          color: #6d4611;
          opacity: 0.8;
        }

        .contact-cell, .info-cell, .products-cell {
          font-weight: 500;
        }

        .product-count {
          display: inline-flex;
          align-items: center;
          gap: 4px;
          padding: 4px 8px;
          background: #e8f5e8;
          border-radius: 12px;
          font-size: 12px;
          font-weight: 500;
          color: #28a745;
        }

        .status-badge {
          display: inline-flex;
          align-items: center;
          gap: 4px;
          padding: 4px 8px;
          border-radius: 12px;
          font-size: 12px;
          font-weight: 500;
        }

        .status-badge.activo {
          background: #e8f5e8;
          color: #28a745;
        }

        .status-badge.inactivo {
          background: #f8f9fa;
          color: #6c757d;
        }

        .status-badge.suspendido {
          background: #f8d7da;
          color: #dc3545;
        }

        .actions-cell {
          width: 180px;
        }

        .action-buttons-small {
          display: flex;
          gap: 6px;
          justify-content: center;
        }

        .btn-edit,
        .btn-delete,
        .btn-info,
        .btn-secondary {
          display: flex;
          align-items: center;
          justify-content: center;
          padding: 6px 8px;
          border: none;
          border-radius: 4px;
          cursor: pointer;
          transition: all 0.2s;
        }

        .btn-edit {
          background-color: #ffc107;
          color: #7a3b06;
        }

        .btn-info {
          background-color: #17a2b8;
          color: white;
        }

        .btn-secondary {
          background-color: #6f42c1;
          color: white;
        }

        .btn-delete {
          background-color: #dc3545;
          color: white;
        }

        .btn-edit:hover,
        .btn-info:hover,
        .btn-secondary:hover,
        .btn-delete:hover {
          opacity: 0.8;
        }

        .empty-state {
          padding: 60px 20px;
          text-align: center;
          color: #6d4611;
          opacity: 0.7;
        }

        .empty-state .btn {
          margin-top: 12px;
        }

        .modal-overlay {
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background-color: rgba(0, 0, 0, 0.5);
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 1000;
          padding: 20px;
        }

        .modal {
          background: white;
          border-radius: 12px;
          border: 1px solid #e9d8b5;
          max-width: 600px;
          width: 100%;
          max-height: 90vh;
          overflow-y: auto;
        }

        .modal.large {
          max-width: 800px;
        }

        .modal-header {
          padding: 24px;
          border-bottom: 1px solid #e9d8b5;
          display: flex;
          justify-content: space-between;
          align-items: center;
        }

        .modal-header h3 {
          color: #7a3b06;
          margin: 0;
          font-size: 20px;
          display: flex;
          align-items: center;
          gap: 8px;
        }

        .btn-close {
          background: none;
          border: none;
          cursor: pointer;
          color: #6d4611;
          padding: 5px;
        }

        .modal-content {
          padding: 24px;
        }

        .form-container {
          padding: 24px;
        }

        .form-section {
          margin-bottom: 24px;
        }

        .form-section h4 {
          color: #7a3b06;
          margin-bottom: 16px;
          font-size: 16px;
          border-bottom: 1px solid #e9d8b5;
          padding-bottom: 8px;
          display: flex;
          align-items: center;
          gap: 8px;
        }

        .form-row {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 16px;
          margin-bottom: 16px;
        }

        .form-group {
          margin-bottom: 16px;
        }

        .form-label {
          display: block;
          margin-bottom: 6px;
          color: #6d4611;
          font-weight: 500;
          display: flex;
          align-items: center;
          gap: 5px;
        }

        .form-input {
          width: 100%;
          padding: 10px;
          border: 1px solid #e9d8b5;
          border-radius: 6px;
          font-size: 14px;
          transition: border-color 0.2s;
        }

        .form-input:focus {
          outline: none;
          border-color: #7a3b06;
        }

        .form-input.error {
          border-color: #dc3545;
          background-color: #fff5f5;
        }

        .error-indicator {
          color: #dc3545;
          font-weight: bold;
        }

        .error-message {
          display: flex;
          align-items: center;
          gap: 6px;
          font-size: 12px;
          margin-top: 4px;
          font-weight: 500;
          color: #dc3545;
        }

        .form-actions {
          display: flex;
          gap: 12px;
          margin-top: 24px;
          padding-top: 16px;
          border-top: 1px solid #e9d8b5;
        }

        .checkbox-label {
          display: flex;
          align-items: center;
          gap: 8px;
          cursor: pointer;
          font-size: 14px;
          color: #6d4611;
        }

        .list-section {
          margin-top: 24px;
        }

        .items-list {
          display: flex;
          flex-direction: column;
          gap: 8px;
        }

        .item-card {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 12px;
          border: 1px solid #e9d8b5;
          border-radius: 6px;
          background: white;
        }

        .item-info {
          flex: 1;
        }

        .item-header {
          display: flex;
          align-items: center;
          gap: 8px;
          margin-bottom: 4px;
        }

        .item-name {
          font-weight: 500;
          color: #7a3b06;
        }

        .item-details {
          font-size: 12px;
          color: #6d4611;
          display: flex;
          flex-wrap: wrap;
          gap: 8px;
        }

        .price {
          font-weight: 600;
          color: #28a745;
        }

        .quality.premium {
          color: #ff6b00;
          font-weight: 500;
        }

        .quality.estandar {
          color: #17a2b8;
        }

        .quality.economico {
          color: #6c757d;
        }

        .badge-primary {
          padding: 2px 6px;
          background: #e8f5e8;
          color: #28a745;
          border-radius: 12px;
          font-size: 10px;
          font-weight: 500;
        }

        .contact-info {
          display: flex;
          flex-direction: column;
          gap: 2px;
          margin-top: 4px;
        }

        .phone, .email {
          display: flex;
          align-items: center;
          gap: 4px;
          font-size: 11px;
        }

        .btn-delete-small {
          display: flex;
          align-items: center;
          justify-content: center;
          padding: 6px;
          border: none;
          border-radius: 4px;
          cursor: pointer;
          background-color: #dc3545;
          color: white;
        }

        .empty-state-small {
          padding: 40px 20px;
          text-align: center;
          color: #6d4611;
          opacity: 0.7;
        }

        .modal-actions {
          padding: 16px 24px;
          border-top: 1px solid #e9d8b5;
          display: flex;
          gap: 12px;
        }

        @media (max-width: 768px) {
          .container {
            padding: 16px;
          }
          .header-content {
            flex-direction: column;
            align-items: flex-start;
            gap: 16px;
          }
          .search-section {
            flex-direction: column;
          }
          .search-box {
            min-width: auto;
          }
          .form-row {
            grid-template-columns: 1fr;
          }
          .form-actions {
            flex-direction: column;
          }
          .stats-grid {
            grid-template-columns: 1fr;
          }
          .modal {
            margin: 20px;
          }
          .modal.large {
            max-width: calc(100vw - 40px);
          }
          .action-buttons {
            flex-direction: column;
          }
          .action-buttons .btn {
            justify-content: center;
          }
          .action-buttons-small {
            flex-wrap: wrap;
          }
        }
      `})]})}function el(){let[e,t]=(0,w.useState)([]),[n,r]=(0,w.useState)([]),[i,a]=(0,w.useState)(!0),[o,s]=(0,w.useState)(``),[c,l]=(0,w.useState)(``),[u,d]=(0,w.useState)(!1),[f,p]=(0,w.useState)(null),[m,h]=(0,w.useState)({nombre:``,descripcion:``,precio:``,fecha_vencimiento:``,id_categoriaproducto:``}),[g,_]=(0,w.useState)(``),[v,y]=(0,w.useState)(``),[b,x]=(0,w.useState)(!1);(0,w.useEffect)(()=>{C()},[]);let S=(e,t=`error`)=>{t===`success`?(l(e),setTimeout(()=>l(``),3e3)):(s(e),setTimeout(()=>s(``),5e3))},C=async()=>{try{a(!0);let[e,n]=await Promise.all([Z.from(`productos`).select(`
            *,
            categoria_productos (nombre, tipo)
          `).order(`id_producto`),Z.from(`categoria_productos`).select(`*`).order(`nombre`)]);if(e.error)throw e.error;if(n.error)throw n.error;t(e.data||[]),r(n.data||[])}catch(e){S(`Error al cargar datos: ${e.message}`)}finally{a(!1)}},T=e=>{if(!e.nombre.trim())throw Error(`El nombre del producto es requerido`);if(e.nombre.length>100)throw Error(`El nombre no puede exceder 100 caracteres`);if(!e.precio||parseFloat(e.precio)<=0)throw Error(`El precio debe ser mayor a 0`);if(parseFloat(e.precio)>999999.99)throw Error(`El precio es demasiado alto`);if(!e.id_categoriaproducto)throw Error(`Debe seleccionar una categora`);if(e.fecha_vencimiento&&new Date(e.fecha_vencimiento)<new Date)throw Error(`La fecha de vencimiento no puede ser anterior a hoy`)},E=async e=>{e.preventDefault();try{T(m);let e={nombre:m.nombre.trim(),descripcion:m.descripcion.trim()||null,precio:parseFloat(m.precio),fecha_vencimiento:m.fecha_vencimiento||null,id_categoriaproducto:parseInt(m.id_categoriaproducto)},{error:t}=await Z.from(`productos`).insert([e]);if(t)throw t.code===`23505`?Error(`Ya existe un producto con ese nombre`):t;S(`Producto creado exitosamente`,`success`),A(),await C()}catch(e){S(e.message)}},D=async(e,t)=>{try{T(t);let n={nombre:t.nombre.trim(),descripcion:t.descripcion.trim()||null,precio:parseFloat(t.precio),fecha_vencimiento:t.fecha_vencimiento||null,id_categoriaproducto:parseInt(t.id_categoriaproducto)},{error:r}=await Z.from(`productos`).update(n).eq(`id_producto`,e);if(r)throw r.code===`23505`?Error(`Ya existe un producto con ese nombre`):r;S(`Producto actualizado exitosamente`,`success`),A(),await C()}catch(e){S(e.message)}},O=async e=>{let[t,n]=await Promise.all([Z.from(`inventario`).select(`id_inventario`).eq(`id_producto`,e),Z.from(`pedido_producto`).select(`id_pedido_producto`).eq(`id_producto`,e)]),r=(t.data?.length||0)+(n.data?.length||0);if(r>0){S(`No se puede eliminar. El producto est en uso en ${r} registro(s)`);return}if(window.confirm(`Ests seguro de eliminar este producto?`))try{let{error:t}=await Z.from(`productos`).delete().eq(`id_producto`,e);if(t)throw t;S(`Producto eliminado exitosamente`,`success`),await C()}catch(e){S(`Error eliminando producto: ${e.message}`)}},k=e.filter(e=>{let t=e.nombre.toLowerCase().includes(g.toLowerCase())||e.descripcion&&e.descripcion.toLowerCase().includes(g.toLowerCase()),n=!v||e.id_categoriaproducto===parseInt(v);return t&&n}),A=()=>{h({nombre:``,descripcion:``,precio:``,fecha_vencimiento:``,id_categoriaproducto:``}),p(null),d(!1)},j=e=>new Intl.NumberFormat(`es-BO`,{style:`currency`,currency:`BOB`,minimumFractionDigits:2}).format(e),ee=e=>e?new Date(e).toLocaleDateString(`es-ES`):`-`,M=e=>{if(!e)return null;let t=new Date(e)-new Date;return Math.ceil(t/(1e3*60*60*24))},te=e=>{let t=M(e);return t===null?null:t<0?{text:`Vencido`,style:`badge-danger`}:t<=7?{text:`Vence en ${t} das`,style:`badge-warning`}:t<=30?{text:`Vence en ${t} das`,style:`badge-info`}:null},N={container:{padding:`20px`,maxWidth:`1200px`,margin:`0 auto`},pageHeader:{marginBottom:`30px`},pageHeaderH1:{fontSize:`28px`,color:`#7a3b06`,marginBottom:`8px`,fontWeight:`700`},pageHeaderP:{color:`#6d4611`,fontSize:`14px`,opacity:.9},loadingContainer:{display:`flex`,flexDirection:`column`,alignItems:`center`,justifyContent:`center`,padding:`60px 20px`,color:`#7a3b06`},alert:{display:`flex`,alignItems:`center`,gap:`12px`,padding:`12px 16px`,borderRadius:`8px`,marginBottom:`20px`,fontSize:`14px`},alertError:{backgroundColor:`#fee`,border:`1px solid #f5c6cb`,color:`#721c24`},alertSuccess:{backgroundColor:`#f0fff4`,border:`1px solid #c3e6cb`,color:`#155724`},alertClose:{marginLeft:`auto`,background:`none`,border:`none`,cursor:`pointer`,opacity:.7},searchBar:{display:`flex`,gap:`12px`,marginBottom:`20px`,flexWrap:`wrap`},searchBox:{position:`relative`,flex:`1`,minWidth:`300px`},searchInput:{width:`100%`,padding:`12px 12px 12px 40px`,border:`1px solid #e9d8b5`,borderRadius:`8px`,fontSize:`14px`},filterButton:{display:`flex`,alignItems:`center`,gap:`8px`,padding:`12px 16px`,background:`white`,border:`1px solid #e9d8b5`,borderRadius:`8px`,cursor:`pointer`,fontSize:`14px`},filtersPanel:{background:`white`,padding:`16px`,border:`1px solid #e9d8b5`,borderRadius:`8px`,marginBottom:`20px`},actionButtons:{display:`flex`,gap:`12px`,marginBottom:`20px`,flexWrap:`wrap`},btn:{display:`flex`,alignItems:`center`,gap:`8px`,padding:`12px 20px`,border:`none`,borderRadius:`8px`,cursor:`pointer`,fontSize:`14px`,fontWeight:`500`,transition:`all 0.2s`},btnPrimary:{backgroundColor:`#7a3b06`,color:`white`},btnSuccess:{backgroundColor:`#28a745`,color:`white`},btnCancel:{backgroundColor:`#6c757d`,color:`white`},modalOverlay:{position:`fixed`,top:0,left:0,right:0,bottom:0,backgroundColor:`rgba(0,0,0,0.5)`,display:`flex`,alignItems:`center`,justifyContent:`center`,zIndex:1e3,padding:`20px`},modal:{background:`white`,padding:`24px`,borderRadius:`12px`,border:`1px solid #e9d8b5`,maxWidth:`500px`,width:`100%`,maxHeight:`90vh`,overflowY:`auto`},formGroup:{marginBottom:`16px`},formLabel:{display:`block`,marginBottom:`6px`,color:`#6d4611`,fontWeight:`500`},formInput:{width:`100%`,padding:`10px`,border:`1px solid #e9d8b5`,borderRadius:`6px`,fontSize:`14px`},formSelect:{width:`100%`,padding:`10px`,border:`1px solid #e9d8b5`,borderRadius:`6px`,fontSize:`14px`,background:`white`},formActions:{display:`flex`,gap:`12px`,marginTop:`24px`},tableCard:{background:`white`,borderRadius:`12px`,border:`1px solid #e9d8b5`,overflow:`hidden`},tableHeader:{padding:`20px`,borderBottom:`1px solid #e9d8b5`,display:`flex`,alignItems:`center`,gap:`10px`,backgroundColor:`#f8f5ee`},tableContainer:{overflowX:`auto`},table:{width:`100%`,borderCollapse:`collapse`,minWidth:`800px`},th:{padding:`12px`,textAlign:`left`,border:`1px solid #e9d8b5`,color:`#6d4611`,fontWeight:`600`,backgroundColor:`#f8f5ee`},td:{padding:`12px`,border:`1px solid #e9d8b5`,color:`#6d4611`},idCell:{fontWeight:`600`,color:`#7a3b06`},nameCell:{fontWeight:`500`},descCell:{maxWidth:`200px`,overflow:`hidden`,textOverflow:`ellipsis`,whiteSpace:`nowrap`},priceCell:{textAlign:`right`,fontWeight:`600`},actionsCell:{width:`100px`},actionButtonsSmall:{display:`flex`,gap:`6px`,justifyContent:`center`},btnEdit:{display:`flex`,alignItems:`center`,justifyContent:`center`,padding:`6px 8px`,border:`none`,borderRadius:`4px`,cursor:`pointer`,transition:`all 0.2s`,backgroundColor:`#ffc107`,color:`#7a3b06`},btnDelete:{display:`flex`,alignItems:`center`,justifyContent:`center`,padding:`6px 8px`,border:`none`,borderRadius:`4px`,cursor:`pointer`,transition:`all 0.2s`,backgroundColor:`#dc3545`,color:`white`},badge:{display:`inline-flex`,alignItems:`center`,gap:`4px`,padding:`4px 8px`,borderRadius:`12px`,fontSize:`11px`,fontWeight:`600`},badgeSuccess:{backgroundColor:`#d4edda`,color:`#155724`},badgeWarning:{backgroundColor:`#fff3cd`,color:`#856404`},badgeDanger:{backgroundColor:`#f8d7da`,color:`#721c24`},badgeInfo:{backgroundColor:`#d1ecf1`,color:`#0c5460`},emptyState:{padding:`40px 20px`,textAlign:`center`,color:`#6d4611`,opacity:.7}};return i?(0,W.jsxs)(`div`,{style:N.loadingContainer,children:[(0,W.jsx)(tr,{size:32,style:{animation:`spin 1s linear infinite`}}),(0,W.jsx)(`p`,{children:`Cargando productos...`})]}):(0,W.jsxs)(`div`,{style:N.container,children:[(0,W.jsxs)(`header`,{style:N.pageHeader,children:[(0,W.jsx)(`h1`,{style:N.pageHeaderH1,children:`Gestin de Productos`}),(0,W.jsx)(`p`,{style:N.pageHeaderP,children:`Administra los productos del restaurante`})]}),o&&(0,W.jsxs)(`div`,{style:{...N.alert,...N.alertError},children:[(0,W.jsx)(Cr,{size:20}),(0,W.jsx)(`span`,{children:o}),(0,W.jsx)(`button`,{onClick:()=>s(``),style:N.alertClose,children:(0,W.jsx)(U,{size:16})})]}),c&&(0,W.jsxs)(`div`,{style:{...N.alert,...N.alertSuccess},children:[(0,W.jsx)(Vn,{size:20}),(0,W.jsx)(`span`,{children:c}),(0,W.jsx)(`button`,{onClick:()=>l(``),style:N.alertClose,children:(0,W.jsx)(U,{size:16})})]}),(0,W.jsxs)(`div`,{style:N.searchBar,children:[(0,W.jsxs)(`div`,{style:N.searchBox,children:[(0,W.jsx)(mr,{size:18,style:{position:`absolute`,left:`12px`,top:`50%`,transform:`translateY(-50%)`,color:`#6d4611`}}),(0,W.jsx)(`input`,{type:`text`,placeholder:`Buscar productos...`,value:g,onChange:e=>_(e.target.value),style:N.searchInput})]}),(0,W.jsxs)(`button`,{onClick:()=>x(!b),style:N.filterButton,children:[(0,W.jsx)(Zn,{size:16}),`Filtros`,v&&(0,W.jsx)(`span`,{style:{...N.badge,...N.badgeInfo},children:`1`})]})]}),b&&(0,W.jsx)(`div`,{style:N.filtersPanel,children:(0,W.jsxs)(`div`,{style:{display:`flex`,gap:`16px`,alignItems:`center`,flexWrap:`wrap`},children:[(0,W.jsxs)(`div`,{style:{flex:`1`,minWidth:`200px`},children:[(0,W.jsx)(`label`,{style:N.formLabel,children:`Categora`}),(0,W.jsxs)(`select`,{value:v,onChange:e=>y(e.target.value),style:N.formSelect,children:[(0,W.jsx)(`option`,{value:``,children:`Todas las categoras`}),n.map(e=>(0,W.jsxs)(`option`,{value:e.id_categoriaproducto,children:[e.nombre,` (`,e.tipo,`)`]},e.id_categoriaproducto))]})]}),(0,W.jsxs)(`button`,{onClick:()=>{y(``),_(``)},style:{...N.btn,...N.btnCancel,alignSelf:`flex-end`},children:[(0,W.jsx)(U,{size:16}),`Limpiar`]})]})}),(0,W.jsxs)(`div`,{style:N.actionButtons,children:[(0,W.jsxs)(`button`,{onClick:()=>{A(),d(!0)},style:{...N.btn,...N.btnPrimary},children:[(0,W.jsx)(lr,{size:16}),`Nuevo Producto`]}),(0,W.jsxs)(`div`,{style:{marginLeft:`auto`,display:`flex`,alignItems:`center`,gap:`8px`,color:`#6d4611`,fontSize:`14px`},children:[(0,W.jsx)(sr,{size:16}),k.length,` producto(s) encontrado(s)`]})]}),u&&(0,W.jsx)(`div`,{style:N.modalOverlay,children:(0,W.jsxs)(`div`,{style:N.modal,children:[(0,W.jsx)(`h3`,{style:{color:`#7a3b06`,marginBottom:`20px`,fontSize:`20px`},children:f?`Editar Producto`:`Nuevo Producto`}),(0,W.jsxs)(`form`,{onSubmit:f?e=>{e.preventDefault(),D(f,m)}:E,children:[(0,W.jsxs)(`div`,{style:N.formGroup,children:[(0,W.jsx)(`label`,{style:N.formLabel,children:`Nombre del Producto *`}),(0,W.jsx)(`input`,{type:`text`,value:m.nombre,onChange:e=>h({...m,nombre:e.target.value}),required:!0,maxLength:100,placeholder:`Ej: Lomo Saltado`,style:N.formInput})]}),(0,W.jsxs)(`div`,{style:N.formGroup,children:[(0,W.jsx)(`label`,{style:N.formLabel,children:`Descripcin`}),(0,W.jsx)(`textarea`,{value:m.descripcion,onChange:e=>h({...m,descripcion:e.target.value}),placeholder:`Descripcin del producto...`,rows:`3`,maxLength:200,style:N.formInput})]}),(0,W.jsxs)(`div`,{style:{display:`grid`,gridTemplateColumns:`1fr 1fr`,gap:`16px`},children:[(0,W.jsxs)(`div`,{style:N.formGroup,children:[(0,W.jsx)(`label`,{style:N.formLabel,children:`Precio (BOB) *`}),(0,W.jsx)(`input`,{type:`number`,step:`0.01`,min:`0`,max:`999999.99`,value:m.precio,onChange:e=>h({...m,precio:e.target.value}),required:!0,placeholder:`0.00`,style:N.formInput})]}),(0,W.jsxs)(`div`,{style:N.formGroup,children:[(0,W.jsx)(`label`,{style:N.formLabel,children:`Fecha Vencimiento`}),(0,W.jsx)(`input`,{type:`date`,value:m.fecha_vencimiento,onChange:e=>h({...m,fecha_vencimiento:e.target.value}),style:N.formInput})]})]}),(0,W.jsxs)(`div`,{style:N.formGroup,children:[(0,W.jsx)(`label`,{style:N.formLabel,children:`Categora *`}),(0,W.jsxs)(`select`,{value:m.id_categoriaproducto,onChange:e=>h({...m,id_categoriaproducto:e.target.value}),required:!0,style:N.formSelect,children:[(0,W.jsx)(`option`,{value:``,children:`Seleccionar categora`}),n.map(e=>(0,W.jsxs)(`option`,{value:e.id_categoriaproducto,children:[e.nombre,` (`,e.tipo,`)`]},e.id_categoriaproducto))]})]}),(0,W.jsxs)(`div`,{style:N.formActions,children:[(0,W.jsxs)(`button`,{type:`submit`,style:{...N.btn,...N.btnSuccess},children:[(0,W.jsx)(pr,{size:16}),f?`Actualizar`:`Guardar`]}),(0,W.jsx)(`button`,{type:`button`,onClick:A,style:{...N.btn,...N.btnCancel},children:`Cancelar`})]})]})]})}),(0,W.jsxs)(`div`,{style:N.tableCard,children:[(0,W.jsxs)(`div`,{style:N.tableHeader,children:[(0,W.jsx)(sr,{size:20}),(0,W.jsxs)(`h2`,{style:{color:`#7a3b06`,margin:0,fontSize:`18px`},children:[`Productos (`,k.length,`)`]})]}),(0,W.jsxs)(`div`,{style:N.tableContainer,children:[(0,W.jsxs)(`table`,{style:N.table,children:[(0,W.jsx)(`thead`,{children:(0,W.jsxs)(`tr`,{children:[(0,W.jsx)(`th`,{style:N.th,children:`ID`}),(0,W.jsx)(`th`,{style:N.th,children:`Nombre`}),(0,W.jsx)(`th`,{style:N.th,children:`Descripcin`}),(0,W.jsx)(`th`,{style:N.th,children:`Categora`}),(0,W.jsx)(`th`,{style:N.th,children:`Precio`}),(0,W.jsx)(`th`,{style:N.th,children:`Vencimiento`}),(0,W.jsx)(`th`,{style:N.th,children:`Acciones`})]})}),(0,W.jsx)(`tbody`,{children:k.map(e=>{let t=te(e.fecha_vencimiento);return(0,W.jsxs)(`tr`,{children:[(0,W.jsx)(`td`,{style:{...N.td,...N.idCell},children:e.id_producto}),(0,W.jsx)(`td`,{style:{...N.td,...N.nameCell},children:e.nombre}),(0,W.jsx)(`td`,{style:{...N.td,...N.descCell},title:e.descripcion,children:e.descripcion||`-`}),(0,W.jsx)(`td`,{style:N.td,children:(0,W.jsx)(`span`,{style:{...N.badge,...e.categoria_productos?.tipo===`comida`?N.badgeSuccess:N.badgeInfo},children:e.categoria_productos?.nombre})}),(0,W.jsx)(`td`,{style:{...N.td,...N.priceCell},children:j(e.precio)}),(0,W.jsx)(`td`,{style:N.td,children:(0,W.jsxs)(`div`,{style:{display:`flex`,flexDirection:`column`,gap:`4px`},children:[(0,W.jsx)(`span`,{children:ee(e.fecha_vencimiento)}),t&&(0,W.jsx)(`span`,{style:{...N.badge,...N[t.style]},children:t.text})]})}),(0,W.jsx)(`td`,{style:{...N.td,...N.actionsCell},children:(0,W.jsxs)(`div`,{style:N.actionButtonsSmall,children:[(0,W.jsx)(`button`,{onClick:()=>{h({nombre:e.nombre,descripcion:e.descripcion||``,precio:e.precio.toString(),fecha_vencimiento:e.fecha_vencimiento||``,id_categoriaproducto:e.id_categoriaproducto.toString()}),p(e.id_producto),d(!0)},style:N.btnEdit,title:`Editar producto`,children:(0,W.jsx)(yr,{size:14})}),(0,W.jsx)(`button`,{onClick:()=>O(e.id_producto),style:N.btnDelete,title:`Eliminar producto`,children:(0,W.jsx)(xr,{size:14})})]})})]},e.id_producto)})})]}),k.length===0&&(0,W.jsxs)(`div`,{style:N.emptyState,children:[(0,W.jsx)(sr,{size:32,style:{opacity:.5,marginBottom:`16px`}}),(0,W.jsx)(`p`,{children:`No se encontraron productos`}),g||v?(0,W.jsx)(`p`,{style:{fontSize:`14px`,marginTop:`8px`},children:`Intenta ajustar los filtros de bsqueda`}):(0,W.jsxs)(`button`,{onClick:()=>{A(),d(!0)},style:{...N.btn,...N.btnPrimary,marginTop:`16px`},children:[(0,W.jsx)(lr,{size:16}),`Crear primer producto`]})]})]})]}),(0,W.jsx)(`style`,{children:`
        @keyframes spin {
          from { transform: rotate(0deg); }
          to { transform: rotate(360deg); }
        }
        
        input:focus, textarea:focus, select:focus {
          outline: none;
          border-color: #7a3b06 !important;
        }
        
        .btn:hover {
          opacity: 0.9;
          transform: translateY(-1px);
        }
        
        .btn:disabled {
          opacity: 0.5;
          cursor: not-allowed;
          transform: none;
        }
        
        .btn-edit:hover, .btn-delete:hover {
          opacity: 0.8;
        }
        
        @media (max-width: 768px) {
          .container { padding: 16px; }
          .search-bar { flex-direction: column; }
          .search-box { min-width: 100%; }
          .action-buttons { flex-direction: column; }
          .btn { justify-content: center; }
          .form-actions { flex-direction: column; }
          .modal { margin: 20px; }
        }
      `})]})}function tl(){let[e,t]=(0,w.useState)([]),[n,r]=(0,w.useState)([]),[i,a]=(0,w.useState)([]),[o,s]=(0,w.useState)([]),[c,l]=(0,w.useState)(!0),[u,d]=(0,w.useState)(!1),[f,p]=(0,w.useState)(null),[m,h]=(0,w.useState)(``),[g,_]=(0,w.useState)(``),[v,y]=(0,w.useState)(``),[b,x]=(0,w.useState)(`fecha`),[S,C]=(0,w.useState)(`desc`),[T,E]=(0,w.useState)({}),[D,O]=(0,w.useState)({detalle:``,monto:``,id_sueldo:``}),k=[{id:`sueldos`,nombre:`Sueldos y Salarios`,icon:Dr},{id:`operativos`,nombre:`Gastos Operativos`,icon:Nn},{id:`insumos`,nombre:`Insumos`,icon:kr},{id:`servicios`,nombre:`Servicios`,icon:wr},{id:`otros`,nombre:`Otros Gastos`,icon:Kn}];(0,w.useEffect)(()=>{A()},[]);let A=async()=>{try{l(!0);let[e,n,i,o]=await Promise.all([Z.from(`egresos`).select(`
            *,
            sueldos (
              monto,
              descripcion,
              cargos (
                nombre,
                descripcion
              )
            )
          `).order(`id_egreso`,{ascending:!1}),Z.from(`sueldos`).select(`
            *,
            cargos (
              nombre,
              descripcion
            )
          `),Z.from(`cargos`).select(`*`),Z.from(`empleados`).select(`ci, nombre, pat, mat`)]);if(e.error)throw e.error;if(n.error)throw n.error;if(i.error)throw i.error;if(o.error)throw o.error;t(e.data||[]),r(n.data||[]),a(i.data||[]),s(o.data||[])}catch(e){console.error(`Error cargando datos:`,e),P(`Error al cargar datos: `+e.message,`error`)}finally{l(!1)}},j=()=>{let e={};return D.detalle.trim()?D.detalle.length<3&&(e.detalle=`El detalle debe tener al menos 3 caracteres`):e.detalle=`El detalle es obligatorio`,!D.monto||parseFloat(D.monto)<=0?e.monto=`El monto debe ser mayor a 0`:parseFloat(D.monto)>1e6&&(e.monto=`El monto no puede exceder 1,000,000 Bs`),E(e),Object.keys(e).length===0},ee=async e=>{if(e.preventDefault(),j())try{let e={detalle:D.detalle.trim(),monto:parseFloat(D.monto),id_sueldo:D.id_sueldo||null},t;if(f){let{error:n}=await Z.from(`egresos`).update(e).eq(`id_egreso`,f);t=n}else{let{error:n}=await Z.from(`egresos`).insert([e]);t=n}if(t)throw t;P(f?`Gasto actualizado correctamente`:`Gasto creado correctamente`,`success`),N(),A()}catch(e){console.error(`Error guardando gasto:`,e),P(`Error al guardar gasto: `+e.message,`error`)}},M=async e=>{if(window.confirm(`Ests seguro de eliminar este gasto? Esta accin no se puede deshacer.`))try{let{error:t}=await Z.from(`egresos`).delete().eq(`id_egreso`,e);if(t)throw t;P(`Gasto eliminado correctamente`,`success`),A()}catch(e){console.error(`Error eliminando gasto:`,e),P(`Error al eliminar gasto: `+e.message,`error`)}},te=e=>{O({detalle:e.detalle||``,monto:e.monto||``,id_sueldo:e.id_sueldo||``}),p(e.id_egreso),d(!0),E({})},N=()=>{O({detalle:``,monto:``,id_sueldo:``}),p(null),d(!1),E({})},P=(e,t=`info`)=>{console.log(`${t}: ${e}`),alert(e)},F=[...e.filter(e=>{let t=e.detalle?.toLowerCase().includes(m.toLowerCase())||e.id_egreso?.toString().includes(m),n=!g||g===`sueldos`&&e.id_sueldo||g===`operativos`&&!e.id_sueldo,r=!v||v===`menor100`&&e.monto<100||v===`100-500`&&e.monto>=100&&e.monto<=500||v===`500-1000`&&e.monto>500&&e.monto<=1e3||v===`mayor1000`&&e.monto>1e3;return t&&n&&r})].sort((e,t)=>{let n=e[b],r=t[b];return b===`monto`?(n=parseFloat(n),r=parseFloat(r)):b===`id_egreso`&&(n=parseInt(n),r=parseInt(r)),n<r?S===`asc`?-1:1:n>r?S===`asc`?1:-1:0}),I=e=>{b===e?C(S===`asc`?`desc`:`asc`):(x(e),C(`asc`))},L=e=>{if(e.id_sueldo)return{id:`sueldos`,nombre:`Sueldos y Salarios`,icon:Dr};let t=e.detalle?.toLowerCase()||``;return t.includes(`insumo`)||t.includes(`materia`)||t.includes(`producto`)?{id:`insumos`,nombre:`Insumos`,icon:kr}:t.includes(`servicio`)||t.includes(`agua`)||t.includes(`luz`)||t.includes(`gas`)?{id:`servicios`,nombre:`Servicios`,icon:wr}:t.includes(`operativo`)||t.includes(`administrativo`)?{id:`operativos`,nombre:`Gastos Operativos`,icon:Nn}:{id:`otros`,nombre:`Otros Gastos`,icon:Kn}},ne=()=>e.reduce((e,t)=>e+(t.monto||0),0),R=()=>e.reduce((e,t)=>t.id_sueldo?e+(t.monto||0):e,0),z=()=>e.reduce((e,t)=>t.id_sueldo?e:e+(t.monto||0),0),B=e=>e?n.find(t=>t.id_sueldo===e):null,re=()=>{let e=V(F.map(e=>{let t=L(e),n=B(e.id_sueldo);return{ID:e.id_egreso,Detalle:e.detalle,Monto:e.monto,Categora:t.nombre,"Tipo Gasto":e.id_sueldo?`Sueldo`:`Gasto Operativo`,"Cargo Relacionado":n?.cargos?.nombre||`N/A`,"Descripcin Sueldo":n?.descripcion||`N/A`}})),t=new Blob([e],{type:`text/csv;charset=utf-8;`}),n=URL.createObjectURL(t),r=document.createElement(`a`);r.href=n,r.download=`gastos-${new Date().toISOString().split(`T`)[0]}.csv`,r.click(),URL.revokeObjectURL(n)},V=e=>{if(e.length===0)return``;let t=Object.keys(e[0]);return[t.join(`,`),...e.map(e=>t.map(t=>`"${e[t]}"`).join(`,`))].join(`
`)};return c?(0,W.jsxs)(`div`,{className:`loading-container`,children:[(0,W.jsx)(dr,{className:`loading-spinner`}),(0,W.jsx)(`p`,{children:`Cargando gastos...`})]}):(0,W.jsxs)(`div`,{className:`container`,children:[(0,W.jsxs)(`header`,{className:`page-header`,children:[(0,W.jsxs)(`h1`,{className:`page-title`,children:[(0,W.jsx)(Kn,{className:`icon-title`}),`Gestin de Gastos`]}),(0,W.jsx)(`p`,{className:`page-subtitle`,children:`Administra y controla todos los gastos del restaurante`})]}),(0,W.jsxs)(`div`,{className:`stats-grid`,children:[(0,W.jsxs)(`div`,{className:`stat-card`,children:[(0,W.jsx)(`div`,{className:`stat-icon total`,children:(0,W.jsx)(Kn,{size:24})}),(0,W.jsxs)(`div`,{className:`stat-content`,children:[(0,W.jsx)(`h3`,{className:`stat-value`,children:new Intl.NumberFormat(`es-BO`,{style:`currency`,currency:`BOB`}).format(ne())}),(0,W.jsx)(`p`,{className:`stat-label`,children:`Total Gastos`})]})]}),(0,W.jsxs)(`div`,{className:`stat-card`,children:[(0,W.jsx)(`div`,{className:`stat-icon sueldos`,children:(0,W.jsx)(Dr,{size:24})}),(0,W.jsxs)(`div`,{className:`stat-content`,children:[(0,W.jsx)(`h3`,{className:`stat-value`,children:new Intl.NumberFormat(`es-BO`,{style:`currency`,currency:`BOB`}).format(R())}),(0,W.jsx)(`p`,{className:`stat-label`,children:`Gastos en Sueldos`})]})]}),(0,W.jsxs)(`div`,{className:`stat-card`,children:[(0,W.jsx)(`div`,{className:`stat-icon operativos`,children:(0,W.jsx)(Nn,{size:24})}),(0,W.jsxs)(`div`,{className:`stat-content`,children:[(0,W.jsx)(`h3`,{className:`stat-value`,children:new Intl.NumberFormat(`es-BO`,{style:`currency`,currency:`BOB`}).format(z())}),(0,W.jsx)(`p`,{className:`stat-label`,children:`Gastos Operativos`})]})]}),(0,W.jsxs)(`div`,{className:`stat-card`,children:[(0,W.jsx)(`div`,{className:`stat-icon count`,children:(0,W.jsx)(Zn,{size:24})}),(0,W.jsxs)(`div`,{className:`stat-content`,children:[(0,W.jsx)(`h3`,{className:`stat-value`,children:e.length}),(0,W.jsx)(`p`,{className:`stat-label`,children:`Total Registros`})]})]})]}),(0,W.jsxs)(`div`,{className:`controls-section`,children:[(0,W.jsxs)(`div`,{className:`controls-left`,children:[(0,W.jsxs)(`button`,{className:`btn btn-primary`,onClick:()=>d(!0),children:[(0,W.jsx)(lr,{size:16}),`Nuevo Gasto`]}),(0,W.jsxs)(`button`,{className:`btn btn-secondary`,onClick:re,children:[(0,W.jsx)(qn,{size:16}),`Exportar`]}),(0,W.jsxs)(`button`,{className:`btn btn-outline`,onClick:A,children:[(0,W.jsx)(dr,{size:16}),`Actualizar`]})]}),(0,W.jsx)(`div`,{className:`controls-right`,children:(0,W.jsxs)(`div`,{className:`search-box`,children:[(0,W.jsx)(mr,{size:16,className:`search-icon`}),(0,W.jsx)(`input`,{type:`text`,placeholder:`Buscar por detalle o ID...`,value:m,onChange:e=>h(e.target.value),className:`search-input`})]})})]}),(0,W.jsxs)(`div`,{className:`filters-section`,children:[(0,W.jsxs)(`div`,{className:`filter-group`,children:[(0,W.jsxs)(`label`,{className:`filter-label`,children:[(0,W.jsx)(Zn,{size:14}),`Filtros:`]}),(0,W.jsxs)(`select`,{value:g,onChange:e=>_(e.target.value),className:`filter-select`,children:[(0,W.jsx)(`option`,{value:``,children:`Todas las categoras`}),k.map(e=>(0,W.jsx)(`option`,{value:e.id,children:e.nombre},e.id))]}),(0,W.jsxs)(`select`,{value:v,onChange:e=>y(e.target.value),className:`filter-select`,children:[(0,W.jsx)(`option`,{value:``,children:`Todos los montos`}),(0,W.jsx)(`option`,{value:`menor100`,children:`Menor a 100 Bs`}),(0,W.jsx)(`option`,{value:`100-500`,children:`100 - 500 Bs`}),(0,W.jsx)(`option`,{value:`500-1000`,children:`500 - 1,000 Bs`}),(0,W.jsx)(`option`,{value:`mayor1000`,children:`Mayor a 1,000 Bs`})]})]}),(0,W.jsxs)(`div`,{className:`results-info`,children:[`Mostrando `,F.length,` de `,e.length,` gastos`]})]}),u&&(0,W.jsx)(`div`,{className:`form-overlay`,children:(0,W.jsxs)(`div`,{className:`form-container`,children:[(0,W.jsxs)(`div`,{className:`form-header`,children:[(0,W.jsx)(`h3`,{children:f?`Editar Gasto`:`Nuevo Gasto`}),(0,W.jsx)(`button`,{onClick:N,className:`btn-close`,children:(0,W.jsx)(U,{size:20})})]}),(0,W.jsxs)(`form`,{onSubmit:ee,className:`form-content`,children:[(0,W.jsxs)(`div`,{className:`form-grid`,children:[(0,W.jsxs)(`div`,{className:`form-group`,children:[(0,W.jsxs)(`label`,{className:`form-label`,children:[`Monto (Bs) *`,T.monto&&(0,W.jsx)(`span`,{className:`error-icon`,title:T.monto,children:(0,W.jsx)(Cr,{size:14})})]}),(0,W.jsx)(`input`,{type:`number`,step:`0.01`,min:`0.01`,max:`1000000`,value:D.monto,onChange:e=>O({...D,monto:e.target.value}),className:`form-input ${T.monto?`error`:``}`,placeholder:`0.00`}),T.monto&&(0,W.jsx)(`span`,{className:`error-message`,children:T.monto})]}),(0,W.jsxs)(`div`,{className:`form-group`,children:[(0,W.jsx)(`label`,{className:`form-label`,children:`Relacionar con Sueldo`}),(0,W.jsxs)(`select`,{value:D.id_sueldo,onChange:e=>O({...D,id_sueldo:e.target.value}),className:`form-input`,children:[(0,W.jsx)(`option`,{value:``,children:`Sin relacin con sueldo`}),n.map(e=>(0,W.jsxs)(`option`,{value:e.id_sueldo,children:[e.cargos?.nombre,` - `,new Intl.NumberFormat(`es-BO`,{style:`currency`,currency:`BOB`}).format(e.monto)]},e.id_sueldo))]})]})]}),(0,W.jsxs)(`div`,{className:`form-group`,children:[(0,W.jsxs)(`label`,{className:`form-label`,children:[`Detalle del Gasto *`,T.detalle&&(0,W.jsx)(`span`,{className:`error-icon`,title:T.detalle,children:(0,W.jsx)(Cr,{size:14})})]}),(0,W.jsx)(`textarea`,{value:D.detalle,onChange:e=>O({...D,detalle:e.target.value}),className:`form-input ${T.detalle?`error`:``}`,placeholder:`Describe el gasto realizado...`,rows:`3`,maxLength:`500`}),T.detalle&&(0,W.jsx)(`span`,{className:`error-message`,children:T.detalle}),(0,W.jsxs)(`div`,{className:`char-counter`,children:[D.detalle.length,`/500 caracteres`]})]}),(0,W.jsxs)(`div`,{className:`form-actions`,children:[(0,W.jsxs)(`button`,{type:`submit`,className:`btn btn-success`,children:[(0,W.jsx)(Vn,{size:16}),f?`Actualizar Gasto`:`Guardar Gasto`]}),(0,W.jsxs)(`button`,{type:`button`,onClick:N,className:`btn btn-danger`,children:[(0,W.jsx)(U,{size:16}),`Cancelar`]})]})]})]})}),(0,W.jsxs)(`div`,{className:`table-container`,children:[(0,W.jsx)(`div`,{className:`table-header`,children:(0,W.jsx)(`h2`,{children:`Historial de Gastos`})}),F.length===0?(0,W.jsxs)(`div`,{className:`empty-state`,children:[(0,W.jsx)(Kn,{size:48,className:`empty-icon`}),(0,W.jsx)(`h3`,{children:`No se encontraron gastos`}),(0,W.jsx)(`p`,{children:`No hay gastos que coincidan con los filtros aplicados`}),(0,W.jsxs)(`button`,{className:`btn btn-primary`,onClick:()=>{h(``),_(``),y(``)},children:[(0,W.jsx)(Zn,{size:16}),`Limpiar filtros`]})]}):(0,W.jsx)(`div`,{className:`table-responsive`,children:(0,W.jsxs)(`table`,{className:`data-table`,children:[(0,W.jsx)(`thead`,{children:(0,W.jsxs)(`tr`,{children:[(0,W.jsxs)(`th`,{className:`sortable`,onClick:()=>I(`id_egreso`),children:[`ID `,b===`id_egreso`&&(S===`asc`?``:``)]}),(0,W.jsxs)(`th`,{className:`sortable`,onClick:()=>I(`detalle`),children:[`Detalle `,b===`detalle`&&(S===`asc`?``:``)]}),(0,W.jsx)(`th`,{children:`Categora`}),(0,W.jsxs)(`th`,{className:`sortable`,onClick:()=>I(`monto`),children:[`Monto `,b===`monto`&&(S===`asc`?``:``)]}),(0,W.jsx)(`th`,{children:`Tipo`}),(0,W.jsx)(`th`,{children:`Acciones`})]})}),(0,W.jsx)(`tbody`,{children:F.map(e=>{let t=L(e),n=t.icon,r=B(e.id_sueldo);return(0,W.jsxs)(`tr`,{className:`table-row`,children:[(0,W.jsxs)(`td`,{className:`table-cell id-cell`,children:[`#`,e.id_egreso]}),(0,W.jsx)(`td`,{className:`table-cell detail-cell`,children:e.detalle}),(0,W.jsx)(`td`,{className:`table-cell category-cell`,children:(0,W.jsxs)(`span`,{className:`category-tag`,children:[(0,W.jsx)(n,{size:14}),t.nombre]})}),(0,W.jsx)(`td`,{className:`table-cell amount-cell`,children:(0,W.jsx)(`span`,{className:`amount-badge`,children:new Intl.NumberFormat(`es-BO`,{style:`currency`,currency:`BOB`}).format(e.monto||0)})}),(0,W.jsx)(`td`,{className:`table-cell`,children:e.id_sueldo?(0,W.jsxs)(`span`,{className:`sueldo-tag`,children:[`Sueldo - `,r?.cargos?.nombre||`N/A`]}):(0,W.jsx)(`span`,{className:`gasto-tag`,children:`Gasto Operativo`})}),(0,W.jsx)(`td`,{className:`table-cell actions-cell`,children:(0,W.jsxs)(`div`,{className:`action-buttons`,children:[(0,W.jsx)(`button`,{onClick:()=>te(e),className:`btn-action edit`,title:`Editar gasto`,children:(0,W.jsx)(yr,{size:14})}),(0,W.jsx)(`button`,{onClick:()=>M(e.id_egreso),className:`btn-action delete`,title:`Eliminar gasto`,children:(0,W.jsx)(xr,{size:14})})]})})]},e.id_egreso)})})]})})]}),(0,W.jsx)(`style`,{jsx:!0,children:`
        .container {
          padding: 20px;
          max-width: 1400px;
          margin: 0 auto;
        }

        .page-header {
          margin-bottom: 30px;
        }

        .page-title {
          font-size: 28px;
          color: #7a3b06;
          margin-bottom: 8px;
          display: flex;
          align-items: center;
          gap: 10px;
        }

        .page-subtitle {
          color: #6d4611;
          opacity: 0.8;
          margin: 0;
        }

        .icon-title {
          color: #7a3b06;
        }

        /* Stats Grid */
        .stats-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
          gap: 20px;
          margin-bottom: 30px;
        }

        .stat-card {
          background: white;
          padding: 20px;
          border-radius: 12px;
          border: 1px solid #e9d8b5;
          display: flex;
          align-items: center;
          gap: 15px;
          transition: transform 0.2s, box-shadow 0.2s;
        }

        .stat-card:hover {
          transform: translateY(-2px);
          box-shadow: 0 4px 12px rgba(122, 59, 6, 0.1);
        }

        .stat-icon {
          padding: 12px;
          border-radius: 8px;
          display: flex;
          align-items: center;
          justify-content: center;
        }

        .stat-icon.total {
          background: #e3f2fd;
          color: #1976d2;
        }

        .stat-icon.sueldos {
          background: #e8f5e8;
          color: #2e7d32;
        }

        .stat-icon.operativos {
          background: #fff3e0;
          color: #f57c00;
        }

        .stat-icon.count {
          background: #f3e5f5;
          color: #7b1fa2;
        }

        .stat-content {
          flex: 1;
        }

        .stat-value {
          color: #7a3b06;
          margin: 0 0 5px 0;
          font-size: 18px;
          font-weight: 600;
        }

        .stat-label {
          color: #6d4611;
          font-size: 14px;
          margin: 0;
          opacity: 0.8;
        }

        /* Controls */
        .controls-section {
          display: flex;
          justify-content: between;
          align-items: center;
          gap: 20px;
          margin-bottom: 20px;
          flex-wrap: wrap;
        }

        .controls-left {
          display: flex;
          gap: 10px;
          align-items: center;
          flex-wrap: wrap;
        }

        .controls-right {
          margin-left: auto;
        }

        .btn {
          padding: 10px 16px;
          border: none;
          border-radius: 8px;
          cursor: pointer;
          display: flex;
          align-items: center;
          gap: 8px;
          font-size: 14px;
          font-weight: 500;
          transition: all 0.2s;
        }

        .btn-primary {
          background: #7a3b06;
          color: white;
        }

        .btn-primary:hover {
          background: #6d4611;
          transform: translateY(-1px);
        }

        .btn-secondary {
          background: #6c757d;
          color: white;
        }

        .btn-secondary:hover {
          background: #5a6268;
        }

        .btn-outline {
          background: transparent;
          border: 1px solid #7a3b06;
          color: #7a3b06;
        }

        .btn-outline:hover {
          background: #7a3b06;
          color: white;
        }

        .btn-success {
          background: #28a745;
          color: white;
        }

        .btn-success:hover {
          background: #218838;
        }

        .btn-danger {
          background: #dc3545;
          color: white;
        }

        .btn-danger:hover {
          background: #c82333;
        }

        /* Search */
        .search-box {
          position: relative;
          min-width: 300px;
        }

        .search-input {
          width: 100%;
          padding: 10px 10px 10px 35px;
          border: 1px solid #e9d8b5;
          border-radius: 8px;
          font-size: 14px;
        }

        .search-icon {
          position: absolute;
          left: 10px;
          top: 50%;
          transform: translateY(-50%);
          color: #6d4611;
          opacity: 0.6;
        }

        /* Filters */
        .filters-section {
          display: flex;
          justify-content: between;
          align-items: center;
          gap: 20px;
          margin-bottom: 20px;
          padding: 15px;
          background: #f8f5ee;
          border-radius: 8px;
          flex-wrap: wrap;
        }

        .filter-group {
          display: flex;
          align-items: center;
          gap: 10px;
          flex-wrap: wrap;
        }

        .filter-label {
          color: #6d4611;
          font-weight: 500;
          display: flex;
          align-items: center;
          gap: 5px;
        }

        .filter-select {
          padding: 8px 12px;
          border: 1px solid #e9d8b5;
          border-radius: 6px;
          background: white;
          font-size: 14px;
        }

        .results-info {
          color: #6d4611;
          font-size: 14px;
          margin-left: auto;
        }

        /* Form */
        .form-overlay {
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: rgba(0, 0, 0, 0.5);
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 1000;
          padding: 20px;
        }

        .form-container {
          background: white;
          border-radius: 12px;
          width: 100%;
          max-width: 600px;
          max-height: 90vh;
          overflow-y: auto;
          box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        .form-header {
          padding: 20px;
          border-bottom: 1px solid #e9d8b5;
          display: flex;
          justify-content: between;
          align-items: center;
        }

        .form-header h3 {
          color: #7a3b06;
          margin: 0;
        }

        .btn-close {
          background: none;
          border: none;
          cursor: pointer;
          color: #6d4611;
          padding: 5px;
        }

        .form-content {
          padding: 20px;
        }

        .form-grid {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 15px;
          margin-bottom: 15px;
        }

        .form-group {
          margin-bottom: 15px;
        }

        .form-label {
          display: block;
          margin-bottom: 5px;
          color: #6d4611;
          font-weight: 500;
          display: flex;
          align-items: center;
          gap: 5px;
        }

        .form-input {
          width: 100%;
          padding: 10px;
          border: 1px solid #e9d8b5;
          border-radius: 6px;
          font-size: 14px;
          transition: border-color 0.2s;
        }

        .form-input:focus {
          outline: none;
          border-color: #7a3b06;
        }

        .form-input.error {
          border-color: #dc3545;
        }

        .error-icon {
          color: #dc3545;
        }

        .error-message {
          color: #dc3545;
          font-size: 12px;
          margin-top: 5px;
          display: block;
        }

        .char-counter {
          text-align: right;
          font-size: 12px;
          color: #6d4611;
          opacity: 0.6;
          margin-top: 5px;
        }

        .form-actions {
          display: flex;
          gap: 10px;
          margin-top: 20px;
        }

        /* Table */
        .table-container {
          background: white;
          border-radius: 12px;
          border: 1px solid #e9d8b5;
          overflow: hidden;
        }

        .table-header {
          padding: 20px;
          border-bottom: 1px solid #e9d8b5;
        }

        .table-header h2 {
          color: #7a3b06;
          margin: 0;
        }

        .table-responsive {
          overflow-x: auto;
        }

        .data-table {
          width: 100%;
          border-collapse: collapse;
        }

        .data-table th {
          background: #f8f5ee;
          padding: 12px;
          text-align: left;
          font-weight: 600;
          color: #7a3b06;
          border-bottom: 1px solid #e9d8b5;
        }

        .sortable {
          cursor: pointer;
          user-select: none;
        }

        .sortable:hover {
          background: #e9d8b5;
        }

        .table-cell {
          padding: 12px;
          border-bottom: 1px solid #e9d8b5;
        }

        .table-row:hover {
          background: #f8f5ee;
        }

        .id-cell {
          font-weight: 600;
          color: #7a3b06;
        }

        .detail-cell {
          max-width: 300px;
          word-wrap: break-word;
        }

        .category-cell {
          white-space: nowrap;
        }

        .category-tag {
          background: #e3f2fd;
          color: #1976d2;
          padding: 4px 8px;
          border-radius: 4px;
          font-size: 12px;
          display: flex;
          align-items: center;
          gap: 4px;
        }

        .amount-cell {
          font-weight: 600;
        }

        .amount-badge {
          background: #fff5f5;
          color: #dc3545;
          padding: 4px 8px;
          border-radius: 4px;
          font-size: 14px;
        }

        .sueldo-tag {
          background: #e8f5e8;
          color: #2e7d32;
          padding: 4px 8px;
          border-radius: 4px;
          font-size: 12px;
        }

        .gasto-tag {
          background: #fff3cd;
          color: #856404;
          padding: 4px 8px;
          border-radius: 4px;
          font-size: 12px;
        }

        .actions-cell {
          white-space: nowrap;
        }

        .action-buttons {
          display: flex;
          gap: 5px;
        }

        .btn-action {
          padding: 6px;
          border: none;
          border-radius: 4px;
          cursor: pointer;
          transition: background-color 0.2s;
        }

        .btn-action.edit {
          background: #fff3cd;
          color: #856404;
        }

        .btn-action.edit:hover {
          background: #ffeaa7;
        }

        .btn-action.delete {
          background: #f8d7da;
          color: #721c24;
        }

        .btn-action.delete:hover {
          background: #f1b0b7;
        }

        /* Empty State */
        .empty-state {
          padding: 60px 20px;
          text-align: center;
          color: #6d4611;
        }

        .empty-icon {
          opacity: 0.5;
          margin-bottom: 20px;
        }

        .empty-state h3 {
          margin: 0 0 10px 0;
          color: #7a3b06;
        }

        .empty-state p {
          margin: 0 0 20px 0;
          opacity: 0.7;
        }

        /* Loading */
        .loading-container {
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          padding: 60px 20px;
          color: #7a3b06;
        }

        .loading-spinner {
          animation: spin 1s linear infinite;
          margin-bottom: 15px;
        }

        @keyframes spin {
          from { transform: rotate(0deg); }
          to { transform: rotate(360deg); }
        }

        /* Responsive */
        @media (max-width: 768px) {
          .container {
            padding: 15px;
          }

          .stats-grid {
            grid-template-columns: 1fr;
          }

          .controls-section {
            flex-direction: column;
            align-items: stretch;
          }

          .controls-left {
            justify-content: center;
          }

          .controls-right {
            margin-left: 0;
          }

          .search-box {
            min-width: auto;
          }

          .filters-section {
            flex-direction: column;
            align-items: stretch;
          }

          .filter-group {
            justify-content: center;
          }

          .results-info {
            margin-left: 0;
            text-align: center;
          }

          .form-grid {
            grid-template-columns: 1fr;
          }

          .form-actions {
            flex-direction: column;
          }

          .data-table {
            font-size: 14px;
          }

          .table-cell {
            padding: 8px;
          }
        }

        @media (max-width: 480px) {
          .btn {
            padding: 8px 12px;
            font-size: 12px;
          }

          .page-title {
            font-size: 24px;
          }

          .stat-card {
            padding: 15px;
          }
        }
      `})]})}function nl(){let[e,t]=(0,w.useState)(null),[n,r]=(0,w.useState)(!0);return(0,w.useEffect)(()=>{let e=localStorage.getItem(`empleado`);e&&t(JSON.parse(e)),r(!1)},[]),n?(0,W.jsx)(`div`,{style:{display:`flex`,justifyContent:`center`,alignItems:`center`,height:`100vh`,background:`linear-gradient(135deg, #fef5e6 0%, #f8e1c5 100%)`},children:(0,W.jsx)(`div`,{style:{color:`#7a3b06`,fontSize:`18px`},children:`Cargando...`})}):(0,W.jsx)(W.Fragment,{children:e?(0,W.jsx)(gt,{children:(0,W.jsxs)(mt,{path:`/`,element:(0,W.jsx)(Fr,{onLogout:()=>{localStorage.removeItem(`empleado`),t(null)},empleado:e}),children:[(0,W.jsx)(mt,{index:!0,element:(0,W.jsx)(Vc,{})}),(0,W.jsx)(mt,{path:`roles-cargos`,element:(0,W.jsx)(Hc,{})}),(0,W.jsx)(mt,{path:`sueldos`,element:(0,W.jsx)(Uc,{})}),(0,W.jsx)(mt,{path:`personal`,element:(0,W.jsx)(Gc,{})}),(0,W.jsx)(mt,{path:`inventario`,element:(0,W.jsx)(Kc,{})}),(0,W.jsx)(mt,{path:`mesas`,element:(0,W.jsx)(Yc,{})}),(0,W.jsx)(mt,{path:`pedidos`,element:(0,W.jsx)(Zc,{})}),(0,W.jsx)(mt,{path:`ventas`,element:(0,W.jsx)(Qc,{})}),(0,W.jsx)(mt,{path:`proveedores`,element:(0,W.jsx)($c,{})}),(0,W.jsx)(mt,{path:`productos`,element:(0,W.jsx)(el,{})}),(0,W.jsx)(mt,{path:`gastos`,element:(0,W.jsx)(tl,{})}),(0,W.jsx)(mt,{path:`*`,element:(0,W.jsx)(ft,{to:`/`,replace:!0})})]})}):(0,W.jsx)(Jc,{onLogin:e=>{localStorage.setItem(`empleado`,JSON.stringify(e)),t(e)}})})}var rl=nl;jr.createRoot(document.getElementById(`root`)).render((0,W.jsx)(w.StrictMode,{children:(0,W.jsxs)($t,{children:[` `,(0,W.jsx)(rl,{})]})}));